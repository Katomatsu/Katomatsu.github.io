{"version":3,"file":"quizzes.js","sources":["../../../node_modules/.pnpm/solid-js@1.9.1/node_modules/solid-js/dist/solid.js","../../../node_modules/.pnpm/solid-js@1.9.1/node_modules/solid-js/web/dist/web.js","../../../node_modules/.pnpm/@solid-primitives+scheduled@1.4.3_solid-js@1.9.1/node_modules/@solid-primitives/scheduled/dist/index.js","../src/types/common.ts","../src/constants/common.ts","../src/helpers/getParentTracker.ts","../src/helpers/tracker.ts","../src/helpers/dataLayer.ts","../src/helpers/logger.ts","../src/helpers/useAbortController.ts","../src/types/action.ts","../src/types/visibility.ts","../../../node_modules/.pnpm/solid-js@1.9.1/node_modules/solid-js/store/dist/store.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/stringify.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/rng.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/native.js","../../../node_modules/.pnpm/uuid@10.0.0/node_modules/uuid/dist/esm-browser/v4.js","../src/stores/answers.ts","../src/stores/initial.ts","../src/contexts/app.ts","../src/contexts/styling.ts","../../../node_modules/.pnpm/goober@2.1.15_csstype@3.1.3/node_modules/goober/dist/goober.modern.js","../src/helpers/styledUtils.ts","../src/stores/uatraits.ts","../src/helpers/isMobile.ts","../src/helpers/deepMerge.ts","../src/theme.ts","../src/stores/meta.ts","../src/helpers/theme.ts","../src/components/textField/textField.styles.ts","../src/components/textField/textField.tsx","../src/components/answer/list/freeform.tsx","../src/components/typography/heading/heading.styles.ts","../src/components/typography/heading/heading.tsx","../src/helpers/sanitizeText.ts","../src/components/icon/icon.styles.ts","../src/components/icon/images/checkmark.tsx","../src/components/icon/images/cross.tsx","../src/components/icon/images/downChevron.tsx","../src/components/icon/images/faceSad.tsx","../src/components/icon/images/leftArrow.tsx","../src/components/icon/images/magicSearch.tsx","../src/components/icon/images/picture.tsx","../src/components/icon/images/refresh.tsx","../src/components/icon/images/rightArrow.tsx","../src/components/icon/images/rightChevron.tsx","../src/components/icon/images/sort.tsx","../src/components/icon/icon.tsx","../src/components/typography/caption/caption.styles.ts","../src/components/typography/caption/caption.tsx","../src/components/checkbox/checkbox.styles.ts","../src/components/checkbox/checkbox.tsx","../src/components/option/components/baseOption/baseOption.styles.ts","../src/components/option/components/baseOption/baseOption.tsx","../src/components/option/components/imageOption/imageOption.styles.ts","../src/components/option/components/imageOption/imageOption.tsx","../src/components/option/components/textImageOption/textImageOption.styles.ts","../src/components/option/components/textImageOption/textImageOption.tsx","../src/components/option/option.styles.ts","../src/components/option/option.tsx","../src/types/options.ts","../src/components/options/options.styles.ts","../src/components/options/options.tsx","../src/components/typography/paragraph/paragraph.styles.ts","../src/components/typography/paragraph/paragraph.tsx","../../../node_modules/.pnpm/@solid-primitives+transition-group@1.0.5_solid-js@1.9.1/node_modules/@solid-primitives/transition-group/dist/index.js","../../../node_modules/.pnpm/@solid-primitives+refs@1.0.8_solid-js@1.9.1/node_modules/@solid-primitives/refs/dist/index.js","../../../node_modules/.pnpm/solid-transition-group@0.2.3_solid-js@1.9.1/node_modules/solid-transition-group/dist/index.js","../src/components/radialInput/components/activeOption/activeOption.styles.ts","../src/components/radialInput/components/activeOption/useThrottledOption.ts","../src/components/radialInput/components/activeOption/activeOption.tsx","../src/components/radialInput/utils/getCoords.ts","../src/components/radialInput/components/sectors/sectors.styles.ts","../src/components/radialInput/components/sectors/sectors.tsx","../src/components/radialInput/radialInput.styles.ts","../src/components/radialInput/radialInput.tsx","../src/components/ratingButton/ratingButton.styles.ts","../src/components/ratingButton/ratingButton.tsx","../src/components/ratingInput/ratingInput.styles.ts","../src/components/ratingInput/ratingInput.tsx","../src/components/answer/list/scale.tsx","../src/components/answer/list/single.tsx","../src/components/multipleOptions.tsx","../src/components/answer/list/multiple.tsx","../src/components/answer/answer.tsx","../src/helpers/parseSearchParamsAnswers/parseSearchParamsAnswers.ts","../src/helpers/sanitizeAnswers.ts","../src/stores/predefinedAnswers.ts","../src/stores/answersShaker.ts","../src/helpers/generateHash.ts","../src/stores/integrations.ts","../src/stores/metrics.ts","../src/stores/paywall.ts","../src/stores/screen.ts","../src/stores/system.ts","../src/types/competence.ts","../src/helpers/actions.ts","../src/helpers/maxStepsToFinish.ts","../src/helpers/step/utils.ts","../src/helpers/step/getSkipInfo/getSkipInfo.ts","../src/helpers/step/getNextQuestion/getNextQuestion.ts","../src/helpers/questionMethods/list/freeform.tsx","../src/helpers/questionMethods/list/multiple.tsx","../src/helpers/getOptionNext.ts","../src/helpers/questionMethods/helpers.ts","../src/helpers/questionMethods/list/scale.tsx","../src/helpers/questionMethods/list/single.tsx","../src/helpers/questionMethods/list/system.tsx","../src/helpers/questionMethods/getQuestionMethods.tsx","../src/types/quiz.ts","../src/types/widget.ts","../src/stores/quiz.ts","../../../node_modules/.pnpm/@solid-primitives+i18n@2.1.1_solid-js@1.9.1/node_modules/@solid-primitives/i18n/dist/index.js","../src/helpers/i18n.ts","../src/stores/translations.ts","../../../node_modules/.pnpm/js-cookie@3.0.5/node_modules/js-cookie/dist/js.cookie.mjs","../src/helpers/cookies.ts","../src/helpers/experiments.ts","../src/helpers/token.ts","../src/helpers/api.ts","../src/helpers/loadInitialData.ts","../../../node_modules/.pnpm/fast-deep-equal@3.1.3/node_modules/fast-deep-equal/index.js","../src/helpers/compareInitialData.ts","../src/helpers/locationObserver.ts","../src/helpers/session.ts","../src/helpers/waitForElement.ts","../src/helpers/dom.ts","../../../node_modules/.pnpm/@solid-primitives+fetch@2.4.9_solid-js@1.9.1/node_modules/@solid-primitives/fetch/dist/index.js","../src/helpers/getFullAnswers.ts","../src/helpers/prepareSlugs.ts","../src/helpers/withBaseRetry.ts","../src/stores/preview.ts","../src/stores/question.ts","../src/helpers/stateStores.ts","../src/components/button/button.styles.ts","../src/components/button/button.tsx","../src/helpers/useTranslations.ts","../src/components/image/image.styles.ts","../src/components/image/image.tsx","../src/helpers/options.ts","../src/helpers/useGetWidthMode.ts","../src/widgets/inlineStartQuestion/components/layout/layout.styles.ts","../src/widgets/inlineStartQuestion/components/layout/layout.tsx","../src/widgets/inlineStartQuestion/constants.ts","../src/stores/experiments.ts","../src/helpers/paywall.ts","../src/helpers/step/goFinish.ts","../src/helpers/step/goNext.ts","../src/widgets/inlineStartQuestion/helpers/initWidget.ts","../src/helpers/showQuiz.ts","../src/widgets/inlineStartQuestion/helpers/selectAnswer.ts","../src/widgets/inlineStartQuestion/inlineStartQuestion.styles.ts","../src/widgets/inlineStartQuestion/inlineStartQuestion.tsx","../src/contexts/viewSettings.tsx","../src/components/layouts/common/inline.tsx","../src/components/fullscreenPositioner/fullscreenPositioner.styles.ts","../src/components/fullscreenPositioner/fullscreenPositioner.tsx","../src/components/simpleCloseButton/simpleCloseButton.styles.ts","../src/components/simpleCloseButton/simpleCloseButton.tsx","../src/components/layouts/mobile/fittedOverlap/fittedOverlap.styles.ts","../src/components/layouts/mobile/fittedOverlap/fittedOverlap.tsx","../src/helpers/useGetIsCompact.ts","../src/helpers/startQuiz.ts","../src/stores/useResizeReset.ts","../src/widgets/survey/components/container/container.styles.ts","../src/widgets/survey/components/container/container.tsx","../src/helpers/calcPopupPlacementStyles.ts","../src/components/popupPositioner/popupPositioner.styles.ts","../src/components/popupPositioner/popupPositioner.tsx","../src/widgets/survey/constants.ts","../src/widgets/survey/components/popup/popup.styles.ts","../src/widgets/survey/components/popup/popup.tsx","../src/widgets/survey/components/cornerPopup.tsx","../src/widgets/survey/components/inlinePopup.tsx","../src/widgets/survey/components/navigableForm/components/body/body.styles.ts","../src/widgets/survey/components/navigableForm/components/body/body.tsx","../src/components/logo/maestra.tsx","../src/components/logo/mindbox.tsx","../src/components/poweredBy/poweredBy.styles.ts","../src/components/poweredBy/poweredBy.tsx","../src/components/progressBar/progressBar.styles.ts","../src/components/progressBar/progressBar.tsx","../src/helpers/isPoweredByEnabled.ts","../src/widgets/survey/components/navigableForm/components/container/container.styles.ts","../src/widgets/survey/components/navigableForm/components/container/container.tsx","../src/widgets/survey/components/navigableForm/components/description/description.styles.ts","../src/widgets/survey/components/navigableForm/components/description/description.tsx","../src/widgets/survey/components/navigableForm/components/navs/navs.styles.ts","../src/widgets/survey/components/navigableForm/components/navs/navs.tsx","../src/widgets/survey/components/navigableForm/components/title/title.styles.ts","../src/widgets/survey/components/navigableForm/components/title/title.tsx","../src/widgets/survey/components/navigableForm/navigableForm.ts","../src/widgets/survey/helpers/initScreen.ts","../src/widgets/survey/helpers/useClose.ts","../src/helpers/phones.ts","../src/components/leadForm/helpers.ts","../src/components/leadForm/components/form.tsx","../src/components/leadForm/components/checkboxesFields/checkboxesFields.styles.ts","../src/components/leadForm/components/checkboxesFields/checkboxesFields.tsx","../../../node_modules/.pnpm/@solid-primitives+input-mask@0.2.2_solid-js@1.9.1/node_modules/@solid-primitives/input-mask/dist/index.js","../src/components/dropdown/components/option/item/item.styles.ts","../src/components/dropdown/components/option/item/item.tsx","../src/directives/clickOutside.ts","../src/components/dropdown/components/option/menu/menu.styles.ts","../src/components/dropdown/components/option/menu/menu.tsx","../src/components/dropdown/index.ts","../src/helpers/getCountryFlagEmoji.ts","../src/components/phoneField/helpers.ts","../src/components/phoneField/phoneField.styles.ts","../src/components/phoneField/phoneField.tsx","../src/components/leadForm/components/fields/fields.styles.ts","../src/components/leadForm/components/fields/fields.tsx","../src/components/leadForm/leadForm.tsx","../src/helpers/step/getPrevQuestions/getPrevQuestion.ts","../src/helpers/step/goPrev.ts","../src/widgets/survey/helpers/goLast.ts","../src/widgets/survey/screens/lead/lead.styles.ts","../src/widgets/survey/screens/lead/lead.tsx","../src/components/questionTransition/questionTransition.styles.ts","../src/components/questionTransition/questionTransition.tsx","../src/helpers/answer.ts","../src/helpers/getQuestionContinueLabel.ts","../src/helpers/step/goNextAfterQuestionConfirm.ts","../src/helpers/step/isStartQuestion.ts","../src/widgets/survey/screens/quiz/quiz.tsx","../src/components/preloader/preloader.styles.ts","../src/components/preloader/preloader.tsx","../src/components/statusBlock/statusBlock.styles.ts","../src/components/statusBlock/statusBlock.tsx","../src/components/statusIcon/statusIcon.styles.ts","../src/components/statusIcon/statusIcon.tsx","../src/helpers/trackFinalBtnClicked.ts","../src/types/finals.ts","../src/components/thanksSheet/thanksSheet.styles.ts","../src/components/thanksSheet/thanksSheet.tsx","../src/helpers/observer.ts","../src/helpers/externalCommands/helpers/buildMeta.ts","../src/helpers/externalCommands/helpers/withSafe.ts","../src/helpers/externalCommands/commands/onComplete.ts","../src/helpers/trackComplete.ts","../src/stores/createComplete.ts","../src/stores/surveyComplete.ts","../src/widgets/survey/screens/thanks.tsx","../src/widgets/survey/survey.tsx","../src/widgets/twoSides/constants.ts","../src/widgets/twoSides/helpers/initScreen.ts","../src/widgets/twoSides/hooks/useGoPromo.ts","../src/components/layouts/desktop/popup/popup.styles.ts","../src/components/layouts/desktop/popup/popup.tsx","../src/helpers/goMinimalOrReset.ts","../src/helpers/useClose.ts","../src/helpers/desktop.ts","../src/widgets/twoSides/components/popup/popup.styles.ts","../src/widgets/twoSides/components/popup/popup.tsx","../src/components/iconButton/iconButton.styles.ts","../src/components/iconButton/iconButton.tsx","../src/components/sheet/contexts/sheet.tsx","../src/components/sheet/components/bottom/bottom.styles.ts","../src/components/sheet/components/bottom/bottom.tsx","../src/components/sheet/components/overlay/overlay.styles.ts","../src/components/sheet/components/overlay/overlay.tsx","../src/components/sheet/components/container/container.styles.ts","../src/components/sheet/components/container/container.tsx","../src/components/sheet/components/content/content.styles.ts","../src/components/sheet/components/content/content.tsx","../src/components/sheet/components/header/header.styles.ts","../src/components/sheet/components/header/header.tsx","../src/components/sheet/components/singleControl/singleControl.styles.ts","../src/components/sheet/components/singleControl/singleControl.tsx","../src/components/sheet/index.ts","../src/widgets/twoSides/screens/final/components/leadgenFinalSheet/leadgenFinalSheet.styles.ts","../src/widgets/twoSides/screens/final/components/leadgenFinalSheet/leadgenFinalSheet.tsx","../src/widgets/twoSides/screens/final/desktop/quizTypes/leadgen.tsx","../src/helpers/step/goRestart.ts","../src/types/suggestions.ts","../src/helpers/suggestions.ts","../src/stores/matcherComplete.ts","../src/components/suggestionsSheet/components/empty/empty.styles.ts","../src/components/suggestionsSheet/components/empty/empty.tsx","../src/components/sort/sort.styles.ts","../src/components/sort/sort.tsx","../src/components/suggestionItem/suggestionItem.styles.ts","../src/components/suggestionItem/suggestionItem.tsx","../src/components/suggestionsSheet/components/list/types.ts","../src/components/suggestionsSheet/components/list/list.styles.ts","../src/components/suggestionsSheet/components/list/list.tsx","../src/components/suggestionsSheet/components/preloader/preloader.styles.ts","../src/components/suggestionsSheet/components/preloader/preloader.tsx","../src/components/suggestionsSheet/index.ts","../src/helpers/mobile.ts","../src/components/dialog/components/body/body.styles.ts","../src/components/dialog/components/body/body.tsx","../src/components/dialog/components/footer/footer.styles.ts","../src/components/dialog/components/footer/footer.tsx","../src/components/dialog/components/header.tsx","../src/components/dialog/dialog.tsx","../src/widgets/twoSides/components/leadForm/leadForm.styles.ts","../src/widgets/twoSides/components/leadForm/leadForm.tsx","../src/widgets/twoSides/screens/final/components/leadCollector/leadCollector.styles.ts","../src/widgets/twoSides/screens/final/components/leadCollector/popup/popup.styles.ts","../src/widgets/twoSides/screens/final/components/leadCollector/popup/popup.tsx","../src/widgets/twoSides/screens/final/components/leadCollector/leadCollector.tsx","../src/widgets/twoSides/screens/final/components/matcherFinalSheet/matcherFinalSheet.styles.ts","../src/widgets/twoSides/screens/final/components/matcherFinalSheet/matcherFinalSheet.tsx","../src/widgets/twoSides/screens/final/helpers.ts","../src/widgets/twoSides/screens/final/desktop/quizTypes/matcher.tsx","../src/widgets/twoSides/screens/final/desktop/final.tsx","../src/components/layouts/mobile/fixedHeight/fixedHeight.styles.ts","../src/components/layouts/mobile/fixedHeight/fixedHeight.tsx","../src/components/layouts/mobile/fullscreen/fullscreen.styles.ts","../src/components/layouts/mobile/fullscreen/fullscreen.tsx","../src/widgets/twoSides/screens/final/mobile/quizTypes/leadgen.tsx","../src/widgets/twoSides/screens/final/mobile/quizTypes/matcher.tsx","../src/widgets/twoSides/screens/final/mobile/final.tsx","../src/widgets/twoSides/screens/lead/components/leadSheet/leadSheet.styles.ts","../src/widgets/twoSides/screens/lead/components/leadSheet/leadSheet.tsx","../src/widgets/twoSides/screens/lead/desktop/lead.styles.ts","../src/widgets/twoSides/screens/lead/desktop/lead.tsx","../src/widgets/twoSides/screens/lead/mobile/lead.tsx","../src/components/startButton/startButton.styles.ts","../src/components/startButton/startButton.tsx","../src/helpers/calcPlacementStyles.ts","../src/components/cornerPositioner/cornerPositioner.styles.ts","../src/components/cornerPositioner/cornerPositioner.tsx","../src/widgets/twoSides/components/cornerLayout.tsx","../src/widgets/twoSides/screens/minimal/hooks/useCommonHandlers.ts","../src/widgets/twoSides/screens/minimal/desktop/minimal.tsx","../src/widgets/twoSides/components/bottomPositioner/bottomPositioner.styles.ts","../src/widgets/twoSides/components/bottomPositioner/bottomPositioner.tsx","../src/widgets/twoSides/screens/minimal/mobile/minimal.styles.ts","../src/widgets/twoSides/screens/minimal/mobile/minimal.tsx","../src/widgets/twoSides/screens/promo/helpers/selectAnswer.ts","../src/widgets/twoSides/screens/promo/hooks/useCommonHandlers.ts","../src/widgets/twoSides/screens/promo/desktop/promo.styles.ts","../src/widgets/twoSides/screens/promo/desktop/promo.tsx","../src/widgets/twoSides/screens/promo/mobile/components/optionsContainer/optionsContainer.styles.ts","../src/widgets/twoSides/screens/promo/mobile/components/optionsContainer/optionsContainer.tsx","../src/widgets/twoSides/screens/promo/mobile/promo.styles.ts","../src/widgets/twoSides/screens/promo/mobile/promo.tsx","../src/components/centeredPreloader/centeredPreloader.styles.ts","../src/components/centeredPreloader/centeredPreloader.tsx","../src/widgets/twoSides/screens/quiz/helpers.ts","../src/widgets/twoSides/screens/quiz/desktop/quiz.styles.ts","../src/widgets/twoSides/screens/quiz/desktop/quiz.tsx","../src/components/layouts/mobile/overlap/overlap.styles.ts","../src/components/layouts/mobile/overlap/overlap.tsx","../src/widgets/twoSides/screens/quiz/mobile/components/preview/preview.styles.ts","../src/widgets/twoSides/screens/quiz/mobile/components/preview/preview.tsx","../src/widgets/twoSides/screens/quiz/mobile/components/previewTooltip/previewTooltip.styles.ts","../src/widgets/twoSides/screens/quiz/mobile/components/previewTooltip/previewTooltip.tsx","../src/widgets/twoSides/screens/quiz/mobile/quiz.styles.ts","../src/widgets/twoSides/screens/quiz/mobile/quiz.tsx","../src/widgets/twoSides/twoSides.tsx","../src/app.tsx","../src/helpers/dataStores.ts","../src/renderApp.tsx","../src/helpers/externalCommands/commands/onReadyToShow.ts","../src/helpers/externalCommands/commands/destroy.ts","../src/helpers/externalCommands/commands/show.ts","../src/helpers/externalCommands/execute.ts","../src/helpers/WizardsRenderer.ts","../src/helpers/tasks.ts","../src/helpers/externalCommands/reset.ts","../src/helpers/taskExecutor.ts","../src/main.ts"],"sourcesContent":["let taskIdCounter = 1,\n  isCallbackScheduled = false,\n  isPerformingWork = false,\n  taskQueue = [],\n  currentTask = null,\n  shouldYieldToHost = null,\n  yieldInterval = 5,\n  deadline = 0,\n  maxYieldInterval = 300,\n  scheduleCallback = null,\n  scheduledCallback = null;\nconst maxSigned31BitInt = 1073741823;\nfunction setupScheduler() {\n  const channel = new MessageChannel(),\n    port = channel.port2;\n  scheduleCallback = () => port.postMessage(null);\n  channel.port1.onmessage = () => {\n    if (scheduledCallback !== null) {\n      const currentTime = performance.now();\n      deadline = currentTime + yieldInterval;\n      const hasTimeRemaining = true;\n      try {\n        const hasMoreWork = scheduledCallback(hasTimeRemaining, currentTime);\n        if (!hasMoreWork) {\n          scheduledCallback = null;\n        } else port.postMessage(null);\n      } catch (error) {\n        port.postMessage(null);\n        throw error;\n      }\n    }\n  };\n  if (navigator && navigator.scheduling && navigator.scheduling.isInputPending) {\n    const scheduling = navigator.scheduling;\n    shouldYieldToHost = () => {\n      const currentTime = performance.now();\n      if (currentTime >= deadline) {\n        if (scheduling.isInputPending()) {\n          return true;\n        }\n        return currentTime >= maxYieldInterval;\n      } else {\n        return false;\n      }\n    };\n  } else {\n    shouldYieldToHost = () => performance.now() >= deadline;\n  }\n}\nfunction enqueue(taskQueue, task) {\n  function findIndex() {\n    let m = 0;\n    let n = taskQueue.length - 1;\n    while (m <= n) {\n      const k = (n + m) >> 1;\n      const cmp = task.expirationTime - taskQueue[k].expirationTime;\n      if (cmp > 0) m = k + 1;\n      else if (cmp < 0) n = k - 1;\n      else return k;\n    }\n    return m;\n  }\n  taskQueue.splice(findIndex(), 0, task);\n}\nfunction requestCallback(fn, options) {\n  if (!scheduleCallback) setupScheduler();\n  let startTime = performance.now(),\n    timeout = maxSigned31BitInt;\n  if (options && options.timeout) timeout = options.timeout;\n  const newTask = {\n    id: taskIdCounter++,\n    fn,\n    startTime,\n    expirationTime: startTime + timeout\n  };\n  enqueue(taskQueue, newTask);\n  if (!isCallbackScheduled && !isPerformingWork) {\n    isCallbackScheduled = true;\n    scheduledCallback = flushWork;\n    scheduleCallback();\n  }\n  return newTask;\n}\nfunction cancelCallback(task) {\n  task.fn = null;\n}\nfunction flushWork(hasTimeRemaining, initialTime) {\n  isCallbackScheduled = false;\n  isPerformingWork = true;\n  try {\n    return workLoop(hasTimeRemaining, initialTime);\n  } finally {\n    currentTask = null;\n    isPerformingWork = false;\n  }\n}\nfunction workLoop(hasTimeRemaining, initialTime) {\n  let currentTime = initialTime;\n  currentTask = taskQueue[0] || null;\n  while (currentTask !== null) {\n    if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || shouldYieldToHost())) {\n      break;\n    }\n    const callback = currentTask.fn;\n    if (callback !== null) {\n      currentTask.fn = null;\n      const didUserCallbackTimeout = currentTask.expirationTime <= currentTime;\n      callback(didUserCallbackTimeout);\n      currentTime = performance.now();\n      if (currentTask === taskQueue[0]) {\n        taskQueue.shift();\n      }\n    } else taskQueue.shift();\n    currentTask = taskQueue[0] || null;\n  }\n  return currentTask !== null;\n}\n\nconst sharedConfig = {\n  context: undefined,\n  registry: undefined,\n  effects: undefined,\n  done: false,\n  getContextId() {\n    return getContextId(this.context.count);\n  },\n  getNextContextId() {\n    return getContextId(this.context.count++);\n  }\n};\nfunction getContextId(count) {\n  const num = String(count),\n    len = num.length - 1;\n  return sharedConfig.context.id + (len ? String.fromCharCode(96 + len) : \"\") + num;\n}\nfunction setHydrateContext(context) {\n  sharedConfig.context = context;\n}\nfunction nextHydrateContext() {\n  return {\n    ...sharedConfig.context,\n    id: sharedConfig.getNextContextId(),\n    count: 0\n  };\n}\n\nconst equalFn = (a, b) => a === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst SUPPORTS_PROXY = typeof Proxy === \"function\";\nconst $TRACK = Symbol(\"solid-track\");\nconst $DEVCOMP = Symbol(\"solid-dev-component\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet ERROR = null;\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nconst NO_INIT = {};\nvar Owner = null;\nlet Transition = null;\nlet Scheduler = null;\nlet ExternalSourceConfig = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener,\n    owner = Owner,\n    unowned = fn.length === 0,\n    current = detachedOwner === undefined ? owner : detachedOwner,\n    root = unowned\n      ? UNOWNED\n      : {\n          owned: null,\n          cleanups: null,\n          context: current ? current.context : null,\n          owner: current\n        },\n    updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || undefined\n  };\n  const setter = value => {\n    if (typeof value === \"function\") {\n      if (Transition && Transition.running && Transition.sources.has(s)) value = value(s.tValue);\n      else value = value(s.value);\n    }\n    return writeSignal(s, value);\n  };\n  return [readSignal.bind(s), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c = createComputation(fn, value, true, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);\n  else updateComputation(c);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c = createComputation(fn, value, false, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);\n  else updateComputation(c);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c = createComputation(fn, value, false, STALE),\n    s = SuspenseContext && useContext(SuspenseContext);\n  if (s) c.suspense = s;\n  if (!options || !options.render) c.user = true;\n  Effects ? Effects.push(c) : updateComputation(c);\n}\nfunction createReaction(onInvalidate, options) {\n  let fn;\n  const c = createComputation(\n      () => {\n        fn ? fn() : untrack(onInvalidate);\n        fn = undefined;\n      },\n      undefined,\n      false,\n      0\n    ),\n    s = SuspenseContext && useContext(SuspenseContext);\n  if (s) c.suspense = s;\n  c.user = true;\n  return tracking => {\n    fn = tracking;\n    updateComputation(c);\n  };\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c = createComputation(fn, value, true, 0);\n  c.observers = null;\n  c.observerSlots = null;\n  c.comparator = options.equals || undefined;\n  if (Scheduler && Transition && Transition.running) {\n    c.tState = STALE;\n    Updates.push(c);\n  } else updateComputation(c);\n  return readSignal.bind(c);\n}\nfunction isPromise(v) {\n  return v && typeof v === \"object\" && \"then\" in v;\n}\nfunction createResource(pSource, pFetcher, pOptions) {\n  let source;\n  let fetcher;\n  let options;\n  if ((arguments.length === 2 && typeof pFetcher === \"object\") || arguments.length === 1) {\n    source = true;\n    fetcher = pSource;\n    options = pFetcher || {};\n  } else {\n    source = pSource;\n    fetcher = pFetcher;\n    options = pOptions || {};\n  }\n  let pr = null,\n    initP = NO_INIT,\n    id = null,\n    loadedUnderTransition = false,\n    scheduled = false,\n    resolved = \"initialValue\" in options,\n    dynamic = typeof source === \"function\" && createMemo(source);\n  const contexts = new Set(),\n    [value, setValue] = (options.storage || createSignal)(options.initialValue),\n    [error, setError] = createSignal(undefined),\n    [track, trigger] = createSignal(undefined, {\n      equals: false\n    }),\n    [state, setState] = createSignal(resolved ? \"ready\" : \"unresolved\");\n  if (sharedConfig.context) {\n    id = sharedConfig.getNextContextId();\n    if (options.ssrLoadFrom === \"initial\") initP = options.initialValue;\n    else if (sharedConfig.load && sharedConfig.has(id)) initP = sharedConfig.load(id);\n  }\n  function loadEnd(p, v, error, key) {\n    if (pr === p) {\n      pr = null;\n      key !== undefined && (resolved = true);\n      if ((p === initP || v === initP) && options.onHydrated)\n        queueMicrotask(() =>\n          options.onHydrated(key, {\n            value: v\n          })\n        );\n      initP = NO_INIT;\n      if (Transition && p && loadedUnderTransition) {\n        Transition.promises.delete(p);\n        loadedUnderTransition = false;\n        runUpdates(() => {\n          Transition.running = true;\n          completeLoad(v, error);\n        }, false);\n      } else completeLoad(v, error);\n    }\n    return v;\n  }\n  function completeLoad(v, err) {\n    runUpdates(() => {\n      if (err === undefined) setValue(() => v);\n      setState(err !== undefined ? \"errored\" : resolved ? \"ready\" : \"unresolved\");\n      setError(err);\n      for (const c of contexts.keys()) c.decrement();\n      contexts.clear();\n    }, false);\n  }\n  function read() {\n    const c = SuspenseContext && useContext(SuspenseContext),\n      v = value(),\n      err = error();\n    if (err !== undefined && !pr) throw err;\n    if (Listener && !Listener.user && c) {\n      createComputed(() => {\n        track();\n        if (pr) {\n          if (c.resolved && Transition && loadedUnderTransition) Transition.promises.add(pr);\n          else if (!contexts.has(c)) {\n            c.increment();\n            contexts.add(c);\n          }\n        }\n      });\n    }\n    return v;\n  }\n  function load(refetching = true) {\n    if (refetching !== false && scheduled) return;\n    scheduled = false;\n    const lookup = dynamic ? dynamic() : source;\n    loadedUnderTransition = Transition && Transition.running;\n    if (lookup == null || lookup === false) {\n      loadEnd(pr, untrack(value));\n      return;\n    }\n    if (Transition && pr) Transition.promises.delete(pr);\n    const p =\n      initP !== NO_INIT\n        ? initP\n        : untrack(() =>\n            fetcher(lookup, {\n              value: value(),\n              refetching\n            })\n          );\n    if (!isPromise(p)) {\n      loadEnd(pr, p, undefined, lookup);\n      return p;\n    }\n    pr = p;\n    if (\"value\" in p) {\n      if (p.status === \"success\") loadEnd(pr, p.value, undefined, lookup);\n      else loadEnd(pr, undefined, castError(p.value), lookup);\n      return p;\n    }\n    scheduled = true;\n    queueMicrotask(() => (scheduled = false));\n    runUpdates(() => {\n      setState(resolved ? \"refreshing\" : \"pending\");\n      trigger();\n    }, false);\n    return p.then(\n      v => loadEnd(p, v, undefined, lookup),\n      e => loadEnd(p, undefined, castError(e), lookup)\n    );\n  }\n  Object.defineProperties(read, {\n    state: {\n      get: () => state()\n    },\n    error: {\n      get: () => error()\n    },\n    loading: {\n      get() {\n        const s = state();\n        return s === \"pending\" || s === \"refreshing\";\n      }\n    },\n    latest: {\n      get() {\n        if (!resolved) return read();\n        const err = error();\n        if (err && !pr) throw err;\n        return value();\n      }\n    }\n  });\n  if (dynamic) createComputed(() => load(false));\n  else load(false);\n  return [\n    read,\n    {\n      refetch: load,\n      mutate: setValue\n    }\n  ];\n}\nfunction createDeferred(source, options) {\n  let t,\n    timeout = options ? options.timeoutMs : undefined;\n  const node = createComputation(\n    () => {\n      if (!t || !t.fn)\n        t = requestCallback(\n          () => setDeferred(() => node.value),\n          timeout !== undefined\n            ? {\n                timeout\n              }\n            : undefined\n        );\n      return source();\n    },\n    undefined,\n    true\n  );\n  const [deferred, setDeferred] = createSignal(\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value,\n    options\n  );\n  updateComputation(node);\n  setDeferred(() =>\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value\n  );\n  return deferred;\n}\nfunction createSelector(source, fn = equalFn, options) {\n  const subs = new Map();\n  const node = createComputation(\n    p => {\n      const v = source();\n      for (const [key, val] of subs.entries())\n        if (fn(key, v) !== fn(key, p)) {\n          for (const c of val.values()) {\n            c.state = STALE;\n            if (c.pure) Updates.push(c);\n            else Effects.push(c);\n          }\n        }\n      return v;\n    },\n    undefined,\n    true,\n    STALE\n  );\n  updateComputation(node);\n  return key => {\n    const listener = Listener;\n    if (listener) {\n      let l;\n      if ((l = subs.get(key))) l.add(listener);\n      else subs.set(key, (l = new Set([listener])));\n      onCleanup(() => {\n        l.delete(listener);\n        !l.size && subs.delete(key);\n      });\n    }\n    return fn(\n      key,\n      Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value\n    );\n  };\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (!ExternalSourceConfig && Listener === null) return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    if (ExternalSourceConfig) return ExternalSourceConfig.untrack(fn);\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction on(deps, fn, options) {\n  const isArray = Array.isArray(deps);\n  let prevInput;\n  let defer = options && options.defer;\n  return prevValue => {\n    let input;\n    if (isArray) {\n      input = Array(deps.length);\n      for (let i = 0; i < deps.length; i++) input[i] = deps[i]();\n    } else input = deps();\n    if (defer) {\n      defer = false;\n      return prevValue;\n    }\n    const result = untrack(() => fn(input, prevInput, prevValue));\n    prevInput = input;\n    return result;\n  };\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null);\n  else if (Owner.cleanups === null) Owner.cleanups = [fn];\n  else Owner.cleanups.push(fn);\n  return fn;\n}\nfunction catchError(fn, handler) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  Owner = createComputation(undefined, undefined, true);\n  Owner.context = {\n    ...Owner.context,\n    [ERROR]: [handler]\n  };\n  if (Transition && Transition.running) Transition.sources.add(Owner);\n  try {\n    return fn();\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = Owner.owner;\n  }\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction enableScheduling(scheduler = requestCallback) {\n  Scheduler = scheduler;\n}\nfunction startTransition(fn) {\n  if (Transition && Transition.running) {\n    fn();\n    return Transition.done;\n  }\n  const l = Listener;\n  const o = Owner;\n  return Promise.resolve().then(() => {\n    Listener = l;\n    Owner = o;\n    let t;\n    if (Scheduler || SuspenseContext) {\n      t =\n        Transition ||\n        (Transition = {\n          sources: new Set(),\n          effects: [],\n          promises: new Set(),\n          disposed: new Set(),\n          queue: new Set(),\n          running: true\n        });\n      t.done || (t.done = new Promise(res => (t.resolve = res)));\n      t.running = true;\n    }\n    runUpdates(fn, false);\n    Listener = Owner = null;\n    return t ? t.done : undefined;\n  });\n}\nconst [transPending, setTransPending] = /*@__PURE__*/ createSignal(false);\nfunction useTransition() {\n  return [transPending, startTransition];\n}\nfunction resumeEffects(e) {\n  Effects.push.apply(Effects, e);\n  e.length = 0;\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  let value;\n  return Owner && Owner.context && (value = Owner.context[context.id]) !== undefined\n    ? value\n    : context.defaultValue;\n}\nfunction children(fn) {\n  const children = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children()));\n  memo.toArray = () => {\n    const c = memo();\n    return Array.isArray(c) ? c : c != null ? [c] : [];\n  };\n  return memo;\n}\nlet SuspenseContext;\nfunction getSuspenseContext() {\n  return SuspenseContext || (SuspenseContext = createContext());\n}\nfunction enableExternalSource(factory, untrack = fn => fn()) {\n  if (ExternalSourceConfig) {\n    const { factory: oldFactory, untrack: oldUntrack } = ExternalSourceConfig;\n    ExternalSourceConfig = {\n      factory: (fn, trigger) => {\n        const oldSource = oldFactory(fn, trigger);\n        const source = factory(x => oldSource.track(x), trigger);\n        return {\n          track: x => source.track(x),\n          dispose() {\n            source.dispose();\n            oldSource.dispose();\n          }\n        };\n      },\n      untrack: fn => oldUntrack(() => untrack(fn))\n    };\n  } else {\n    ExternalSourceConfig = {\n      factory,\n      untrack\n    };\n  }\n}\nfunction readSignal() {\n  const runningTransition = Transition && Transition.running;\n  if (this.sources && (runningTransition ? this.tState : this.state)) {\n    if ((runningTransition ? this.tState : this.state) === STALE) updateComputation(this);\n    else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  if (runningTransition && Transition.sources.has(this)) return this.tValue;\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current =\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    if (Transition) {\n      const TransitionRunning = Transition.running;\n      if (TransitionRunning || (!isComp && Transition.sources.has(node))) {\n        Transition.sources.add(node);\n        node.tValue = value;\n      }\n      if (!TransitionRunning) node.value = value;\n    } else node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i = 0; i < node.observers.length; i += 1) {\n          const o = node.observers[i];\n          const TransitionRunning = Transition && Transition.running;\n          if (TransitionRunning && Transition.disposed.has(o)) continue;\n          if (TransitionRunning ? !o.tState : !o.state) {\n            if (o.pure) Updates.push(o);\n            else Effects.push(o);\n            if (o.observers) markDownstream(o);\n          }\n          if (!TransitionRunning) o.state = STALE;\n          else o.tState = STALE;\n        }\n        if (Updates.length > 10e5) {\n          Updates = [];\n          if (false);\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn) return;\n  cleanNode(node);\n  const time = ExecCount;\n  runComputation(\n    node,\n    Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value,\n    time\n  );\n  if (Transition && !Transition.running && Transition.sources.has(node)) {\n    queueMicrotask(() => {\n      runUpdates(() => {\n        Transition && (Transition.running = true);\n        Listener = Owner = node;\n        runComputation(node, node.tValue, time);\n        Listener = Owner = null;\n      }, false);\n    });\n  }\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  const owner = Owner,\n    listener = Listener;\n  Listener = Owner = node;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      if (Transition && Transition.running) {\n        node.tState = STALE;\n        node.tOwned && node.tOwned.forEach(cleanNode);\n        node.tOwned = undefined;\n      } else {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    node.updatedAt = time + 1;\n    return handleError(err);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue, true);\n    } else if (Transition && Transition.running && node.pure) {\n      Transition.sources.add(node);\n      node.tValue = nextValue;\n    } else node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c = {\n    fn,\n    state: state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: Owner ? Owner.context : null,\n    pure\n  };\n  if (Transition && Transition.running) {\n    c.state = 0;\n    c.tState = state;\n  }\n  if (Owner === null);\n  else if (Owner !== UNOWNED) {\n    if (Transition && Transition.running && Owner.pure) {\n      if (!Owner.tOwned) Owner.tOwned = [c];\n      else Owner.tOwned.push(c);\n    } else {\n      if (!Owner.owned) Owner.owned = [c];\n      else Owner.owned.push(c);\n    }\n  }\n  if (ExternalSourceConfig && c.fn) {\n    const [track, trigger] = createSignal(undefined, {\n      equals: false\n    });\n    const ordinary = ExternalSourceConfig.factory(c.fn, trigger);\n    onCleanup(() => ordinary.dispose());\n    const triggerInTransition = () => startTransition(trigger).then(() => inTransition.dispose());\n    const inTransition = ExternalSourceConfig.factory(c.fn, triggerInTransition);\n    c.fn = x => {\n      track();\n      return Transition && Transition.running ? inTransition.track(x) : ordinary.track(x);\n    };\n  }\n  return c;\n}\nfunction runTop(node) {\n  const runningTransition = Transition && Transition.running;\n  if ((runningTransition ? node.tState : node.state) === 0) return;\n  if ((runningTransition ? node.tState : node.state) === PENDING) return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback)) return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (runningTransition && Transition.disposed.has(node)) return;\n    if (runningTransition ? node.tState : node.state) ancestors.push(node);\n  }\n  for (let i = ancestors.length - 1; i >= 0; i--) {\n    node = ancestors[i];\n    if (runningTransition) {\n      let top = node,\n        prev = ancestors[i + 1];\n      while ((top = top.owner) && top !== prev) {\n        if (Transition.disposed.has(top)) return;\n      }\n    }\n    if ((runningTransition ? node.tState : node.state) === STALE) {\n      updateComputation(node);\n    } else if ((runningTransition ? node.tState : node.state) === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates) return fn();\n  let wait = false;\n  if (!init) Updates = [];\n  if (Effects) wait = true;\n  else Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait) Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    if (Scheduler && Transition && Transition.running) scheduleQueue(Updates);\n    else runQueue(Updates);\n    Updates = null;\n  }\n  if (wait) return;\n  let res;\n  if (Transition) {\n    if (!Transition.promises.size && !Transition.queue.size) {\n      const sources = Transition.sources;\n      const disposed = Transition.disposed;\n      Effects.push.apply(Effects, Transition.effects);\n      res = Transition.resolve;\n      for (const e of Effects) {\n        \"tState\" in e && (e.state = e.tState);\n        delete e.tState;\n      }\n      Transition = null;\n      runUpdates(() => {\n        for (const d of disposed) cleanNode(d);\n        for (const v of sources) {\n          v.value = v.tValue;\n          if (v.owned) {\n            for (let i = 0, len = v.owned.length; i < len; i++) cleanNode(v.owned[i]);\n          }\n          if (v.tOwned) v.owned = v.tOwned;\n          delete v.tValue;\n          delete v.tOwned;\n          v.tState = 0;\n        }\n        setTransPending(false);\n      }, false);\n    } else if (Transition.running) {\n      Transition.running = false;\n      Transition.effects.push.apply(Transition.effects, Effects);\n      Effects = null;\n      setTransPending(true);\n      return;\n    }\n  }\n  const e = Effects;\n  Effects = null;\n  if (e.length) runUpdates(() => runEffects(e), false);\n  if (res) res();\n}\nfunction runQueue(queue) {\n  for (let i = 0; i < queue.length; i++) runTop(queue[i]);\n}\nfunction scheduleQueue(queue) {\n  for (let i = 0; i < queue.length; i++) {\n    const item = queue[i];\n    const tasks = Transition.queue;\n    if (!tasks.has(item)) {\n      tasks.add(item);\n      Scheduler(() => {\n        tasks.delete(item);\n        runUpdates(() => {\n          Transition.running = true;\n          runTop(item);\n        }, false);\n        Transition && (Transition.running = false);\n      });\n    }\n  }\n}\nfunction runUserEffects(queue) {\n  let i,\n    userLength = 0;\n  for (i = 0; i < queue.length; i++) {\n    const e = queue[i];\n    if (!e.user) runTop(e);\n    else queue[userLength++] = e;\n  }\n  if (sharedConfig.context) {\n    if (sharedConfig.count) {\n      sharedConfig.effects || (sharedConfig.effects = []);\n      sharedConfig.effects.push(...queue.slice(0, userLength));\n      return;\n    }\n    setHydrateContext();\n  }\n  if (sharedConfig.effects && (sharedConfig.done || !sharedConfig.count)) {\n    queue = [...sharedConfig.effects, ...queue];\n    userLength += sharedConfig.effects.length;\n    delete sharedConfig.effects;\n  }\n  for (i = 0; i < userLength; i++) runTop(queue[i]);\n}\nfunction lookUpstream(node, ignore) {\n  const runningTransition = Transition && Transition.running;\n  if (runningTransition) node.tState = 0;\n  else node.state = 0;\n  for (let i = 0; i < node.sources.length; i += 1) {\n    const source = node.sources[i];\n    if (source.sources) {\n      const state = runningTransition ? source.tState : source.state;\n      if (state === STALE) {\n        if (source !== ignore && (!source.updatedAt || source.updatedAt < ExecCount))\n          runTop(source);\n      } else if (state === PENDING) lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  const runningTransition = Transition && Transition.running;\n  for (let i = 0; i < node.observers.length; i += 1) {\n    const o = node.observers[i];\n    if (runningTransition ? !o.tState : !o.state) {\n      if (runningTransition) o.tState = PENDING;\n      else o.state = PENDING;\n      if (o.pure) Updates.push(o);\n      else Effects.push(o);\n      o.observers && markDownstream(o);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(),\n        index = node.sourceSlots.pop(),\n        obs = source.observers;\n      if (obs && obs.length) {\n        const n = obs.pop(),\n          s = source.observerSlots.pop();\n        if (index < obs.length) {\n          n.sourceSlots[s] = index;\n          obs[index] = n;\n          source.observerSlots[index] = s;\n        }\n      }\n    }\n  }\n  if (node.tOwned) {\n    for (i = node.tOwned.length - 1; i >= 0; i--) cleanNode(node.tOwned[i]);\n    delete node.tOwned;\n  }\n  if (Transition && Transition.running && node.pure) {\n    reset(node, true);\n  } else if (node.owned) {\n    for (i = node.owned.length - 1; i >= 0; i--) cleanNode(node.owned[i]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i = node.cleanups.length - 1; i >= 0; i--) node.cleanups[i]();\n    node.cleanups = null;\n  }\n  if (Transition && Transition.running) node.tState = 0;\n  else node.state = 0;\n}\nfunction reset(node, top) {\n  if (!top) {\n    node.tState = 0;\n    Transition.disposed.add(node);\n  }\n  if (node.owned) {\n    for (let i = 0; i < node.owned.length; i++) reset(node.owned[i]);\n  }\n}\nfunction castError(err) {\n  if (err instanceof Error) return err;\n  return new Error(typeof err === \"string\" ? err : \"Unknown error\", {\n    cause: err\n  });\n}\nfunction runErrors(err, fns, owner) {\n  try {\n    for (const f of fns) f(err);\n  } catch (e) {\n    handleError(e, (owner && owner.owner) || null);\n  }\n}\nfunction handleError(err, owner = Owner) {\n  const fns = ERROR && owner && owner.context && owner.context[ERROR];\n  const error = castError(err);\n  if (!fns) throw error;\n  if (Effects)\n    Effects.push({\n      fn() {\n        runErrors(error, fns, owner);\n      },\n      state: STALE\n    });\n  else runErrors(error, fns, owner);\n}\nfunction resolveChildren(children) {\n  if (typeof children === \"function\" && !children.length) return resolveChildren(children());\n  if (Array.isArray(children)) {\n    const results = [];\n    for (let i = 0; i < children.length; i++) {\n      const result = resolveChildren(children[i]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(\n      () =>\n        (res = untrack(() => {\n          Owner.context = {\n            ...Owner.context,\n            [id]: props.value\n          };\n          return children(() => props.children);\n        })),\n      undefined\n    );\n    return res;\n  };\n}\nfunction onError(fn) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  if (Owner === null);\n  else if (Owner.context === null || !Owner.context[ERROR]) {\n    Owner.context = {\n      ...Owner.context,\n      [ERROR]: [fn]\n    };\n    mutateContext(Owner, ERROR, [fn]);\n  } else Owner.context[ERROR].push(fn);\n}\nfunction mutateContext(o, key, value) {\n  if (o.owned) {\n    for (let i = 0; i < o.owned.length; i++) {\n      if (o.owned[i].context === o.context) mutateContext(o.owned[i], key, value);\n      if (!o.owned[i].context) {\n        o.owned[i].context = o.context;\n        mutateContext(o.owned[i], key, value);\n      } else if (!o.owned[i].context[key]) {\n        o.owned[i].context[key] = value;\n        mutateContext(o.owned[i], key, value);\n      }\n    }\n  }\n}\n\nfunction observable(input) {\n  return {\n    subscribe(observer) {\n      if (!(observer instanceof Object) || observer == null) {\n        throw new TypeError(\"Expected the observer to be an object.\");\n      }\n      const handler =\n        typeof observer === \"function\" ? observer : observer.next && observer.next.bind(observer);\n      if (!handler) {\n        return {\n          unsubscribe() {}\n        };\n      }\n      const dispose = createRoot(disposer => {\n        createEffect(() => {\n          const v = input();\n          untrack(() => handler(v));\n        });\n        return disposer;\n      });\n      if (getOwner()) onCleanup(dispose);\n      return {\n        unsubscribe() {\n          dispose();\n        }\n      };\n    },\n    [Symbol.observable || \"@@observable\"]() {\n      return this;\n    }\n  };\n}\nfunction from(producer) {\n  const [s, set] = createSignal(undefined, {\n    equals: false\n  });\n  if (\"subscribe\" in producer) {\n    const unsub = producer.subscribe(v => set(() => v));\n    onCleanup(() => (\"unsubscribe\" in unsub ? unsub.unsubscribe() : unsub()));\n  } else {\n    const clean = producer(set);\n    onCleanup(clean);\n  }\n  return s;\n}\n\nconst FALLBACK = Symbol(\"fallback\");\nfunction dispose(d) {\n  for (let i = 0; i < d.length; i++) d[i]();\n}\nfunction mapArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    len = 0,\n    indexes = mapFn.length > 1 ? [] : null;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    let newItems = list() || [],\n      newLen = newItems.length,\n      i,\n      j;\n    newItems[$TRACK];\n    return untrack(() => {\n      let newIndices, newIndicesNext, temp, tempdisposers, tempIndexes, start, end, newEnd, item;\n      if (newLen === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          indexes && (indexes = []);\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n      } else if (len === 0) {\n        mapped = new Array(newLen);\n        for (j = 0; j < newLen; j++) {\n          items[j] = newItems[j];\n          mapped[j] = createRoot(mapper);\n        }\n        len = newLen;\n      } else {\n        temp = new Array(newLen);\n        tempdisposers = new Array(newLen);\n        indexes && (tempIndexes = new Array(newLen));\n        for (\n          start = 0, end = Math.min(len, newLen);\n          start < end && items[start] === newItems[start];\n          start++\n        );\n        for (\n          end = len - 1, newEnd = newLen - 1;\n          end >= start && newEnd >= start && items[end] === newItems[newEnd];\n          end--, newEnd--\n        ) {\n          temp[newEnd] = mapped[end];\n          tempdisposers[newEnd] = disposers[end];\n          indexes && (tempIndexes[newEnd] = indexes[end]);\n        }\n        newIndices = new Map();\n        newIndicesNext = new Array(newEnd + 1);\n        for (j = newEnd; j >= start; j--) {\n          item = newItems[j];\n          i = newIndices.get(item);\n          newIndicesNext[j] = i === undefined ? -1 : i;\n          newIndices.set(item, j);\n        }\n        for (i = start; i <= end; i++) {\n          item = items[i];\n          j = newIndices.get(item);\n          if (j !== undefined && j !== -1) {\n            temp[j] = mapped[i];\n            tempdisposers[j] = disposers[i];\n            indexes && (tempIndexes[j] = indexes[i]);\n            j = newIndicesNext[j];\n            newIndices.set(item, j);\n          } else disposers[i]();\n        }\n        for (j = start; j < newLen; j++) {\n          if (j in temp) {\n            mapped[j] = temp[j];\n            disposers[j] = tempdisposers[j];\n            if (indexes) {\n              indexes[j] = tempIndexes[j];\n              indexes[j](j);\n            }\n          } else mapped[j] = createRoot(mapper);\n        }\n        mapped = mapped.slice(0, (len = newLen));\n        items = newItems.slice(0);\n      }\n      return mapped;\n    });\n    function mapper(disposer) {\n      disposers[j] = disposer;\n      if (indexes) {\n        const [s, set] = createSignal(j);\n        indexes[j] = set;\n        return mapFn(newItems[j], s);\n      }\n      return mapFn(newItems[j]);\n    }\n  };\n}\nfunction indexArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    signals = [],\n    len = 0,\n    i;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    const newItems = list() || [],\n      newLen = newItems.length;\n    newItems[$TRACK];\n    return untrack(() => {\n      if (newLen === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          signals = [];\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n        return mapped;\n      }\n      if (items[0] === FALLBACK) {\n        disposers[0]();\n        disposers = [];\n        items = [];\n        mapped = [];\n        len = 0;\n      }\n      for (i = 0; i < newLen; i++) {\n        if (i < items.length && items[i] !== newItems[i]) {\n          signals[i](() => newItems[i]);\n        } else if (i >= items.length) {\n          mapped[i] = createRoot(mapper);\n        }\n      }\n      for (; i < items.length; i++) {\n        disposers[i]();\n      }\n      len = signals.length = disposers.length = newLen;\n      items = newItems.slice(0);\n      return (mapped = mapped.slice(0, len));\n    });\n    function mapper(disposer) {\n      disposers[i] = disposer;\n      const [s, set] = createSignal(newItems[i]);\n      signals[i] = set;\n      return mapFn(s, i);\n    }\n  };\n}\n\nlet hydrationEnabled = false;\nfunction enableHydration() {\n  hydrationEnabled = true;\n}\nfunction createComponent(Comp, props) {\n  if (hydrationEnabled) {\n    if (sharedConfig.context) {\n      const c = sharedConfig.context;\n      setHydrateContext(nextHydrateContext());\n      const r = untrack(() => Comp(props || {}));\n      setHydrateContext(c);\n      return r;\n    }\n  }\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY) return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY) return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s) {\n  return !(s = typeof s === \"function\" ? s() : s) ? {} : s;\n}\nfunction resolveSources() {\n  for (let i = 0, length = this.length; i < length; ++i) {\n    const v = this[i]();\n    if (v !== undefined) return v;\n  }\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i = 0; i < sources.length; i++) {\n    const s = sources[i];\n    proxy = proxy || (!!s && $PROXY in s);\n    sources[i] = typeof s === \"function\" ? ((proxy = true), createMemo(s)) : s;\n  }\n  if (SUPPORTS_PROXY && proxy) {\n    return new Proxy(\n      {\n        get(property) {\n          for (let i = sources.length - 1; i >= 0; i--) {\n            const v = resolveSource(sources[i])[property];\n            if (v !== undefined) return v;\n          }\n        },\n        has(property) {\n          for (let i = sources.length - 1; i >= 0; i--) {\n            if (property in resolveSource(sources[i])) return true;\n          }\n          return false;\n        },\n        keys() {\n          const keys = [];\n          for (let i = 0; i < sources.length; i++)\n            keys.push(...Object.keys(resolveSource(sources[i])));\n          return [...new Set(keys)];\n        }\n      },\n      propTraps\n    );\n  }\n  const sourcesMap = {};\n  const defined = Object.create(null);\n  for (let i = sources.length - 1; i >= 0; i--) {\n    const source = sources[i];\n    if (!source) continue;\n    const sourceKeys = Object.getOwnPropertyNames(source);\n    for (let i = sourceKeys.length - 1; i >= 0; i--) {\n      const key = sourceKeys[i];\n      if (key === \"__proto__\" || key === \"constructor\") continue;\n      const desc = Object.getOwnPropertyDescriptor(source, key);\n      if (!defined[key]) {\n        defined[key] = desc.get\n          ? {\n              enumerable: true,\n              configurable: true,\n              get: resolveSources.bind((sourcesMap[key] = [desc.get.bind(source)]))\n            }\n          : desc.value !== undefined\n          ? desc\n          : undefined;\n      } else {\n        const sources = sourcesMap[key];\n        if (sources) {\n          if (desc.get) sources.push(desc.get.bind(source));\n          else if (desc.value !== undefined) sources.push(() => desc.value);\n        }\n      }\n    }\n  }\n  const target = {};\n  const definedKeys = Object.keys(defined);\n  for (let i = definedKeys.length - 1; i >= 0; i--) {\n    const key = definedKeys[i],\n      desc = defined[key];\n    if (desc && desc.get) Object.defineProperty(target, key, desc);\n    else target[key] = desc ? desc.value : undefined;\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  if (SUPPORTS_PROXY && $PROXY in props) {\n    const blocked = new Set(keys.length > 1 ? keys.flat() : keys[0]);\n    const res = keys.map(k => {\n      return new Proxy(\n        {\n          get(property) {\n            return k.includes(property) ? props[property] : undefined;\n          },\n          has(property) {\n            return k.includes(property) && property in props;\n          },\n          keys() {\n            return k.filter(property => property in props);\n          }\n        },\n        propTraps\n      );\n    });\n    res.push(\n      new Proxy(\n        {\n          get(property) {\n            return blocked.has(property) ? undefined : props[property];\n          },\n          has(property) {\n            return blocked.has(property) ? false : property in props;\n          },\n          keys() {\n            return Object.keys(props).filter(k => !blocked.has(k));\n          }\n        },\n        propTraps\n      )\n    );\n    return res;\n  }\n  const otherObject = {};\n  const objects = keys.map(() => ({}));\n  for (const propName of Object.getOwnPropertyNames(props)) {\n    const desc = Object.getOwnPropertyDescriptor(props, propName);\n    const isDefaultDesc =\n      !desc.get && !desc.set && desc.enumerable && desc.writable && desc.configurable;\n    let blocked = false;\n    let objectIndex = 0;\n    for (const k of keys) {\n      if (k.includes(propName)) {\n        blocked = true;\n        isDefaultDesc\n          ? (objects[objectIndex][propName] = desc.value)\n          : Object.defineProperty(objects[objectIndex], propName, desc);\n      }\n      ++objectIndex;\n    }\n    if (!blocked) {\n      isDefaultDesc\n        ? (otherObject[propName] = desc.value)\n        : Object.defineProperty(otherObject, propName, desc);\n    }\n  }\n  return [...objects, otherObject];\n}\nfunction lazy(fn) {\n  let comp;\n  let p;\n  const wrap = props => {\n    const ctx = sharedConfig.context;\n    if (ctx) {\n      const [s, set] = createSignal();\n      sharedConfig.count || (sharedConfig.count = 0);\n      sharedConfig.count++;\n      (p || (p = fn())).then(mod => {\n        !sharedConfig.done && setHydrateContext(ctx);\n        sharedConfig.count--;\n        set(() => mod.default);\n        setHydrateContext();\n      });\n      comp = s;\n    } else if (!comp) {\n      const [s] = createResource(() => (p || (p = fn())).then(mod => mod.default));\n      comp = s;\n    }\n    let Comp;\n    return createMemo(() =>\n      (Comp = comp())\n        ? untrack(() => {\n            if (false);\n            if (!ctx || sharedConfig.done) return Comp(props);\n            const c = sharedConfig.context;\n            setHydrateContext(ctx);\n            const r = Comp(props);\n            setHydrateContext(c);\n            return r;\n          })\n        : \"\"\n    );\n  };\n  wrap.preload = () => p || ((p = fn()).then(mod => (comp = () => mod.default)), p);\n  return wrap;\n}\nlet counter = 0;\nfunction createUniqueId() {\n  const ctx = sharedConfig.context;\n  return ctx ? sharedConfig.getNextContextId() : `cl-${counter++}`;\n}\n\nconst narrowedError = name => `Stale read from <${name}>.`;\nfunction For(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(mapArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Index(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(indexArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Show(props) {\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, undefined, {\n    equals: (a, b) => (keyed ? a === b : !a === !b)\n  });\n  return createMemo(\n    () => {\n      const c = condition();\n      if (c) {\n        const child = props.children;\n        const fn = typeof child === \"function\" && child.length > 0;\n        return fn\n          ? untrack(() =>\n              child(\n                keyed\n                  ? c\n                  : () => {\n                      if (!untrack(condition)) throw narrowedError(\"Show\");\n                      return props.when;\n                    }\n              )\n            )\n          : child;\n      }\n      return props.fallback;\n    },\n    undefined,\n    undefined\n  );\n}\nfunction Switch(props) {\n  let keyed = false;\n  const equals = (a, b) => (keyed ? a[1] === b[1] : !a[1] === !b[1]) && a[2] === b[2];\n  const conditions = children(() => props.children),\n    evalConditions = createMemo(\n      () => {\n        let conds = conditions();\n        if (!Array.isArray(conds)) conds = [conds];\n        for (let i = 0; i < conds.length; i++) {\n          const c = conds[i].when;\n          if (c) {\n            keyed = !!conds[i].keyed;\n            return [i, c, conds[i]];\n          }\n        }\n        return [-1];\n      },\n      undefined,\n      {\n        equals\n      }\n    );\n  return createMemo(\n    () => {\n      const [index, when, cond] = evalConditions();\n      if (index < 0) return props.fallback;\n      const c = cond.children;\n      const fn = typeof c === \"function\" && c.length > 0;\n      return fn\n        ? untrack(() =>\n            c(\n              keyed\n                ? when\n                : () => {\n                    if (untrack(evalConditions)[0] !== index) throw narrowedError(\"Match\");\n                    return cond.when;\n                  }\n            )\n          )\n        : c;\n    },\n    undefined,\n    undefined\n  );\n}\nfunction Match(props) {\n  return props;\n}\nlet Errors;\nfunction resetErrorBoundaries() {\n  Errors && [...Errors].forEach(fn => fn());\n}\nfunction ErrorBoundary(props) {\n  let err;\n  if (sharedConfig.context && sharedConfig.load)\n    err = sharedConfig.load(sharedConfig.getContextId());\n  const [errored, setErrored] = createSignal(err, undefined);\n  Errors || (Errors = new Set());\n  Errors.add(setErrored);\n  onCleanup(() => Errors.delete(setErrored));\n  return createMemo(\n    () => {\n      let e;\n      if ((e = errored())) {\n        const f = props.fallback;\n        return typeof f === \"function\" && f.length ? untrack(() => f(e, () => setErrored())) : f;\n      }\n      return catchError(() => props.children, setErrored);\n    },\n    undefined,\n    undefined\n  );\n}\n\nconst suspenseListEquals = (a, b) =>\n  a.showContent === b.showContent && a.showFallback === b.showFallback;\nconst SuspenseListContext = /* #__PURE__ */ createContext();\nfunction SuspenseList(props) {\n  let [wrapper, setWrapper] = createSignal(() => ({\n      inFallback: false\n    })),\n    show;\n  const listContext = useContext(SuspenseListContext);\n  const [registry, setRegistry] = createSignal([]);\n  if (listContext) {\n    show = listContext.register(createMemo(() => wrapper()().inFallback));\n  }\n  const resolved = createMemo(\n    prev => {\n      const reveal = props.revealOrder,\n        tail = props.tail,\n        { showContent = true, showFallback = true } = show ? show() : {},\n        reg = registry(),\n        reverse = reveal === \"backwards\";\n      if (reveal === \"together\") {\n        const all = reg.every(inFallback => !inFallback());\n        const res = reg.map(() => ({\n          showContent: all && showContent,\n          showFallback\n        }));\n        res.inFallback = !all;\n        return res;\n      }\n      let stop = false;\n      let inFallback = prev.inFallback;\n      const res = [];\n      for (let i = 0, len = reg.length; i < len; i++) {\n        const n = reverse ? len - i - 1 : i,\n          s = reg[n]();\n        if (!stop && !s) {\n          res[n] = {\n            showContent,\n            showFallback\n          };\n        } else {\n          const next = !stop;\n          if (next) inFallback = true;\n          res[n] = {\n            showContent: next,\n            showFallback: !tail || (next && tail === \"collapsed\") ? showFallback : false\n          };\n          stop = true;\n        }\n      }\n      if (!stop) inFallback = false;\n      res.inFallback = inFallback;\n      return res;\n    },\n    {\n      inFallback: false\n    }\n  );\n  setWrapper(() => resolved);\n  return createComponent(SuspenseListContext.Provider, {\n    value: {\n      register: inFallback => {\n        let index;\n        setRegistry(registry => {\n          index = registry.length;\n          return [...registry, inFallback];\n        });\n        return createMemo(() => resolved()[index], undefined, {\n          equals: suspenseListEquals\n        });\n      }\n    },\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction Suspense(props) {\n  let counter = 0,\n    show,\n    ctx,\n    p,\n    flicker,\n    error;\n  const [inFallback, setFallback] = createSignal(false),\n    SuspenseContext = getSuspenseContext(),\n    store = {\n      increment: () => {\n        if (++counter === 1) setFallback(true);\n      },\n      decrement: () => {\n        if (--counter === 0) setFallback(false);\n      },\n      inFallback,\n      effects: [],\n      resolved: false\n    },\n    owner = getOwner();\n  if (sharedConfig.context && sharedConfig.load) {\n    const key = sharedConfig.getContextId();\n    let ref = sharedConfig.load(key);\n    if (ref) {\n      if (typeof ref !== \"object\" || ref.status !== \"success\") p = ref;\n      else sharedConfig.gather(key);\n    }\n    if (p && p !== \"$$f\") {\n      const [s, set] = createSignal(undefined, {\n        equals: false\n      });\n      flicker = s;\n      p.then(\n        () => {\n          if (sharedConfig.done) return set();\n          sharedConfig.gather(key);\n          setHydrateContext(ctx);\n          set();\n          setHydrateContext();\n        },\n        err => {\n          error = err;\n          set();\n        }\n      );\n    }\n  }\n  const listContext = useContext(SuspenseListContext);\n  if (listContext) show = listContext.register(store.inFallback);\n  let dispose;\n  onCleanup(() => dispose && dispose());\n  return createComponent(SuspenseContext.Provider, {\n    value: store,\n    get children() {\n      return createMemo(() => {\n        if (error) throw error;\n        ctx = sharedConfig.context;\n        if (flicker) {\n          flicker();\n          return (flicker = undefined);\n        }\n        if (ctx && p === \"$$f\") setHydrateContext();\n        const rendered = createMemo(() => props.children);\n        return createMemo(prev => {\n          const inFallback = store.inFallback(),\n            { showContent = true, showFallback = true } = show ? show() : {};\n          if ((!inFallback || (p && p !== \"$$f\")) && showContent) {\n            store.resolved = true;\n            dispose && dispose();\n            dispose = ctx = p = undefined;\n            resumeEffects(store.effects);\n            return rendered();\n          }\n          if (!showFallback) return;\n          if (dispose) return prev;\n          return createRoot(disposer => {\n            dispose = disposer;\n            if (ctx) {\n              setHydrateContext({\n                id: ctx.id + \"F\",\n                count: 0\n              });\n              ctx = undefined;\n            }\n            return props.fallback;\n          }, owner);\n        });\n      });\n    }\n  });\n}\n\nconst DEV = undefined;\n\nexport {\n  $DEVCOMP,\n  $PROXY,\n  $TRACK,\n  DEV,\n  ErrorBoundary,\n  For,\n  Index,\n  Match,\n  Show,\n  Suspense,\n  SuspenseList,\n  Switch,\n  batch,\n  cancelCallback,\n  catchError,\n  children,\n  createComponent,\n  createComputed,\n  createContext,\n  createDeferred,\n  createEffect,\n  createMemo,\n  createReaction,\n  createRenderEffect,\n  createResource,\n  createRoot,\n  createSelector,\n  createSignal,\n  createUniqueId,\n  enableExternalSource,\n  enableHydration,\n  enableScheduling,\n  equalFn,\n  from,\n  getListener,\n  getOwner,\n  indexArray,\n  lazy,\n  mapArray,\n  mergeProps,\n  observable,\n  on,\n  onCleanup,\n  onError,\n  onMount,\n  requestCallback,\n  resetErrorBoundaries,\n  runWithOwner,\n  sharedConfig,\n  splitProps,\n  startTransition,\n  untrack,\n  useContext,\n  useTransition\n};\n","import {\n  createRoot,\n  createRenderEffect,\n  untrack,\n  sharedConfig,\n  enableHydration,\n  getOwner,\n  createEffect,\n  runWithOwner,\n  createMemo,\n  createSignal,\n  onCleanup,\n  splitProps\n} from \"solid-js\";\nexport {\n  ErrorBoundary,\n  For,\n  Index,\n  Match,\n  Show,\n  Suspense,\n  SuspenseList,\n  Switch,\n  createComponent,\n  createRenderEffect as effect,\n  getOwner,\n  createMemo as memo,\n  mergeProps,\n  untrack\n} from \"solid-js\";\n\nconst booleans = [\n  \"allowfullscreen\",\n  \"async\",\n  \"autofocus\",\n  \"autoplay\",\n  \"checked\",\n  \"controls\",\n  \"default\",\n  \"disabled\",\n  \"formnovalidate\",\n  \"hidden\",\n  \"indeterminate\",\n  \"inert\",\n  \"ismap\",\n  \"loop\",\n  \"multiple\",\n  \"muted\",\n  \"nomodule\",\n  \"novalidate\",\n  \"open\",\n  \"playsinline\",\n  \"readonly\",\n  \"required\",\n  \"reversed\",\n  \"seamless\",\n  \"selected\"\n];\nconst Properties = /*#__PURE__*/ new Set([\n  \"className\",\n  \"value\",\n  \"readOnly\",\n  \"formNoValidate\",\n  \"isMap\",\n  \"noModule\",\n  \"playsInline\",\n  ...booleans\n]);\nconst ChildProperties = /*#__PURE__*/ new Set([\n  \"innerHTML\",\n  \"textContent\",\n  \"innerText\",\n  \"children\"\n]);\nconst Aliases = /*#__PURE__*/ Object.assign(Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /*#__PURE__*/ Object.assign(Object.create(null), {\n  class: \"className\",\n  formnovalidate: {\n    $: \"formNoValidate\",\n    BUTTON: 1,\n    INPUT: 1\n  },\n  ismap: {\n    $: \"isMap\",\n    IMG: 1\n  },\n  nomodule: {\n    $: \"noModule\",\n    SCRIPT: 1\n  },\n  playsinline: {\n    $: \"playsInline\",\n    VIDEO: 1\n  },\n  readonly: {\n    $: \"readOnly\",\n    INPUT: 1,\n    TEXTAREA: 1\n  }\n});\nfunction getPropAlias(prop, tagName) {\n  const a = PropAliases[prop];\n  return typeof a === \"object\" ? (a[tagName] ? a[\"$\"] : undefined) : a;\n}\nconst DelegatedEvents = /*#__PURE__*/ new Set([\n  \"beforeinput\",\n  \"click\",\n  \"dblclick\",\n  \"contextmenu\",\n  \"focusin\",\n  \"focusout\",\n  \"input\",\n  \"keydown\",\n  \"keyup\",\n  \"mousedown\",\n  \"mousemove\",\n  \"mouseout\",\n  \"mouseover\",\n  \"mouseup\",\n  \"pointerdown\",\n  \"pointermove\",\n  \"pointerout\",\n  \"pointerover\",\n  \"pointerup\",\n  \"touchend\",\n  \"touchmove\",\n  \"touchstart\"\n]);\nconst SVGElements = /*#__PURE__*/ new Set([\n  \"altGlyph\",\n  \"altGlyphDef\",\n  \"altGlyphItem\",\n  \"animate\",\n  \"animateColor\",\n  \"animateMotion\",\n  \"animateTransform\",\n  \"circle\",\n  \"clipPath\",\n  \"color-profile\",\n  \"cursor\",\n  \"defs\",\n  \"desc\",\n  \"ellipse\",\n  \"feBlend\",\n  \"feColorMatrix\",\n  \"feComponentTransfer\",\n  \"feComposite\",\n  \"feConvolveMatrix\",\n  \"feDiffuseLighting\",\n  \"feDisplacementMap\",\n  \"feDistantLight\",\n  \"feDropShadow\",\n  \"feFlood\",\n  \"feFuncA\",\n  \"feFuncB\",\n  \"feFuncG\",\n  \"feFuncR\",\n  \"feGaussianBlur\",\n  \"feImage\",\n  \"feMerge\",\n  \"feMergeNode\",\n  \"feMorphology\",\n  \"feOffset\",\n  \"fePointLight\",\n  \"feSpecularLighting\",\n  \"feSpotLight\",\n  \"feTile\",\n  \"feTurbulence\",\n  \"filter\",\n  \"font\",\n  \"font-face\",\n  \"font-face-format\",\n  \"font-face-name\",\n  \"font-face-src\",\n  \"font-face-uri\",\n  \"foreignObject\",\n  \"g\",\n  \"glyph\",\n  \"glyphRef\",\n  \"hkern\",\n  \"image\",\n  \"line\",\n  \"linearGradient\",\n  \"marker\",\n  \"mask\",\n  \"metadata\",\n  \"missing-glyph\",\n  \"mpath\",\n  \"path\",\n  \"pattern\",\n  \"polygon\",\n  \"polyline\",\n  \"radialGradient\",\n  \"rect\",\n  \"set\",\n  \"stop\",\n  \"svg\",\n  \"switch\",\n  \"symbol\",\n  \"text\",\n  \"textPath\",\n  \"tref\",\n  \"tspan\",\n  \"use\",\n  \"view\",\n  \"vkern\"\n]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nconst DOMElements = /*#__PURE__*/ new Set([\n  \"html\",\n  \"base\",\n  \"head\",\n  \"link\",\n  \"meta\",\n  \"style\",\n  \"title\",\n  \"body\",\n  \"address\",\n  \"article\",\n  \"aside\",\n  \"footer\",\n  \"header\",\n  \"main\",\n  \"nav\",\n  \"section\",\n  \"body\",\n  \"blockquote\",\n  \"dd\",\n  \"div\",\n  \"dl\",\n  \"dt\",\n  \"figcaption\",\n  \"figure\",\n  \"hr\",\n  \"li\",\n  \"ol\",\n  \"p\",\n  \"pre\",\n  \"ul\",\n  \"a\",\n  \"abbr\",\n  \"b\",\n  \"bdi\",\n  \"bdo\",\n  \"br\",\n  \"cite\",\n  \"code\",\n  \"data\",\n  \"dfn\",\n  \"em\",\n  \"i\",\n  \"kbd\",\n  \"mark\",\n  \"q\",\n  \"rp\",\n  \"rt\",\n  \"ruby\",\n  \"s\",\n  \"samp\",\n  \"small\",\n  \"span\",\n  \"strong\",\n  \"sub\",\n  \"sup\",\n  \"time\",\n  \"u\",\n  \"var\",\n  \"wbr\",\n  \"area\",\n  \"audio\",\n  \"img\",\n  \"map\",\n  \"track\",\n  \"video\",\n  \"embed\",\n  \"iframe\",\n  \"object\",\n  \"param\",\n  \"picture\",\n  \"portal\",\n  \"source\",\n  \"svg\",\n  \"math\",\n  \"canvas\",\n  \"noscript\",\n  \"script\",\n  \"del\",\n  \"ins\",\n  \"caption\",\n  \"col\",\n  \"colgroup\",\n  \"table\",\n  \"tbody\",\n  \"td\",\n  \"tfoot\",\n  \"th\",\n  \"thead\",\n  \"tr\",\n  \"button\",\n  \"datalist\",\n  \"fieldset\",\n  \"form\",\n  \"input\",\n  \"label\",\n  \"legend\",\n  \"meter\",\n  \"optgroup\",\n  \"option\",\n  \"output\",\n  \"progress\",\n  \"select\",\n  \"textarea\",\n  \"details\",\n  \"dialog\",\n  \"menu\",\n  \"summary\",\n  \"details\",\n  \"slot\",\n  \"template\",\n  \"acronym\",\n  \"applet\",\n  \"basefont\",\n  \"bgsound\",\n  \"big\",\n  \"blink\",\n  \"center\",\n  \"content\",\n  \"dir\",\n  \"font\",\n  \"frame\",\n  \"frameset\",\n  \"hgroup\",\n  \"image\",\n  \"keygen\",\n  \"marquee\",\n  \"menuitem\",\n  \"nobr\",\n  \"noembed\",\n  \"noframes\",\n  \"plaintext\",\n  \"rb\",\n  \"rtc\",\n  \"shadow\",\n  \"spacer\",\n  \"strike\",\n  \"tt\",\n  \"xmp\",\n  \"a\",\n  \"abbr\",\n  \"acronym\",\n  \"address\",\n  \"applet\",\n  \"area\",\n  \"article\",\n  \"aside\",\n  \"audio\",\n  \"b\",\n  \"base\",\n  \"basefont\",\n  \"bdi\",\n  \"bdo\",\n  \"bgsound\",\n  \"big\",\n  \"blink\",\n  \"blockquote\",\n  \"body\",\n  \"br\",\n  \"button\",\n  \"canvas\",\n  \"caption\",\n  \"center\",\n  \"cite\",\n  \"code\",\n  \"col\",\n  \"colgroup\",\n  \"content\",\n  \"data\",\n  \"datalist\",\n  \"dd\",\n  \"del\",\n  \"details\",\n  \"dfn\",\n  \"dialog\",\n  \"dir\",\n  \"div\",\n  \"dl\",\n  \"dt\",\n  \"em\",\n  \"embed\",\n  \"fieldset\",\n  \"figcaption\",\n  \"figure\",\n  \"font\",\n  \"footer\",\n  \"form\",\n  \"frame\",\n  \"frameset\",\n  \"head\",\n  \"header\",\n  \"hgroup\",\n  \"hr\",\n  \"html\",\n  \"i\",\n  \"iframe\",\n  \"image\",\n  \"img\",\n  \"input\",\n  \"ins\",\n  \"kbd\",\n  \"keygen\",\n  \"label\",\n  \"legend\",\n  \"li\",\n  \"link\",\n  \"main\",\n  \"map\",\n  \"mark\",\n  \"marquee\",\n  \"menu\",\n  \"menuitem\",\n  \"meta\",\n  \"meter\",\n  \"nav\",\n  \"nobr\",\n  \"noembed\",\n  \"noframes\",\n  \"noscript\",\n  \"object\",\n  \"ol\",\n  \"optgroup\",\n  \"option\",\n  \"output\",\n  \"p\",\n  \"param\",\n  \"picture\",\n  \"plaintext\",\n  \"portal\",\n  \"pre\",\n  \"progress\",\n  \"q\",\n  \"rb\",\n  \"rp\",\n  \"rt\",\n  \"rtc\",\n  \"ruby\",\n  \"s\",\n  \"samp\",\n  \"script\",\n  \"section\",\n  \"select\",\n  \"shadow\",\n  \"slot\",\n  \"small\",\n  \"source\",\n  \"spacer\",\n  \"span\",\n  \"strike\",\n  \"strong\",\n  \"style\",\n  \"sub\",\n  \"summary\",\n  \"sup\",\n  \"table\",\n  \"tbody\",\n  \"td\",\n  \"template\",\n  \"textarea\",\n  \"tfoot\",\n  \"th\",\n  \"thead\",\n  \"time\",\n  \"title\",\n  \"tr\",\n  \"track\",\n  \"tt\",\n  \"u\",\n  \"ul\",\n  \"var\",\n  \"video\",\n  \"wbr\",\n  \"xmp\",\n  \"input\",\n  \"h1\",\n  \"h2\",\n  \"h3\",\n  \"h4\",\n  \"h5\",\n  \"h6\"\n]);\n\nfunction reconcileArrays(parentNode, a, b) {\n  let bLength = b.length,\n    aEnd = a.length,\n    bEnd = bLength,\n    aStart = 0,\n    bStart = 0,\n    after = a[aEnd - 1].nextSibling,\n    map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? (bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart]) : after;\n      while (bStart < bEnd) parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a[aStart])) a[aStart].remove();\n        aStart++;\n      }\n    } else if (a[aStart] === b[bEnd - 1] && b[bStart] === a[aEnd - 1]) {\n      const node = a[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = new Map();\n        let i = bStart;\n        while (i < bEnd) map.set(b[i], i++);\n      }\n      const index = map.get(a[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i = aStart,\n            sequence = 1,\n            t;\n          while (++i < aEnd && i < bEnd) {\n            if ((t = map.get(a[i])) == null || t !== index + sequence) break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a[aStart];\n            while (bStart < index) parentNode.insertBefore(b[bStart++], node);\n          } else parentNode.replaceChild(b[bStart++], a[aStart++]);\n        } else aStart++;\n      } else a[aStart++].remove();\n    }\n  }\n}\n\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot(dispose => {\n    disposer = dispose;\n    element === document\n      ? code()\n      : insert(element, code(), element.firstChild ? null : undefined, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template(html, isImportNode, isSVG) {\n  let node;\n  const create = () => {\n    const t = document.createElement(\"template\");\n    t.innerHTML = html;\n    return isSVG ? t.content.firstChild.firstChild : t.content.firstChild;\n  };\n  const fn = isImportNode\n    ? () => untrack(() => document.importNode(node || (node = create()), true))\n    : () => (node || (node = create())).cloneNode(true);\n  fn.cloneNode = fn;\n  return fn;\n}\nfunction delegateEvents(eventNames, document = window.document) {\n  const e = document[$$EVENTS] || (document[$$EVENTS] = new Set());\n  for (let i = 0, l = eventNames.length; i < l; i++) {\n    const name = eventNames[i];\n    if (!e.has(name)) {\n      e.add(name);\n      document.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction clearDelegatedEvents(document = window.document) {\n  if (document[$$EVENTS]) {\n    for (let name of document[$$EVENTS].keys()) document.removeEventListener(name, eventHandler);\n    delete document[$$EVENTS];\n  }\n}\nfunction setProperty(node, name, value) {\n  if (isHydrating(node)) return;\n  node[name] = value;\n}\nfunction setAttribute(node, name, value) {\n  if (isHydrating(node)) return;\n  if (value == null) node.removeAttribute(name);\n  else node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (isHydrating(node)) return;\n  if (value == null) node.removeAttributeNS(namespace, name);\n  else node.setAttributeNS(namespace, name, value);\n}\nfunction setBoolAttribute(node, name, value) {\n  if (isHydrating(node)) return;\n  value ? node.setAttribute(name, \"\") : node.removeAttribute(name);\n}\nfunction className(node, value) {\n  if (isHydrating(node)) return;\n  if (value == null) node.removeAttribute(\"class\");\n  else node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, (handler[0] = e => handlerFn.call(node, handler[1], e)));\n  } else node.addEventListener(name, handler, typeof handler !== \"function\" && handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}),\n    prevKeys = Object.keys(prev);\n  let i, len;\n  for (i = 0, len = prevKeys.length; i < len; i++) {\n    const key = prevKeys[i];\n    if (!key || key === \"undefined\" || value[key]) continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i = 0, len = classKeys.length; i < len; i++) {\n    const key = classKeys[i],\n      classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue) continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value) return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\") return (nodeStyle.cssText = value);\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = undefined);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s;\n  for (s in prev) {\n    value[s] == null && nodeStyle.removeProperty(s);\n    delete prev[s];\n  }\n  for (s in value) {\n    v = value[s];\n    if (v !== prev[s]) {\n      nodeStyle.setProperty(s, v);\n      prev[s] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(\n      () => (prevProps.children = insertExpression(node, props.children, prevProps.children))\n    );\n  }\n  createRenderEffect(() => typeof props.ref === \"function\" && use(props.ref, node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction dynamicProperty(props, key) {\n  const src = props[key];\n  Object.defineProperty(props, key, {\n    get() {\n      return src();\n    },\n    enumerable: true\n  });\n  return props;\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== undefined && !initial) initial = [];\n  if (typeof accessor !== \"function\") return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect(current => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\") continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef, props);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren) insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef, props);\n  }\n}\nfunction hydrate$1(code, element, options = {}) {\n  if (globalThis._$HY.done) return render(code, element, [...element.childNodes], options);\n  sharedConfig.completed = globalThis._$HY.completed;\n  sharedConfig.events = globalThis._$HY.events;\n  sharedConfig.load = id => globalThis._$HY.r[id];\n  sharedConfig.has = id => id in globalThis._$HY.r;\n  sharedConfig.gather = root => gatherHydratable(element, root);\n  sharedConfig.registry = new Map();\n  sharedConfig.context = {\n    id: options.renderId || \"\",\n    count: 0\n  };\n  try {\n    gatherHydratable(element, options.renderId);\n    return render(code, element, [...element.childNodes], options);\n  } finally {\n    sharedConfig.context = null;\n  }\n}\nfunction getNextElement(template) {\n  let node,\n    key,\n    hydrating = isHydrating();\n  if (!hydrating || !(node = sharedConfig.registry.get((key = getHydrationKey())))) {\n    return template();\n  }\n  if (sharedConfig.completed) sharedConfig.completed.add(node);\n  sharedConfig.registry.delete(key);\n  return node;\n}\nfunction getNextMatch(el, nodeName) {\n  while (el && el.localName !== nodeName) el = el.nextSibling;\n  return el;\n}\nfunction getNextMarker(start) {\n  let end = start,\n    count = 0,\n    current = [];\n  if (isHydrating(start)) {\n    while (end) {\n      if (end.nodeType === 8) {\n        const v = end.nodeValue;\n        if (v === \"$\") count++;\n        else if (v === \"/\") {\n          if (count === 0) return [end, current];\n          count--;\n        }\n      }\n      current.push(end);\n      end = end.nextSibling;\n    }\n  }\n  return [end, current];\n}\nfunction runHydrationEvents() {\n  if (sharedConfig.events && !sharedConfig.events.queued) {\n    queueMicrotask(() => {\n      const { completed, events } = sharedConfig;\n      if (!events) return;\n      events.queued = false;\n      while (events.length) {\n        const [el, e] = events[0];\n        if (!completed.has(el)) return;\n        events.shift();\n        eventHandler(e);\n      }\n      if (sharedConfig.done) {\n        sharedConfig.events = _$HY.events = null;\n        sharedConfig.completed = _$HY.completed = null;\n      }\n    });\n    sharedConfig.events.queued = true;\n  }\n}\nfunction isHydrating(node) {\n  return !!sharedConfig.context && !sharedConfig.done && (!node || node.isConnected);\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i = 0, nameLen = classNames.length; i < nameLen; i++)\n    node.classList.toggle(classNames[i], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef, props) {\n  let isCE, isProp, isChildProp, propAlias, forceProp;\n  if (prop === \"style\") return style(node, value, prev);\n  if (prop === \"classList\") return classList(node, value, prev);\n  if (value === prev) return prev;\n  if (prop === \"ref\") {\n    if (!skipRef) value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e = prop.slice(3);\n    prev && node.removeEventListener(e, prev, typeof prev !== \"function\" && prev);\n    value && node.addEventListener(e, value, typeof value !== \"function\" && value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e = prop.slice(10);\n    prev && node.removeEventListener(e, prev, true);\n    value && node.addEventListener(e, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if (prop.slice(0, 5) === \"attr:\") {\n    setAttribute(node, prop.slice(5), value);\n  } else if (prop.slice(0, 5) === \"bool:\") {\n    setBoolAttribute(node, prop.slice(5), value);\n  } else if (\n    (forceProp = prop.slice(0, 5) === \"prop:\") ||\n    (isChildProp = ChildProperties.has(prop)) ||\n    (!isSVG &&\n      ((propAlias = getPropAlias(prop, node.tagName)) || (isProp = Properties.has(prop)))) ||\n    (isCE = node.nodeName.includes(\"-\") || \"is\" in props)\n  ) {\n    if (forceProp) {\n      prop = prop.slice(5);\n      isProp = true;\n    } else if (isHydrating(node)) return value;\n    if (prop === \"class\" || prop === \"className\") className(node, value);\n    else if (isCE && !isProp && !isChildProp) node[toPropertyName(prop)] = value;\n    else node[propAlias || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns) setAttributeNS(node, ns, prop, value);\n    else setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e) {\n  if (sharedConfig.registry && sharedConfig.events) {\n    if (sharedConfig.events.find(([el, ev]) => ev === e)) return;\n  }\n  let node = e.target;\n  const key = `$$${e.type}`;\n  const oriTarget = e.target;\n  const oriCurrentTarget = e.currentTarget;\n  const retarget = value =>\n    Object.defineProperty(e, \"target\", {\n      configurable: true,\n      value\n    });\n  const handleNode = () => {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== undefined ? handler.call(node, data, e) : handler.call(node, e);\n      if (e.cancelBubble) return;\n    }\n    node.host &&\n      typeof node.host !== \"string\" &&\n      !node.host._$host &&\n      node.contains(e.target) &&\n      retarget(node.host);\n    return true;\n  };\n  const walkUpTree = () => {\n    while (handleNode() && (node = node._$host || node.parentNode || node.host));\n  };\n  Object.defineProperty(e, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (sharedConfig.registry && !sharedConfig.done) sharedConfig.done = _$HY.done = true;\n  if (e.composedPath) {\n    const path = e.composedPath();\n    retarget(path[0]);\n    for (let i = 0; i < path.length - 2; i++) {\n      node = path[i];\n      if (!handleNode()) break;\n      if (node._$host) {\n        node = node._$host;\n        walkUpTree();\n        break;\n      }\n      if (node.parentNode === oriCurrentTarget) {\n        break;\n      }\n    }\n  } else walkUpTree();\n  retarget(oriTarget);\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  const hydrating = isHydrating(parent);\n  if (hydrating) {\n    !current && (current = [...parent.childNodes]);\n    let cleaned = [];\n    for (let i = 0; i < current.length; i++) {\n      const node = current[i];\n      if (node.nodeType === 8 && node.data.slice(0, 2) === \"!$\") node.remove();\n      else cleaned.push(node);\n    }\n    current = cleaned;\n  }\n  while (typeof current === \"function\") current = current();\n  if (value === current) return current;\n  const t = typeof value,\n    multi = marker !== undefined;\n  parent = (multi && current[0] && current[0].parentNode) || parent;\n  if (t === \"string\" || t === \"number\") {\n    if (hydrating) return current;\n    if (t === \"number\") {\n      value = value.toString();\n      if (value === current) return current;\n    }\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data !== value && (node.data = value);\n      } else node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else current = parent.textContent = value;\n    }\n  } else if (value == null || t === \"boolean\") {\n    if (hydrating) return current;\n    current = cleanChildren(parent, current, marker);\n  } else if (t === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\") v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => (current = insertExpression(parent, array, current, marker, true)));\n      return () => current;\n    }\n    if (hydrating) {\n      if (!array.length) return current;\n      if (marker === undefined) return (current = [...parent.childNodes]);\n      let node = array[0];\n      if (node.parentNode !== parent) return current;\n      const nodes = [node];\n      while ((node = node.nextSibling) !== marker) nodes.push(node);\n      return (current = nodes);\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi) return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value.nodeType) {\n    if (hydrating && value.parentNode) return (current = multi ? [value] : value);\n    if (Array.isArray(current)) {\n      if (multi) return (current = cleanChildren(parent, current, marker, value));\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap) {\n  let dynamic = false;\n  for (let i = 0, len = array.length; i < len; i++) {\n    let item = array[i],\n      prev = current && current[normalized.length],\n      t;\n    if (item == null || item === true || item === false);\n    else if ((t = typeof item) === \"object\" && item.nodeType) {\n      normalized.push(item);\n    } else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if (t === \"function\") {\n      if (unwrap) {\n        while (typeof item === \"function\") item = item();\n        dynamic =\n          normalizeIncomingArray(\n            normalized,\n            Array.isArray(item) ? item : [item],\n            Array.isArray(prev) ? prev : [prev]\n          ) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value) normalized.push(prev);\n      else normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i = 0, len = array.length; i < len; i++) parent.insertBefore(array[i], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === undefined) return (parent.textContent = \"\");\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i = current.length - 1; i >= 0; i--) {\n      const el = current[i];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i)\n          isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);\n        else isParent && el.remove();\n      } else inserted = true;\n    }\n  } else parent.insertBefore(node, marker);\n  return [node];\n}\nfunction gatherHydratable(element, root) {\n  const templates = element.querySelectorAll(`*[data-hk]`);\n  for (let i = 0; i < templates.length; i++) {\n    const node = templates[i];\n    const key = node.getAttribute(\"data-hk\");\n    if ((!root || key.startsWith(root)) && !sharedConfig.registry.has(key))\n      sharedConfig.registry.set(key, node);\n  }\n}\nfunction getHydrationKey() {\n  return sharedConfig.getNextContextId();\n}\nfunction NoHydration(props) {\n  return sharedConfig.context ? undefined : props.children;\n}\nfunction Hydration(props) {\n  return props.children;\n}\nconst voidFn = () => undefined;\nconst RequestContext = Symbol();\nfunction innerHTML(parent, content) {\n  !sharedConfig.context && (parent.innerHTML = content);\n}\n\nfunction throwInBrowser(func) {\n  const err = new Error(`${func.name} is not supported in the browser, returning undefined`);\n  console.error(err);\n}\nfunction renderToString(fn, options) {\n  throwInBrowser(renderToString);\n}\nfunction renderToStringAsync(fn, options) {\n  throwInBrowser(renderToStringAsync);\n}\nfunction renderToStream(fn, options) {\n  throwInBrowser(renderToStream);\n}\nfunction ssr(template, ...nodes) {}\nfunction ssrElement(name, props, children, needsId) {}\nfunction ssrClassList(value) {}\nfunction ssrStyle(value) {}\nfunction ssrAttribute(key, value) {}\nfunction ssrHydrationKey() {}\nfunction resolveSSRNode(node) {}\nfunction escape(html) {}\nfunction ssrSpread(props, isSVG, skipChildren) {}\n\nconst isServer = false;\nconst isDev = false;\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nconst hydrate = (...args) => {\n  enableHydration();\n  return hydrate$1(...args);\n};\nfunction Portal(props) {\n  const { useShadow } = props,\n    marker = document.createTextNode(\"\"),\n    mount = () => props.mount || document.body,\n    owner = getOwner();\n  let content;\n  let hydrating = !!sharedConfig.context;\n  createEffect(\n    () => {\n      if (hydrating) getOwner().user = hydrating = false;\n      content || (content = runWithOwner(owner, () => createMemo(() => props.children)));\n      const el = mount();\n      if (el instanceof HTMLHeadElement) {\n        const [clean, setClean] = createSignal(false);\n        const cleanup = () => setClean(true);\n        createRoot(dispose => insert(el, () => (!clean() ? content() : dispose()), null));\n        onCleanup(cleanup);\n      } else {\n        const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG),\n          renderRoot =\n            useShadow && container.attachShadow\n              ? container.attachShadow({\n                  mode: \"open\"\n                })\n              : container;\n        Object.defineProperty(container, \"_$host\", {\n          get() {\n            return marker.parentNode;\n          },\n          configurable: true\n        });\n        insert(renderRoot, content);\n        el.appendChild(container);\n        props.ref && props.ref(container);\n        onCleanup(() => el.removeChild(container));\n      }\n    },\n    undefined,\n    {\n      render: !hydrating\n    }\n  );\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = sharedConfig.context ? getNextElement() : createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\n\nexport {\n  Aliases,\n  voidFn as Assets,\n  ChildProperties,\n  DOMElements,\n  DelegatedEvents,\n  Dynamic,\n  Hydration,\n  voidFn as HydrationScript,\n  NoHydration,\n  Portal,\n  Properties,\n  RequestContext,\n  SVGElements,\n  SVGNamespace,\n  addEventListener,\n  assign,\n  classList,\n  className,\n  clearDelegatedEvents,\n  delegateEvents,\n  dynamicProperty,\n  escape,\n  voidFn as generateHydrationScript,\n  voidFn as getAssets,\n  getHydrationKey,\n  getNextElement,\n  getNextMarker,\n  getNextMatch,\n  getPropAlias,\n  voidFn as getRequestEvent,\n  hydrate,\n  innerHTML,\n  insert,\n  isDev,\n  isServer,\n  render,\n  renderToStream,\n  renderToString,\n  renderToStringAsync,\n  resolveSSRNode,\n  runHydrationEvents,\n  setAttribute,\n  setAttributeNS,\n  setBoolAttribute,\n  setProperty,\n  spread,\n  ssr,\n  ssrAttribute,\n  ssrClassList,\n  ssrElement,\n  ssrHydrationKey,\n  ssrSpread,\n  ssrStyle,\n  style,\n  template,\n  use,\n  voidFn as useAssets\n};\n","import { getOwner, onCleanup, createSignal, getListener } from 'solid-js';\nimport { isServer } from 'solid-js/web';\n\n// src/index.ts\nvar debounce = (callback, wait) => {\n  if (isServer) {\n    return Object.assign(() => void 0, { clear: () => void 0 });\n  }\n  let timeoutId;\n  const clear = () => clearTimeout(timeoutId);\n  if (getOwner())\n    onCleanup(clear);\n  const debounced = (...args) => {\n    if (timeoutId !== void 0)\n      clear();\n    timeoutId = setTimeout(() => callback(...args), wait);\n  };\n  return Object.assign(debounced, { clear });\n};\nvar throttle = (callback, wait) => {\n  if (isServer) {\n    return Object.assign(() => void 0, { clear: () => void 0 });\n  }\n  let isThrottled = false, timeoutId, lastArgs;\n  const throttled = (...args) => {\n    lastArgs = args;\n    if (isThrottled)\n      return;\n    isThrottled = true;\n    timeoutId = setTimeout(() => {\n      callback(...lastArgs);\n      isThrottled = false;\n    }, wait);\n  };\n  const clear = () => {\n    clearTimeout(timeoutId);\n    isThrottled = false;\n  };\n  if (getOwner())\n    onCleanup(clear);\n  return Object.assign(throttled, { clear });\n};\nvar scheduleIdle = isServer ? () => Object.assign(() => void 0, { clear: () => void 0 }) : (\n  // requestIdleCallback is not supported in Safari\n  window.requestIdleCallback ? (callback, maxWait) => {\n    let isDeferred = false, id, lastArgs;\n    const deferred = (...args) => {\n      lastArgs = args;\n      if (isDeferred)\n        return;\n      isDeferred = true;\n      id = requestIdleCallback(\n        () => {\n          callback(...lastArgs);\n          isDeferred = false;\n        },\n        { timeout: maxWait }\n      );\n    };\n    const clear = () => {\n      cancelIdleCallback(id);\n      isDeferred = false;\n    };\n    if (getOwner())\n      onCleanup(clear);\n    return Object.assign(deferred, { clear });\n  } : (\n    // fallback to setTimeout (throttle)\n    (callback) => throttle(callback)\n  )\n);\nfunction leading(schedule, callback, wait) {\n  if (isServer) {\n    let called = false;\n    const scheduled2 = (...args) => {\n      if (called)\n        return;\n      called = true;\n      callback(...args);\n    };\n    return Object.assign(scheduled2, { clear: () => void 0 });\n  }\n  let isScheduled = false;\n  const scheduled = schedule(() => isScheduled = false, wait);\n  const func = (...args) => {\n    if (!isScheduled)\n      callback(...args);\n    isScheduled = true;\n    scheduled();\n  };\n  const clear = () => {\n    isScheduled = false;\n    scheduled.clear();\n  };\n  if (getOwner())\n    onCleanup(clear);\n  return Object.assign(func, { clear });\n}\nfunction leadingAndTrailing(schedule, callback, wait) {\n  if (isServer) {\n    let called = false;\n    const scheduled2 = (...args) => {\n      if (called)\n        return;\n      called = true;\n      callback(...args);\n    };\n    return Object.assign(scheduled2, { clear: () => void 0 });\n  }\n  let State;\n  ((State2) => {\n    State2[State2[\"Ready\"] = 0] = \"Ready\";\n    State2[State2[\"Leading\"] = 1] = \"Leading\";\n    State2[State2[\"Trailing\"] = 2] = \"Trailing\";\n  })(State || (State = {}));\n  let state = 0 /* Ready */;\n  const scheduled = schedule((args) => {\n    state === 2 /* Trailing */ && callback(...args);\n    state = 0 /* Ready */;\n  }, wait);\n  const fn = (...args) => {\n    if (state !== 2 /* Trailing */) {\n      if (state === 0 /* Ready */)\n        callback(...args);\n      state += 1;\n    }\n    scheduled(args);\n  };\n  const clear = () => {\n    state = 0 /* Ready */;\n    scheduled.clear();\n  };\n  if (getOwner())\n    onCleanup(clear);\n  return Object.assign(fn, { clear });\n}\nfunction createScheduled(schedule) {\n  let listeners = 0;\n  let isDirty = false;\n  const [track, dirty] = createSignal(void 0, { equals: false });\n  const call = schedule(() => {\n    isDirty = true;\n    dirty();\n  });\n  return () => {\n    if (!isDirty)\n      call(), track();\n    if (isDirty) {\n      isDirty = !!listeners;\n      return true;\n    }\n    if (getListener()) {\n      listeners++;\n      onCleanup(() => listeners--);\n    }\n    return false;\n  };\n}\n\nexport { createScheduled, debounce, leading, leadingAndTrailing, scheduleIdle, throttle };\n","export interface ExternalCommand {\n  name: string\n  params?: unknown\n}\nexport type Tracker = ((method: string, options?: unknown) => void) & {quizzes: {queue: ExternalCommand[]}}\nexport enum Subdivision {\n  Mindbox = 'mindbox',\n  Maestra = 'maestra',\n}\nexport enum TrackerName {\n  Mindbox = 'mindbox',\n  Maestra = 'maestra',\n}\nexport type ExperimentsCookie = Record<string, string>\n","import {Subdivision, TrackerName} from '~/types/common'\n\nexport const TASK_EXECUTOR_INTERVAL = 1000\nexport const LOCATION_OBSERVER_INTERVAL = 300\n\nexport const SUBDIVISION: Subdivision = import.meta.env.WIDGET_SUBDIVISION\n\nconst TRACKER_NAME_MAP = {\n  [Subdivision.Maestra]: TrackerName.Maestra,\n  [Subdivision.Mindbox]: TrackerName.Mindbox,\n}\nexport const TRACKER_NAME = TRACKER_NAME_MAP[SUBDIVISION]\n\nexport const URL_SEARCH_PARAM_PREFIX = 'qz'\n\nexport const COOKIE_SETTINGS = {\n  sameSite: 'none',\n  secure: true,\n} as const\nexport const COOKIE_QZ_SESSION_NAME = '_qz_sess'\nexport const COOKIE_QZ_AB_NAME = '_qz_ab'\nexport const COOKIE_QZ_TOKEN_NAME = '_qz_token'\n\nexport const SEARCH_PARAM_QZ_AB = `${URL_SEARCH_PARAM_PREFIX}_ab`\nexport const SEARCH_PARAM_TOKEN = 'token'\n\nexport const WIZARD_ID_PARAM = `${URL_SEARCH_PARAM_PREFIX}_wizard`\n\n// TODO: fix headers\nexport const HEADER_QZ_AB = 'x-experiments'\nexport const HEADER_QZ_TOKEN = 'x-qz-token'\n\nexport const INLINE_TARGET_ID = 'qz-target'\n\nexport const CONTAINER_ID = 'qz-container'\n\nexport const INLINE_START_QUESTION_CONTAINER_ID = 'inline-start-question-container'\n\nexport const DEFAULT_LANG = 'en-US'\n","import {SUBDIVISION, TRACKER_NAME} from '~/constants/common'\n\nexport const getParentTracker = () => {\n  return window[TRACKER_NAME]\n}\n","import {getParentTracker} from './getParentTracker'\n\nenum Method {\n  GetDeviceUuid = 'helpers.getDeviceUUID',\n  GetEndpointId = 'helpers.getEndpointId',\n}\n\nconst getTrackerVariable = (method: Method): Promise<string> =>\n  new Promise((resolve, reject) => {\n    const parentTracker = getParentTracker()\n\n    if (parentTracker) {\n      parentTracker(method, resolve)\n      return\n    }\n\n    reject('there is no tracker')\n  })\n\nexport const getDeviceUuid = () => getTrackerVariable(Method.GetDeviceUuid)\nexport const getEndpointId = () => getTrackerVariable(Method.GetEndpointId)\n","import type {InitEvent} from '~/events/initEvent'\nimport type {MatcherStoreData} from '~/stores/createComplete'\nimport type {Final} from '~/types/finals'\nimport type {SdkBridge, SdkBridgeConfig} from '~/types/sdkBridge'\nimport type {TaskAdditionalType} from '~/types/task'\n\nimport type {WizardsRenderer} from './WizardsRenderer'\n\nimport {getDeviceUuid, getEndpointId} from './tracker'\n\nconst dataLayerRef = window.mqzzs\n\nclass Timers {\n  static #taskExecutor: number | undefined\n  static #locationObserver: number | undefined\n\n  static get taskExecutor() {\n    return this.#taskExecutor\n  }\n\n  static get locationObserver() {\n    return this.#locationObserver\n  }\n\n  static setLocationObserver(timer: number) {\n    this.#locationObserver = timer\n  }\n\n  static setTaskExecutor(timer: number) {\n    this.#taskExecutor = timer\n  }\n}\n\nclass Events {\n  static #init?: InitEvent\n  static #reInit?: Event\n\n  static get init() {\n    return this.#init\n  }\n\n  static get reInit() {\n    return this.#reInit\n  }\n\n  static setInit(initEvent: InitEvent) {\n    this.#init = initEvent\n  }\n\n  static setReInit(reInitEvent: Event) {\n    this.#reInit = reInitEvent\n  }\n}\n\nexport interface FinalScreenData {\n  data?: Final | MatcherStoreData\n  error?: unknown\n}\n\nexport interface DataLayerInappBridge {\n  trackClose: () => void\n  trackFinalBtnClicked: (props: {final: FinalScreenData}) => void\n  resolveReadyToShow: () => void\n  rejectReadyToShow: (message: {message: string}) => void\n}\n\nexport class DataLayer {\n  static #endpointId: string = ''\n  static #deviceUUID: string = ''\n  static #wizardId?: string\n  static #params: TaskAdditionalType\n  static #appRunner?: VoidFunction\n  static #isSpa = false\n  static #lastLocationHref = window.location.href\n  static #wizardsRenderer?: WizardsRenderer\n\n  static events = Events\n  static timers = Timers\n  static listeners: any = []\n\n  static get wizardsRenderer() {\n    return DataLayer.#wizardsRenderer\n  }\n\n  static get ready() {\n    return !!dataLayerRef.r\n  }\n\n  static get tasks() {\n    return dataLayerRef.q || []\n  }\n\n  static get endpointId() {\n    return DataLayer.#endpointId\n  }\n\n  static get wizardId() {\n    return DataLayer.#wizardId\n  }\n\n  static get deviceUUID() {\n    return DataLayer.#deviceUUID\n  }\n\n  static get params() {\n    return DataLayer.#params\n  }\n\n  static get appRunner() {\n    return DataLayer.#appRunner\n  }\n\n  static get isSpa() {\n    return this.#isSpa\n  }\n\n  static get lastLocationHref() {\n    return DataLayer.#lastLocationHref\n  }\n\n  static setWizardsRenderer(wizardsRenderer: WizardsRenderer | undefined) {\n    DataLayer.#wizardsRenderer = wizardsRenderer\n  }\n\n  static #setReady(state: boolean) {\n    dataLayerRef.r = state\n  }\n\n  static #setEndpointId(endpointId: string) {\n    DataLayer.#endpointId = endpointId\n  }\n\n  static #setWizardId(wizardId: string) {\n    DataLayer.#wizardId = wizardId\n  }\n\n  static #setDeviceUUID(deviceUUID: string) {\n    DataLayer.#deviceUUID = deviceUUID\n  }\n\n  static #setParams(params: TaskAdditionalType) {\n    DataLayer.#params = params\n  }\n\n  static setAppRunner(callback: VoidFunction) {\n    DataLayer.#appRunner = callback\n  }\n\n  static #setSpaMark = (mark: boolean) => {\n    this.#isSpa = mark\n  }\n\n  static setLastLocationHref = (locationHref: string) => {\n    this.#lastLocationHref = locationHref\n  }\n\n  static beforeInit = () => {\n    DataLayer.flush()\n  }\n\n  static #inappBridge?: DataLayerInappBridge\n\n  static initInappBridge(sdkBridge: SdkBridge) {\n    let resolveReadyToShow = () => {}\n    let rejectReadyToShow = (_error: {message: string}) => {}\n    sdkBridge.onMessage('quizzes.checkReadyToShow', (_payload, respond) => {\n      resolveReadyToShow = respond.resolve\n      rejectReadyToShow = respond.reject\n    })\n\n    this.#inappBridge = {\n      trackClose: () => {\n        sdkBridge.sendMessage('quizzes.closed', {}, {needResponse: false})\n      },\n      trackFinalBtnClicked: (props: {final: FinalScreenData}) => {\n        sdkBridge.sendMessage('quizzes.finalBtnClicked', props, {needResponse: false})\n      },\n      resolveReadyToShow: () => resolveReadyToShow(),\n      rejectReadyToShow: error => rejectReadyToShow(error),\n    }\n  }\n\n  static get inappBridge() {\n    return DataLayer.#inappBridge\n  }\n\n  static onInit = async (params: TaskAdditionalType) => {\n    let config: {\n      wizardId?: string\n      endpointId: string\n      deviceUUID: string\n    } = {\n      endpointId: '',\n      deviceUUID: '',\n    }\n\n    if (window.sdkBridge) {\n      DataLayer.initInappBridge(window.sdkBridge)\n\n      let getConfigFromBridgeResolve = (_config: SdkBridgeConfig) => {}\n      const getConfigFromBridge = new Promise((resolve: (config: SdkBridgeConfig) => void) => {\n        getConfigFromBridgeResolve = resolve\n      })\n\n      window.sdkBridge.onMessage('quizzes.init', (config: unknown) =>\n        getConfigFromBridgeResolve(config as SdkBridgeConfig),\n      )\n      window.sdkBridge.sendMessage('quizzes.ready', {}, {needResponse: false})\n      const sdkBridgeConfig = await getConfigFromBridge\n      config = {\n        ...config,\n        ...sdkBridgeConfig,\n      }\n    } else {\n      const [endpointId, deviceUUID] = await Promise.all([getEndpointId(), getDeviceUuid()])\n\n      config = {\n        endpointId,\n        deviceUUID,\n      }\n    }\n\n    this.#setReady(true)\n\n    const {endpointId, deviceUUID, wizardId} = config\n    DataLayer.#setEndpointId(endpointId)\n    DataLayer.#setDeviceUUID(deviceUUID)\n    if (wizardId) {\n      DataLayer.#setWizardId(wizardId)\n    }\n    DataLayer.#setParams(params)\n\n    this.#setSpaMark(true)\n  }\n\n  static flush = () => {\n    const locationObserverTimer = DataLayer.timers.locationObserver\n    if (locationObserverTimer) {\n      clearInterval(locationObserverTimer)\n    }\n\n    const taskExecutorTimer = DataLayer.timers.taskExecutor\n    if (taskExecutorTimer) {\n      clearInterval(taskExecutorTimer)\n    }\n  }\n}\n","export class Logger {\n  static captureException(error: unknown) {\n    console.log('Quizzes:', error)\n  }\n}\n","const abortControllerRegistry = new WeakMap<symbol, AbortController>()\n\ntype GetSignalType = () => AbortSignal\n\nexport function useAbortController(key: symbol): GetSignalType {\n  const abortController = abortControllerRegistry.get(key)\n  if (abortController) {\n    abortController.abort()\n    abortControllerRegistry.delete(key)\n  }\n\n  return function getSignal() {\n    const abortController = abortControllerRegistry.get(key)\n    if (abortController) {\n      return abortController.signal\n    }\n\n    const newAbortController = new AbortController()\n\n    abortControllerRegistry.set(key, newAbortController)\n\n    return newAbortController.signal\n  }\n}\n","export enum Action {\n  DEBUG = 'debug',\n  HIDDEN = 'hidden',\n  QUIZ = 'quiz',\n  SATELLITE = 'satellite',\n  SIMILAR = 'similar',\n  WELCOME = 'welcome',\n}\n","export enum Visibility {\n  COLLAPSE = 'collapse',\n  FORCE_SHOW = 'force_show',\n  HIDDEN = 'hidden',\n  PROMO = 'promo',\n  TOOLTIP = 'tooltip',\n}\n","import { $PROXY, $TRACK, getListener, batch, createSignal } from \"solid-js\";\n\nconst $RAW = Symbol(\"store-raw\"),\n  $NODE = Symbol(\"store-node\"),\n  $HAS = Symbol(\"store-has\"),\n  $SELF = Symbol(\"store-self\");\nfunction wrap$1(value) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: (p = new Proxy(value, proxyTraps$1))\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value),\n        desc = Object.getOwnPropertyDescriptors(value);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const prop = keys[i];\n        if (desc[prop].get) {\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get: desc[prop].get.bind(p)\n          });\n        }\n      }\n    }\n  }\n  return p;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return (\n    obj != null &&\n    typeof obj === \"object\" &&\n    (obj[$PROXY] ||\n      !(proto = Object.getPrototypeOf(obj)) ||\n      proto === Object.prototype ||\n      Array.isArray(obj))\n  );\n}\nfunction unwrap(item, set = new Set()) {\n  let result, unwrapped, v, prop;\n  if ((result = item != null && item[$RAW])) return result;\n  if (!isWrappable(item) || set.has(item)) return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item)) item = item.slice(0);\n    else set.add(item);\n    for (let i = 0, l = item.length; i < l; i++) {\n      v = item[i];\n      if ((unwrapped = unwrap(v, set)) !== v) item[i] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item)) item = Object.assign({}, item);\n    else set.add(item);\n    const keys = Object.keys(item),\n      desc = Object.getOwnPropertyDescriptors(item);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      prop = keys[i];\n      if (desc[prop].get) continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v) item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getNodes(target, symbol) {\n  let nodes = target[symbol];\n  if (!nodes)\n    Object.defineProperty(target, symbol, {\n      value: (nodes = Object.create(null))\n    });\n  return nodes;\n}\nfunction getNode(nodes, property, value) {\n  if (nodes[property]) return nodes[property];\n  const [s, set] = createSignal(value, {\n    equals: false,\n    internal: true\n  });\n  s.$ = set;\n  return (nodes[property] = s);\n}\nfunction proxyDescriptor$1(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE)\n    return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  getListener() && getNode(getNodes(target, $NODE), $SELF)();\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nconst proxyTraps$1 = {\n  get(target, property, receiver) {\n    if (property === $RAW) return target;\n    if (property === $PROXY) return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\") return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (\n        getListener() &&\n        (typeof value !== \"function\" || target.hasOwnProperty(property)) &&\n        !(desc && desc.get)\n      )\n        value = getNode(nodes, property, value)();\n    }\n    return isWrappable(value) ? wrap$1(value) : value;\n  },\n  has(target, property) {\n    if (\n      property === $RAW ||\n      property === $PROXY ||\n      property === $TRACK ||\n      property === $NODE ||\n      property === $HAS ||\n      property === \"__proto__\"\n    )\n      return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set() {\n    return true;\n  },\n  deleteProperty() {\n    return true;\n  },\n  ownKeys: ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor$1\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value) return;\n  const prev = state[property],\n    len = state.length;\n  if (value === undefined) {\n    delete state[property];\n    if (state[$HAS] && state[$HAS][property] && prev !== undefined) state[$HAS][property].$();\n  } else {\n    state[property] = value;\n    if (state[$HAS] && state[$HAS][property] && prev === undefined) state[$HAS][property].$();\n  }\n  let nodes = getNodes(state, $NODE),\n    node;\n  if ((node = getNode(nodes, property, prev))) node.$(() => value);\n  if (Array.isArray(state) && state.length !== len) {\n    for (let i = state.length; i < len; i++) (node = nodes[i]) && node.$();\n    (node = getNode(nodes, \"length\", len)) && node.$(state.length);\n  }\n  (node = nodes[$SELF]) && node.$();\n}\nfunction mergeStoreNode(state, value) {\n  const keys = Object.keys(value);\n  for (let i = 0; i < keys.length; i += 1) {\n    const key = keys[i];\n    setProperty(state, key, value[key]);\n  }\n}\nfunction updateArray(current, next) {\n  if (typeof next === \"function\") next = next(current);\n  next = unwrap(next);\n  if (Array.isArray(next)) {\n    if (current === next) return;\n    let i = 0,\n      len = next.length;\n    for (; i < len; i++) {\n      const value = next[i];\n      if (current[i] !== value) setProperty(current, i, value);\n    }\n    setProperty(current, \"length\", len);\n  } else mergeStoreNode(current, next);\n}\nfunction updatePath(current, path, traversed = []) {\n  let part,\n    prev = current;\n  if (path.length > 1) {\n    part = path.shift();\n    const partType = typeof part,\n      isArray = Array.isArray(current);\n    if (Array.isArray(part)) {\n      for (let i = 0; i < part.length; i++) {\n        updatePath(current, [part[i]].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"function\") {\n      for (let i = 0; i < current.length; i++) {\n        if (part(current[i], i)) updatePath(current, [i].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"object\") {\n      const { from = 0, to = current.length - 1, by = 1 } = part;\n      for (let i = from; i <= to; i += by) {\n        updatePath(current, [i].concat(path), traversed);\n      }\n      return;\n    } else if (path.length > 1) {\n      updatePath(current[part], path, [part].concat(traversed));\n      return;\n    }\n    prev = current[part];\n    traversed = [part].concat(traversed);\n  }\n  let value = path[0];\n  if (typeof value === \"function\") {\n    value = value(prev, traversed);\n    if (value === prev) return;\n  }\n  if (part === undefined && value == undefined) return;\n  value = unwrap(value);\n  if (part === undefined || (isWrappable(prev) && isWrappable(value) && !Array.isArray(value))) {\n    mergeStoreNode(prev, value);\n  } else setProperty(current, part, value);\n}\nfunction createStore(...[store, options]) {\n  const unwrappedStore = unwrap(store || {});\n  const isArray = Array.isArray(unwrappedStore);\n  const wrappedStore = wrap$1(unwrappedStore);\n  function setStore(...args) {\n    batch(() => {\n      isArray && args.length === 1\n        ? updateArray(unwrappedStore, args[0])\n        : updatePath(unwrappedStore, args);\n    });\n  }\n  return [wrappedStore, setStore];\n}\n\nfunction proxyDescriptor(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (\n    !desc ||\n    desc.get ||\n    desc.set ||\n    !desc.configurable ||\n    property === $PROXY ||\n    property === $NODE\n  )\n    return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  desc.set = v => (target[$PROXY][property] = v);\n  return desc;\n}\nconst proxyTraps = {\n  get(target, property, receiver) {\n    if (property === $RAW) return target;\n    if (property === $PROXY) return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getNodes(target, $NODE);\n    const tracked = nodes[property];\n    let value = tracked ? tracked() : target[property];\n    if (property === $NODE || property === $HAS || property === \"__proto__\") return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      const isFunction = typeof value === \"function\";\n      if (getListener() && (!isFunction || target.hasOwnProperty(property)) && !(desc && desc.get))\n        value = getNode(nodes, property, value)();\n      else if (value != null && isFunction && value === Array.prototype[property]) {\n        return (...args) => batch(() => Array.prototype[property].apply(receiver, args));\n      }\n    }\n    return isWrappable(value) ? wrap(value) : value;\n  },\n  has(target, property) {\n    if (\n      property === $RAW ||\n      property === $PROXY ||\n      property === $TRACK ||\n      property === $NODE ||\n      property === $HAS ||\n      property === \"__proto__\"\n    )\n      return true;\n    getListener() && getNode(getNodes(target, $HAS), property)();\n    return property in target;\n  },\n  set(target, property, value) {\n    batch(() => setProperty(target, property, unwrap(value)));\n    return true;\n  },\n  deleteProperty(target, property) {\n    batch(() => setProperty(target, property, undefined, true));\n    return true;\n  },\n  ownKeys: ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor\n};\nfunction wrap(value) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: (p = new Proxy(value, proxyTraps))\n    });\n    const keys = Object.keys(value),\n      desc = Object.getOwnPropertyDescriptors(value);\n    const proto = Object.getPrototypeOf(value);\n    const isClass =\n      proto !== null &&\n      value !== null &&\n      typeof value === \"object\" &&\n      !Array.isArray(value) &&\n      proto !== Object.prototype;\n    if (isClass) {\n      const descriptors = Object.getOwnPropertyDescriptors(proto);\n      keys.push(...Object.keys(descriptors));\n      Object.assign(desc, descriptors);\n    }\n    for (let i = 0, l = keys.length; i < l; i++) {\n      const prop = keys[i];\n      if (isClass && prop === \"constructor\") continue;\n      if (desc[prop].get) {\n        const get = desc[prop].get.bind(p);\n        Object.defineProperty(value, prop, {\n          get,\n          configurable: true\n        });\n      }\n      if (desc[prop].set) {\n        const og = desc[prop].set,\n          set = v => batch(() => og.call(p, v));\n        Object.defineProperty(value, prop, {\n          set,\n          configurable: true\n        });\n      }\n    }\n  }\n  return p;\n}\nfunction createMutable(state, options) {\n  const unwrappedStore = unwrap(state || {});\n  const wrappedStore = wrap(unwrappedStore);\n  return wrappedStore;\n}\nfunction modifyMutable(state, modifier) {\n  batch(() => modifier(unwrap(state)));\n}\n\nconst $ROOT = Symbol(\"store-root\");\nfunction applyState(target, parent, property, merge, key) {\n  const previous = parent[property];\n  if (target === previous) return;\n  const isArray = Array.isArray(target);\n  if (\n    property !== $ROOT &&\n    (!isWrappable(target) ||\n      !isWrappable(previous) ||\n      isArray !== Array.isArray(previous) ||\n      (key && target[key] !== previous[key]))\n  ) {\n    setProperty(parent, property, target);\n    return;\n  }\n  if (isArray) {\n    if (\n      target.length &&\n      previous.length &&\n      (!merge || (key && target[0] && target[0][key] != null))\n    ) {\n      let i, j, start, end, newEnd, item, newIndicesNext, keyVal;\n      for (\n        start = 0, end = Math.min(previous.length, target.length);\n        start < end &&\n        (previous[start] === target[start] ||\n          (key && previous[start] && target[start] && previous[start][key] === target[start][key]));\n        start++\n      ) {\n        applyState(target[start], previous, start, merge, key);\n      }\n      const temp = new Array(target.length),\n        newIndices = new Map();\n      for (\n        end = previous.length - 1, newEnd = target.length - 1;\n        end >= start &&\n        newEnd >= start &&\n        (previous[end] === target[newEnd] ||\n          (key && previous[start] && target[start] && previous[end][key] === target[newEnd][key]));\n        end--, newEnd--\n      ) {\n        temp[newEnd] = previous[end];\n      }\n      if (start > newEnd || start > end) {\n        for (j = start; j <= newEnd; j++) setProperty(previous, j, target[j]);\n        for (; j < target.length; j++) {\n          setProperty(previous, j, temp[j]);\n          applyState(target[j], previous, j, merge, key);\n        }\n        if (previous.length > target.length) setProperty(previous, \"length\", target.length);\n        return;\n      }\n      newIndicesNext = new Array(newEnd + 1);\n      for (j = newEnd; j >= start; j--) {\n        item = target[j];\n        keyVal = key && item ? item[key] : item;\n        i = newIndices.get(keyVal);\n        newIndicesNext[j] = i === undefined ? -1 : i;\n        newIndices.set(keyVal, j);\n      }\n      for (i = start; i <= end; i++) {\n        item = previous[i];\n        keyVal = key && item ? item[key] : item;\n        j = newIndices.get(keyVal);\n        if (j !== undefined && j !== -1) {\n          temp[j] = previous[i];\n          j = newIndicesNext[j];\n          newIndices.set(keyVal, j);\n        }\n      }\n      for (j = start; j < target.length; j++) {\n        if (j in temp) {\n          setProperty(previous, j, temp[j]);\n          applyState(target[j], previous, j, merge, key);\n        } else setProperty(previous, j, target[j]);\n      }\n    } else {\n      for (let i = 0, len = target.length; i < len; i++) {\n        applyState(target[i], previous, i, merge, key);\n      }\n    }\n    if (previous.length > target.length) setProperty(previous, \"length\", target.length);\n    return;\n  }\n  const targetKeys = Object.keys(target);\n  for (let i = 0, len = targetKeys.length; i < len; i++) {\n    applyState(target[targetKeys[i]], previous, targetKeys[i], merge, key);\n  }\n  const previousKeys = Object.keys(previous);\n  for (let i = 0, len = previousKeys.length; i < len; i++) {\n    if (target[previousKeys[i]] === undefined) setProperty(previous, previousKeys[i], undefined);\n  }\n}\nfunction reconcile(value, options = {}) {\n  const { merge, key = \"id\" } = options,\n    v = unwrap(value);\n  return state => {\n    if (!isWrappable(state) || !isWrappable(v)) return v;\n    const res = applyState(\n      v,\n      {\n        [$ROOT]: state\n      },\n      $ROOT,\n      merge,\n      key\n    );\n    return res === undefined ? state : res;\n  };\n}\nconst producers = new WeakMap();\nconst setterTraps = {\n  get(target, property) {\n    if (property === $RAW) return target;\n    const value = target[property];\n    let proxy;\n    return isWrappable(value)\n      ? producers.get(value) ||\n          (producers.set(value, (proxy = new Proxy(value, setterTraps))), proxy)\n      : value;\n  },\n  set(target, property, value) {\n    setProperty(target, property, unwrap(value));\n    return true;\n  },\n  deleteProperty(target, property) {\n    setProperty(target, property, undefined, true);\n    return true;\n  }\n};\nfunction produce(fn) {\n  return state => {\n    if (isWrappable(state)) {\n      let proxy;\n      if (!(proxy = producers.get(state))) {\n        producers.set(state, (proxy = new Proxy(state, setterTraps)));\n      }\n      fn(proxy);\n    }\n    return state;\n  };\n}\n\nconst DEV = undefined;\n\nexport { $RAW, DEV, createMutable, createStore, modifyMutable, produce, reconcile, unwrap };\n","import validate from './validate.js';\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  //\n  // Note to future-self: No, you can't remove the `toLowerCase()` call.\n  // REF: https://github.com/uuidjs/uuid/pull/677#issuecomment-1757351351\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n  var uuid = unsafeStringify(arr, offset);\n  // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\nexport default stringify;","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}","var randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return unsafeStringify(rnds);\n}\nexport default v4;","import {createSignal} from 'solid-js'\n\nimport type {Answer as BaseAnswer} from '~/types/answers'\n\ntype Answer = Pick<BaseAnswer, 'question' | 'answer'>\n\ntype AnswersStore = Answer[]\nconst getDefaultStore = (): AnswersStore => []\nexport const createAnswersStore = () => {\n  const [store, setStore] = createSignal<AnswersStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      push: (answer: Answer) => setStore(prevAnswers => [...prevAnswers, answer]),\n      add: (answers: Answer[]) => setStore(prevAnswers => [...prevAnswers, ...answers]),\n      reset: () => setStore(getDefaultStore()),\n      removeTillQuestion: (questionName: string) => {\n        const questionIndex = store().findIndex(answer => answer.question === questionName)\n        const prevAnswers = store()\n        const removedAnswers = prevAnswers.splice(questionIndex, prevAnswers.length - questionIndex + 1)\n\n        setStore([...prevAnswers])\n\n        return removedAnswers\n      },\n    },\n  }\n}\n\nexport const answersStore = createAnswersStore()\n","import {Action} from '~/types/action'\nimport {Visibility} from '~/types/visibility'\nimport {createEffect} from 'solid-js'\nimport {createStore, reconcile} from 'solid-js/store'\nimport {v4} from 'uuid'\n\nimport {answersStore} from './answers'\n\nexport interface InitialStore {\n  action: Action\n  visibility: Visibility\n  endpointId: string\n  traceUuid: string\n  deviceUuid: string\n  sessionUuid: string\n  actUuid?: string\n  intent?: 'api' | 'init' | 'reInit'\n  internalId: string\n}\nconst getDefaultStore = (): InitialStore => ({\n  action: Action.WELCOME,\n  visibility: Visibility.COLLAPSE,\n  endpointId: '',\n  traceUuid: '',\n  deviceUuid: '',\n  sessionUuid: '',\n  internalId: '',\n})\nconst createInitialStore = () => {\n  const [store, setStore] = createStore<InitialStore>(getDefaultStore())\n  let lastAnswersCount = 0\n\n  createEffect(() => {\n    const answersCount = answersStore.store().length\n\n    if (!lastAnswersCount && answersCount > 0) {\n      setStore(prevInitial => ({...prevInitial, actUuid: v4()}))\n    }\n\n    lastAnswersCount = answersCount\n  })\n\n  return {\n    store,\n    actions: {\n      init: (initial: InitialStore) => setStore(reconcile(initial)),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const initialStore = createInitialStore()\n","import {createContext, useContext} from 'solid-js'\n\ninterface AppContextProps {\n  embeddingRoot: ShadowRoot\n  inlineStartQuestionRoot?: ShadowRoot\n  destroy: () => void\n  forceShow: boolean\n  isInInapp: boolean\n}\nexport const AppContext = createContext<AppContextProps>()\n\nexport const useAppContext = () => {\n  const context = useContext(AppContext)\n\n  if (!context) {\n    throw Error('\"useAppContext\": incorrect context')\n  }\n\n  return context\n}\n","import {createContext, useContext} from 'solid-js'\n\ninterface StylingContextProps {\n  root: ShadowRoot\n}\n\nexport const StylingContext = createContext<StylingContextProps>()\n\nexport const useStylingContext = () => {\n  const context = useContext(StylingContext)\n\n  if (!context) {\n    throw Error('\"useStylingContext\": incorrect context')\n  }\n\n  return context\n}\n","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","import {useStylingContext} from '~/contexts'\nimport {css} from 'solid-styled-components'\n\nexport const useStyledUtils = () => {\n  const {root} = useStylingContext()\n\n  return {\n    css: css.bind({target: root}),\n  }\n}\n","import {createStore} from 'solid-js/store'\n\nimport type {Uatraits} from '~/types/uatraits'\n\nconst getDefaultStore = (): Uatraits => ({\n  device: {type: 'mobile'},\n})\nconst createUatraits = () => {\n  const [store, setStore] = createStore<Uatraits>(getDefaultStore())\n\n  return {\n    store,\n    computed: {\n      get isMobile(): boolean {\n        return store.device.type !== 'desktop'\n      },\n    },\n    actions: {\n      init: (uatraits: Uatraits) =>\n        setStore(prevStore => ({\n          ...prevStore,\n          ...uatraits,\n        })),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const uatraitsStore = createUatraits()\n","import {uatraitsStore} from '~/stores/uatraits'\n\nexport const isMobile = () => uatraitsStore.computed.isMobile\n","import type {DeepPartial} from '~/types/utils'\n\nexport function deepMerge<T extends Record<string, any>>(target: T, source?: DeepPartial<T>): T {\n  if (!source) return target\n\n  const result = {...target}\n\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      const sourceValue = source[key]\n      const targetValue = target[key]\n\n      if (\n        sourceValue &&\n        typeof sourceValue === 'object' &&\n        targetValue &&\n        typeof targetValue === 'object' &&\n        !Array.isArray(sourceValue) &&\n        !Array.isArray(targetValue)\n      ) {\n        result[key] = deepMerge(targetValue, sourceValue)\n      } else if (sourceValue !== undefined) {\n        result[key] = sourceValue as any\n      }\n    }\n  }\n\n  return result\n}\n","export const defaultTheme = {\n  colors: {\n    divider: {\n      primary: '#3C3C432E',\n    },\n    fill: {\n      primary: '#FFFFFF',\n      primaryInvert: '#121212',\n      small: '#eeeeef',\n      medium: '#f3f3f4',\n    },\n    text: {\n      primary: '#121212',\n      primaryInvert: '#FFFFFF',\n      secondary: '#3C3C4399',\n      secondaryInvert: '#EBEBF599',\n    },\n    buttons: {\n      start: {\n        default: 'rgba(0, 0, 0, 0.6)',\n        hover: 'rgba(0, 0, 0, 0.4)',\n      },\n      primary: {\n        default: '#121212',\n        hover: '#4D4D4D',\n      },\n      primaryInvert: {\n        default: '#FFFFFF',\n        hover: '#FAFAFA',\n      },\n      secondary: {\n        default: '#EEEEF0',\n        hover: '#F9F9F9',\n      },\n    },\n    overlay: {\n      o10: '#0000001A',\n      o40: '#00000066',\n      o80: '#000000CC',\n    },\n    accent: {\n      success: '#42A435',\n      error: '#E21331',\n      blue: '#007AFF',\n    },\n  },\n  gradients: {\n    bottomOverlay: 'linear-gradient(360deg, #FFFFFF 0%, rgba(255, 255, 255, 0.05) 81.82%)',\n  },\n  shadows: {\n    boxShadow:\n      '0px 16px 32px 0px #0000000A, 0px 8px 16px 0px #0000000A, 0px 4px 8px 0px #00000005, 0px 2px 4px 0px #00000005, 0px 0px 2px 0px #0000000D, 0px -0.5px 3px 0px #0000000D',\n  },\n  animation: {\n    transition: '200ms',\n  },\n  spacing: {\n    s2: '2px',\n    s4: '4px',\n    s6: '6px',\n    s8: '8px',\n    s10: '10px',\n    s12: '12px',\n    s14: '14px',\n    s16: '16px',\n    s18: '18px',\n    s20: '20px',\n    s24: '24px',\n    s26: '26px',\n    s28: '28px',\n    s32: '32px',\n    s36: '36px',\n    s40: '40px',\n  },\n  borderRadius: {\n    s4: '4px',\n    s8: '8px',\n    s12: '12px',\n    s14: '14px',\n    s16: '16px',\n    s20: '20px',\n    s24: '24px',\n    s32: '32px',\n  },\n  typography: {\n    fontFamily:\n      '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n    heading: {\n      s: {\n        fontSize: '16px',\n        lineHeight: '20px',\n        fontWeight: '450',\n      },\n      m: {\n        fontSize: '20px',\n        lineHeight: '24px',\n        fontWeight: '450',\n      },\n      l: {\n        fontSize: '22px',\n        lineHeight: '26px',\n        fontWeight: '500',\n      },\n    },\n    caption: {\n      s: {\n        fontSize: '11px',\n        lineHeight: '12px',\n        fontWeight: '450',\n      },\n      m: {\n        fontSize: '13px',\n        lineHeight: '16px',\n        fontWeight: '450',\n      },\n    },\n    paragraph: {\n      m: {\n        fontSize: '13px',\n        lineHeight: '16px',\n        fontWeight: '400',\n      },\n      l: {\n        fontSize: '16px',\n        lineHeight: '20px',\n        fontWeight: '400',\n      },\n    },\n    icon: {\n      size: {\n        m: '16px',\n        l: '20px',\n        xl: '32px',\n      },\n    },\n    button: {\n      fontSize: '15px',\n      lineHeight: '20px',\n    },\n  },\n} as const\n\ntype ThemeTextColor = typeof defaultTheme.colors.text\n\nexport type TextColorType = keyof ThemeTextColor\nexport type TextColor = ThemeTextColor[keyof ThemeTextColor]\n","import {deepMerge} from '~/helpers/deepMerge'\nimport {defaultTheme} from '~/theme'\nimport {createStore} from 'solid-js/store'\n\nimport type {Meta} from '~/types/meta'\nimport type {DeepPartial} from '~/types/utils'\n\nexport type Theme = typeof defaultTheme\nexport type CustomTheme = DeepPartial<Theme>\n\nconst createMetaStore = () => {\n  const [store, setStore] = createStore<Meta>({})\n\n  const getTheme = (): Theme => {\n    if (!store.theme) return defaultTheme\n    return deepMerge(defaultTheme, store.theme) as Theme\n  }\n\n  return {\n    store,\n    getTheme,\n    actions: {\n      init: setStore,\n    },\n  }\n}\n\nexport const metaStore = createMetaStore()\n","import {isMobile} from '~/helpers/isMobile'\nimport {metaStore} from '~/stores/meta'\n\nconst DEFAULT_Z_INDEX = 2147483647\n\nexport const applyTheme = (container: HTMLDivElement) => {\n  const zIndex = isMobile()\n    ? (metaStore.store.widget?.mobile?.zIndex ?? DEFAULT_Z_INDEX)\n    : (metaStore.store.widget?.desktop?.zIndex ?? DEFAULT_Z_INDEX)\n\n  Object.assign(container.style, {\n    position: 'relative',\n    zIndex,\n  })\n  container.style.setProperty('display', 'block', 'important')\n}\n\nexport const useTheme = () => metaStore.getTheme()\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {StylesArg} from 'solid-styled-components'\n\nexport const getClasses = (maxLines: number = 1) => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const LabelFilledStyles: StylesArg = {\n    lineHeight: theme.typography.paragraph.m.lineHeight,\n    fontSize: theme.typography.paragraph.m.fontSize,\n    top: theme.spacing.s16,\n    overflow: 'hidden',\n    paddingRight: theme.spacing.s16,\n    '@supports (-webkit-line-clamp: 1)': {\n      display: '-webkit-box',\n      WebkitLineClamp: 1,\n      WebkitBoxOrient: 'vertical',\n    },\n    \n    '@supports not (-webkit-line-clamp: 1)': {\n      display: 'block',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n    },\n  }\n  const LabelClass = css({\n    position: 'absolute',\n    zIndex: 1,\n    lineHeight: theme.typography.paragraph.l.lineHeight,\n    fontSize: theme.typography.paragraph.l.fontSize,\n    color: theme.colors.text.secondary,\n    top: theme.spacing.s28,\n    pointerEvents: 'none',\n    left: theme.spacing.s20,\n    right: 0,\n    textAlign: 'left',\n    transition: `all ${theme.animation.transition}`,\n    maxHeight: `calc(${theme.typography.paragraph.l.lineHeight} * ${maxLines})`,\n    overflow: 'hidden',\n    \n    '@supports (-webkit-line-clamp: 1)': {\n      display: '-webkit-box',\n      WebkitLineClamp: maxLines,\n      WebkitBoxOrient: 'vertical',\n    },\n    \n    '@supports not (-webkit-line-clamp: 1)': {\n      display: 'block',\n      textOverflow: 'ellipsis',\n      whiteSpace: 'nowrap',\n    },\n  })\n  const InputClass = css({\n    background: theme.colors.fill.small,\n    borderRadius: theme.borderRadius.s20,\n    border: 'none',\n    padding: `${theme.spacing.s36} ${theme.spacing.s20} ${theme.spacing.s16}`,\n    width: '100%',\n    boxSizing: 'border-box',\n    lineHeight: theme.typography.paragraph.l.lineHeight,\n    fontSize: theme.typography.paragraph.l.fontSize,\n    color: theme.colors.text.primary,\n    transition: `color ${theme.animation.transition}`,\n    caretColor: theme.colors.accent.blue,\n    outline: 'none',\n\n    [`&:focus + .${LabelClass}`]: LabelFilledStyles,\n  })\n\n  return {\n    TextFieldClass: css({position: 'relative'}),\n    FilledClass: css({\n      [`& .${LabelClass}`]: LabelFilledStyles,\n    }),\n    InvalidClass: css({\n      [`& .${InputClass}:not(:focus), & .${InputClass}:not(:focus) + .${LabelClass}`]: {\n        color: theme.colors.accent.error,\n      },\n    }),\n    LabelClass,\n    InputClass,\n    TextareaClass: css({\n      resize: 'none',\n    }),\n  }\n}\n","import {splitProps, type Component, type JSX} from 'solid-js'\n\nimport {getClasses} from './textField.styles'\n\ninterface OwnProps {\n  isInvalid?: boolean\n  label?: string\n  required?: boolean\n  onChange(value: string): void\n}\n\ntype TextFieldProps = (\n  | (Omit<JSX.InputHTMLAttributes<HTMLInputElement>, 'onChange'> & {multiline?: false})\n  | (Omit<JSX.TextareaHTMLAttributes<HTMLTextAreaElement>, 'onChange'> & {multiline: true})\n) &\n  OwnProps\nexport const TextField: Component<TextFieldProps> = props => {\n  const [localProps, restProps] = splitProps(props, ['isInvalid', 'label', 'required', 'onChange'])\n  \n  const maxLines = restProps.multiline ? (Number(restProps.rows) || 1) : 1\n  \n  const {TextFieldClass, FilledClass, LabelClass, InputClass, InvalidClass, TextareaClass} = getClasses(maxLines)\n\n  return (\n    <div\n      classList={{\n        [TextFieldClass]: true,\n        [FilledClass]: Boolean(restProps.value),\n        [InvalidClass]: Boolean(localProps.isInvalid),\n      }}>\n      {restProps.multiline ? (\n        <textarea\n          classList={{[InputClass]: true, [TextareaClass]: true}}\n          onInput={event => localProps.onChange((event.currentTarget as HTMLTextAreaElement).value)}\n          {...restProps}\n        />\n      ) : (\n        <input\n          class={InputClass}\n          onInput={event => localProps.onChange((event.currentTarget as HTMLInputElement).value)}\n          {...restProps}\n        />\n      )}\n      <label class={LabelClass}>\n        {localProps.label} {localProps.required && '*'}\n      </label>\n    </div>\n  )\n}\n","import {TextField} from '~/components/textField'\nimport {type Component} from 'solid-js'\n\nimport type {FreeformQuestion} from '~/types/question'\n\nimport type {AnswerProps} from '../types'\n\nexport const FreeformAnswer: Component<AnswerProps<FreeformQuestion>> = props => {\n  const handleChange = (answer: string) => props.onWithConfirmationChange(answer ? [answer] : [''])\n\n  props.onWithConfirmationChange([''])\n\n  return (\n    <TextField multiline value={props.answers[0]} label={props.question.placeholder} onChange={handleChange} rows=\"3\" />\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {ColorMode, Size, TextAlign} from './types'\n\ninterface HeadingClassProps {\n  size: Size\n  colorMode: ColorMode\n  textAlign?: TextAlign\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    HeadingClass: ({size, colorMode, textAlign}: HeadingClassProps) =>\n      css({\n        color: theme.colors.text[colorMode],\n\n        ...(size === 's' && {\n          fontSize: theme.typography.heading.s.fontSize,\n          lineHeight: theme.typography.heading.s.lineHeight,\n          fontWeight: theme.typography.heading.s.fontWeight,\n        }),\n        ...(size === 'm' && {\n          fontSize: theme.typography.heading.m.fontSize,\n          lineHeight: theme.typography.heading.m.lineHeight,\n          fontWeight: theme.typography.heading.m.fontWeight,\n        }),\n        ...(size === 'l' && {\n          fontSize: theme.typography.heading.l.fontSize,\n          lineHeight: theme.typography.heading.l.lineHeight,\n          fontWeight: theme.typography.heading.l.fontWeight,\n        }),\n\n        ...(textAlign && {textAlign}),\n      }),\n  }\n}\n","import type {JSX, ParentComponent} from 'solid-js'\n\nimport type {ColorMode, Size, TextAlign} from './types'\n\nimport {getClasses} from './heading.styles'\n\ninterface HeadingProps extends JSX.HTMLAttributes<HTMLDivElement> {\n  size: Size\n  colorMode: ColorMode\n  innerHTML?: string\n  textAlign?: TextAlign\n}\nexport const Heading: ParentComponent<HeadingProps> = props => {\n  const {HeadingClass} = getClasses()\n\n  return (\n    <div\n      classList={{\n        [HeadingClass({size: props.size, colorMode: props.colorMode, textAlign: props.textAlign})]: true,\n        ...(props.class && {[props.class]: true}),\n        ...props.classList,\n      }}\n      {...(props.innerHTML ? {innerHTML: props.innerHTML} : {children: props.children})}\n    />\n  )\n}\n","const AVAILABLE_SYMBOLS = ['nbsp', 'ensp', 'shy', 'emsp']\nexport const sanitizeText = (text: string) => {\n  const element = document.createElement('div')\n  element.innerText = text\n\n  const result = AVAILABLE_SYMBOLS.reduce((result, symbol) => {\n    const regexp = new RegExp(`&amp;${symbol};`, 'g')\n\n    return result.replace(regexp, `&${symbol};`)\n  }, element.innerHTML)\n\n  element.remove()\n\n  return result\n}\n\n/* \"Some text [link_name](link_href)\" ->  \"Some text <a href='link_href' target='_blank'>link_name</a>\" */\nconst parseMarkdownLinks = (text: string) =>\n  text.replace(/\\[([^\\]]+)\\]\\(([^)]+)\\)/g, \"<a href='$2' target='_blank'>$1</a>\")\n\n// only <a...>...</a> is supported\nexport const parseMarkdownText = (text: string) => {\n  const sanitizedText = sanitizeText(text)\n\n  return parseMarkdownLinks(sanitizedText)\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {Size} from './types'\n\ninterface IconClassProps {\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    IconClass: ({size}: IconClassProps) =>\n      css({\n        display: 'block',\n\n        ...(size === 'm' && {\n          height: theme.typography.icon.size.m,\n          width: theme.typography.icon.size.m,\n        }),\n        ...(size === 'l' && {\n          height: theme.typography.icon.size.l,\n          width: theme.typography.icon.size.l,\n        }),\n        ...(size === 'xl' && {\n          height: theme.typography.icon.size.xl,\n          width: theme.typography.icon.size.xl,\n        }),\n      }),\n  }\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const Checkmark: Component<IconImageProps> = props => {\n  return (\n    <svg\n      classList={props.classList}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M15.6802 6.53298C15.9842 6.90867 15.926 7.45962 15.5504 7.76358L8.34021 13.5969L7.71417 14.1034L7.15754 13.5215L4.36769 10.6048C4.03366 10.2556 4.04597 9.70172 4.39518 9.36768C4.7444 9.03365 5.29828 9.04596 5.63231 9.39517L7.86555 11.7299L14.4496 6.40308C14.8253 6.09913 15.3763 6.15728 15.6802 6.53298Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const Cross: Component<IconImageProps> = props => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      classList={props.classList}>\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M3.46967 3.46967C3.76256 3.17678 4.23744 3.17678 4.53033 3.46967L8 6.93934L11.4697 3.46967C11.7626 3.17678 12.2374 3.17678 12.5303 3.46967C12.8232 3.76256 12.8232 4.23744 12.5303 4.53033L9.06066 8L12.5303 11.4697C12.8232 11.7626 12.8232 12.2374 12.5303 12.5303C12.2374 12.8232 11.7626 12.8232 11.4697 12.5303L8 9.06066L4.53033 12.5303C4.23744 12.8232 3.76256 12.8232 3.46967 12.5303C3.17678 12.2374 3.17678 11.7626 3.46967 11.4697L6.93934 8L3.46967 4.53033C3.17678 4.23744 3.17678 3.76256 3.46967 3.46967Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const DownChevron: Component<IconImageProps> = props => {\n  return (\n    <svg\n      classList={props.classList}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M4.38128 8.13128C4.72299 7.78957 5.27701 7.78957 5.61872 8.13128L10 12.5126L14.3813 8.13128C14.723 7.78957 15.277 7.78957 15.6187 8.13128C15.9604 8.47299 15.9604 9.02701 15.6187 9.36872L10.6187 14.3687C10.277 14.7104 9.72299 14.7104 9.38128 14.3687L4.38128 9.36872C4.03957 9.02701 4.03957 8.47299 4.38128 8.13128Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const FaceSad: Component<IconImageProps> = props => {\n  return (\n    <svg\n      classList={props.classList}\n      width=\"32\"\n      height=\"32\"\n      viewBox=\"0 0 32 32\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M21.3337 21C21.3337 21 19.3337 18.3333 16.0003 18.3333C12.667 18.3333 10.667 21 10.667 21M20.0003 11.6667H20.0137M12.0003 11.6667H12.0137M20.667 11.6667C20.667 12.0349 20.3685 12.3333 20.0003 12.3333C19.6321 12.3333 19.3337 12.0349 19.3337 11.6667C19.3337 11.2985 19.6321 11 20.0003 11C20.3685 11 20.667 11.2985 20.667 11.6667ZM12.667 11.6667C12.667 12.0349 12.3685 12.3333 12.0003 12.3333C11.6321 12.3333 11.3337 12.0349 11.3337 11.6667C11.3337 11.2985 11.6321 11 12.0003 11C12.3685 11 12.667 11.2985 12.667 11.6667Z\"\n        stroke={props.color}\n        stroke-width=\"2\"\n        stroke-linecap=\"round\"\n        stroke-linejoin=\"round\"\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const LeftArrow: Component<IconImageProps> = props => {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      classList={props.classList}>\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M17.125 10.0002C17.125 10.4834 16.7332 10.8752 16.25 10.8752H5.86248L10.6187 15.6313C10.9604 15.973 10.9604 16.527 10.6187 16.8687C10.277 17.2104 9.723 17.2104 9.38129 16.8687L3.13129 10.6189C2.96719 10.4548 2.875 10.2323 2.875 10.0002C2.875 9.76812 2.96718 9.54556 3.13127 9.38146L9.38127 3.13129C9.72298 2.78958 10.277 2.78957 10.6187 3.13127C10.9604 3.47298 10.9604 4.027 10.6187 4.36871L5.86239 9.12517H16.25C16.7332 9.12517 17.125 9.51693 17.125 10.0002Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const MagicSearch: Component<IconImageProps> = props => {\n  return (\n    <svg\n      classList={props.classList}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M16.9079 16.9081C16.6346 17.1815 16.1914 17.1815 15.918 16.9081L14.1086 15.0986C12.7618 16.223 11.0282 16.8996 9.1365 16.8996C4.84906 16.8996 1.37341 13.424 1.37341 9.13652C1.37341 4.84909 4.84906 1.37344 9.1365 1.37344C13.4239 1.37344 16.8996 4.84909 16.8996 9.13652C16.8996 11.0282 16.223 12.7619 15.0986 14.1087L16.908 15.9182C17.1813 16.1916 17.1813 16.6348 16.9079 16.9081ZM14.0986 13.1201C14.9751 12.0297 15.4996 10.6444 15.4996 9.13652C15.4996 5.62229 12.6507 2.77344 9.1365 2.77344C5.62226 2.77344 2.77341 5.62229 2.77341 9.13652C2.77341 12.6508 5.62226 15.4996 9.1365 15.4996C10.6444 15.4996 12.0297 14.9751 13.1201 14.0986C13.4806 13.8089 13.8088 13.4806 14.0986 13.1201Z\"\n        fill={props.color}\n      />\n      <path\n        d=\"M9.91729 5.44792L10.6399 7.32661C10.7574 7.63212 10.8161 7.78488 10.9075 7.91337C10.9885 8.02725 11.088 8.12675 11.2018 8.20772C11.3303 8.29909 11.4831 8.35784 11.7886 8.47534L13.6673 9.19792L11.7886 9.92049C11.4831 10.038 11.3303 10.0967 11.2018 10.1881C11.088 10.2691 10.9885 10.3686 10.9075 10.4825C10.8161 10.611 10.7574 10.7637 10.6399 11.0692L9.91729 12.9479L9.19472 11.0692C9.07721 10.7637 9.01846 10.611 8.9271 10.4825C8.84612 10.3686 8.74663 10.2691 8.63275 10.1881C8.50425 10.0967 8.3515 10.038 8.04599 9.92049L6.16729 9.19792L8.04598 8.47534C8.3515 8.35784 8.50425 8.29909 8.63275 8.20772C8.74663 8.12675 8.84612 8.02725 8.9271 7.91337C9.01846 7.78488 9.07721 7.63212 9.19472 7.32661L9.91729 5.44792Z\"\n        fill={props.color}\n      />\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M6.37563 4.65625C6.58273 4.65625 6.75063 4.82414 6.75063 5.03125V5.69792H7.41729C7.6244 5.69792 7.79229 5.86581 7.79229 6.07292C7.79229 6.28002 7.6244 6.44792 7.41729 6.44792H6.75063V7.11458C6.75063 7.32169 6.58273 7.48958 6.37563 7.48958C6.16852 7.48958 6.00063 7.32169 6.00063 7.11458V6.44792H5.33396C5.12685 6.44792 4.95896 6.28002 4.95896 6.07292C4.95896 5.86581 5.12685 5.69792 5.33396 5.69792H6.00063V5.03125C6.00063 4.82414 6.16852 4.65625 6.37563 4.65625ZM9.91729 5.07292C10.0725 5.07292 10.2116 5.16848 10.2673 5.3133L10.9899 7.19199C11.1143 7.51544 11.1555 7.61511 11.2131 7.69606C11.2698 7.77577 11.3394 7.84542 11.4192 7.9021C11.5001 7.95966 11.5998 8.00094 11.9232 8.12534L13.8019 8.84791C13.9467 8.90361 14.0423 9.04275 14.0423 9.19792C14.0423 9.35308 13.9467 9.49222 13.8019 9.54792L11.9232 10.2705C11.5998 10.3949 11.5001 10.4362 11.4192 10.4937C11.3394 10.5504 11.2698 10.6201 11.2131 10.6998C11.1555 10.7807 11.1143 10.8804 10.9899 11.2038L10.2673 13.0825C10.2116 13.2274 10.0725 13.3229 9.91729 13.3229C9.76213 13.3229 9.62299 13.2274 9.56729 13.0825L8.84471 11.2038C8.72031 10.8804 8.67904 10.7807 8.62148 10.6998C8.5648 10.6201 8.49515 10.5504 8.41544 10.4937C8.33449 10.4362 8.23481 10.3949 7.91137 10.2705L6.03268 9.54792C5.88785 9.49222 5.79229 9.35308 5.79229 9.19792C5.79229 9.04275 5.88785 8.90361 6.03268 8.84791L7.91137 8.12534C8.23481 8.00094 8.33449 7.95966 8.41543 7.90211C8.49515 7.84542 8.5648 7.77577 8.62148 7.69606C8.67904 7.61511 8.72031 7.51544 8.84471 7.19199L9.56729 5.3133C9.62299 5.16848 9.76213 5.07292 9.91729 5.07292ZM9.91729 6.49255L9.54472 7.46123C9.53953 7.47474 9.53441 7.48807 9.52935 7.50122C9.42684 7.76808 9.352 7.96291 9.23271 8.13068C9.12745 8.27872 8.9981 8.40807 8.85006 8.51334C8.68229 8.63263 8.48746 8.70747 8.2206 8.80998C8.20744 8.81503 8.19411 8.82015 8.1806 8.82535L7.21192 9.19792L8.1806 9.57049C8.19412 9.57568 8.20745 9.58081 8.2206 9.58586C8.48746 9.68837 8.68229 9.76321 8.85006 9.8825C8.9981 9.98776 9.12745 10.1171 9.23271 10.2652C9.35201 10.4329 9.42685 10.6278 9.52935 10.8946C9.53441 10.9078 9.53953 10.9211 9.54472 10.9346L9.91729 11.9033L10.2899 10.9346C10.2951 10.9211 10.3002 10.9078 10.3052 10.8946C10.4077 10.6277 10.4826 10.4329 10.6019 10.2652C10.7071 10.1171 10.8365 9.98776 10.9845 9.8825C11.1523 9.76321 11.3471 9.68836 11.614 9.58586C11.6271 9.5808 11.6405 9.57568 11.654 9.57049L12.6227 9.19792L11.654 8.82535C11.6405 8.82015 11.6271 8.81503 11.614 8.80998C11.3471 8.70747 11.1523 8.63263 10.9845 8.51334C10.8365 8.40807 10.7071 8.27872 10.6019 8.13068C10.4826 7.96292 10.4077 7.76809 10.3052 7.50123C10.3002 7.48807 10.2951 7.47474 10.2899 7.46123L9.91729 6.49255ZM6.37563 10.9063C6.58273 10.9063 6.75063 11.0741 6.75063 11.2813V11.9479H7.41729C7.6244 11.9479 7.79229 12.1158 7.79229 12.3229C7.79229 12.53 7.6244 12.6979 7.41729 12.6979H6.75063V13.3646C6.75063 13.5717 6.58273 13.7396 6.37563 13.7396C6.16852 13.7396 6.00063 13.5717 6.00063 13.3646V12.6979H5.33396C5.12685 12.6979 4.95896 12.53 4.95896 12.3229C4.95896 12.1158 5.12685 11.9479 5.33396 11.9479H6.00063V11.2813C6.00063 11.0741 6.16852 10.9063 6.37563 10.9063Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const Picture: Component<IconImageProps> = props => {\n  return (\n    <svg\n      classList={props.classList}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M5.63533 1.75L5.66675 1.75H14.3334L14.3648 1.75C15.0382 1.74999 15.5889 1.74998 16.0365 1.78655C16.4997 1.8244 16.9181 1.90514 17.3089 2.10423C17.9204 2.41582 18.4176 2.913 18.7292 3.52453C18.9283 3.91527 19.009 4.33367 19.0469 4.79693C19.0834 5.24449 19.0834 5.79519 19.0834 6.46856V6.5V12.5V13.5V13.5314C19.0834 14.2048 19.0834 14.7555 19.0469 15.2031C19.009 15.6663 18.9283 16.0847 18.7292 16.4755C18.4176 17.087 17.9204 17.5842 17.3089 17.8958C16.9181 18.0949 16.4997 18.1756 16.0365 18.2134C15.5889 18.25 15.0382 18.25 14.3648 18.25H14.3334H5.66675H5.63536C4.96197 18.25 4.41125 18.25 3.96368 18.2134C3.50042 18.1756 3.08202 18.0949 2.69128 17.8958C2.07975 17.5842 1.58257 17.087 1.27098 16.4755C1.07189 16.0847 0.99115 15.6663 0.9533 15.2031C0.916732 14.7555 0.91674 14.2048 0.916748 13.5314L0.916749 13.5V6.5L0.916748 6.46858C0.91674 5.7952 0.916732 5.2445 0.9533 4.79693C0.99115 4.33367 1.07189 3.91527 1.27098 3.52453C1.58257 2.913 2.07975 2.41582 2.69128 2.10423C3.08202 1.90514 3.50042 1.8244 3.96368 1.78655C4.41124 1.74998 4.96195 1.74999 5.63533 1.75ZM17.5834 10.6893V6.5C17.5834 5.78756 17.5828 5.29833 17.5518 4.91908C17.5216 4.54858 17.4661 4.34956 17.3927 4.20552C17.2249 3.87623 16.9572 3.60852 16.6279 3.44074C16.4839 3.36735 16.2848 3.31184 15.9143 3.28157C15.5351 3.25058 15.0459 3.25 14.3334 3.25H5.66675C4.95431 3.25 4.46508 3.25058 4.08583 3.28157C3.71533 3.31184 3.5163 3.36735 3.37227 3.44074C3.04298 3.60852 2.77527 3.87623 2.60749 4.20552C2.5341 4.34956 2.47859 4.54858 2.44832 4.91908C2.41733 5.29833 2.41675 5.78756 2.41675 6.5V13.5C2.41675 14.2124 2.41733 14.7017 2.44832 15.0809C2.47859 15.4514 2.5341 15.6504 2.60749 15.7945C2.75754 16.089 2.98752 16.3342 3.26998 16.5028L8.52694 11.2458L8.54448 11.2283C8.69432 11.0784 8.83694 10.9358 8.96694 10.8254C9.1087 10.705 9.284 10.5797 9.51081 10.506C9.82881 10.4027 10.1714 10.4027 10.4894 10.506C10.7162 10.5797 10.8915 10.705 11.0332 10.8254C11.1632 10.9358 11.3058 11.0784 11.4557 11.2283L11.4732 11.2458L11.6667 11.4393L13.5269 9.57915L13.5445 9.56162C13.6943 9.41174 13.8369 9.2691 13.9669 9.15873C14.1087 9.03838 14.284 8.91303 14.5108 8.83934C14.8288 8.73601 15.1714 8.73601 15.4894 8.83934C15.7162 8.91303 15.8915 9.03838 16.0332 9.15873C16.1632 9.2691 16.3059 9.41175 16.4557 9.56163L16.4732 9.57914L17.5834 10.6893ZM11.1367 13.0306C11.1366 13.0305 11.1365 13.0304 11.1364 13.0303C11.1363 13.0302 11.1362 13.0302 11.1362 13.0301L10.4126 12.3065C10.2388 12.1327 10.14 12.0347 10.0625 11.9689C10.038 11.9481 10.0217 11.936 10.0124 11.9294C10.0042 11.9282 9.99594 11.9282 9.9878 11.9294C9.97846 11.936 9.96217 11.9481 9.93771 11.9689C9.8602 12.0347 9.76136 12.1327 9.5876 12.3065L5.14476 16.7493C5.30445 16.75 5.47775 16.75 5.66675 16.75H14.3334C14.5224 16.75 14.6957 16.75 14.8554 16.7493L11.1367 13.0306ZM16.7302 16.5028L12.7274 12.5L14.5876 10.6398C14.7614 10.466 14.8602 10.368 14.9377 10.3022C14.9622 10.2815 14.9785 10.2693 14.9878 10.2628C14.9959 10.2615 15.0042 10.2615 15.0124 10.2628C15.0217 10.2693 15.038 10.2815 15.0625 10.3022C15.14 10.368 15.2388 10.466 15.4126 10.6398L17.5834 12.8107V13.5C17.5834 14.2124 17.5828 14.7017 17.5518 15.0809C17.5216 15.4514 17.4661 15.6504 17.3927 15.7945C17.2426 16.089 17.0126 16.3342 16.7302 16.5028ZM6.66675 6.58333C6.16049 6.58333 5.75008 6.99374 5.75008 7.5C5.75008 8.00626 6.16049 8.41667 6.66675 8.41667C7.17301 8.41667 7.58342 8.00626 7.58342 7.5C7.58342 6.99374 7.17301 6.58333 6.66675 6.58333ZM4.25008 7.5C4.25008 6.16531 5.33206 5.08333 6.66675 5.08333C8.00144 5.08333 9.08342 6.16531 9.08342 7.5C9.08342 8.83469 8.00144 9.91667 6.66675 9.91667C5.33206 9.91667 4.25008 8.83469 4.25008 7.5Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const Refresh: Component<IconImageProps> = props => {\n  return (\n    <svg\n      classList={props.classList}\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M1.625 10C1.625 5.37461 5.37462 1.625 10 1.625C12.3135 1.625 14.4093 2.56421 15.9241 4.08003C16.4323 4.58865 16.9745 5.21097 17.4583 5.79601V3.33333C17.4583 2.85008 17.8501 2.45833 18.3333 2.45833C18.8166 2.45833 19.2083 2.85008 19.2083 3.33333V8.33333C19.2083 8.81658 18.8166 9.20833 18.3333 9.20833H13.3333C12.8501 9.20833 12.4583 8.81658 12.4583 8.33333C12.4583 7.85008 12.8501 7.45833 13.3333 7.45833H16.5544C15.9876 6.74959 15.2964 5.9277 14.6862 5.31704C13.4862 4.11624 11.8305 3.375 10 3.375C6.34111 3.375 3.375 6.34111 3.375 10C3.375 13.6589 6.34111 16.625 10 16.625C13.0191 16.625 15.5686 14.6048 16.3662 11.8407C16.5001 11.3764 16.9852 11.1087 17.4495 11.2426C17.9138 11.3766 18.1815 11.8616 18.0476 12.3259C17.0396 15.819 13.8194 18.375 10 18.375C5.37462 18.375 1.625 14.6254 1.625 10Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const RightArrow: Component<IconImageProps> = props => {\n  return (\n    <svg\n      width=\"16\"\n      height=\"16\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      classList={props.classList}>\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M2.25 8.00014C2.25 8.41435 2.58579 8.75014 3 8.75014H11.1893L7.46968 12.4697C7.17678 12.7626 7.17677 13.2374 7.46966 13.5303C7.76255 13.8232 8.23743 13.8232 8.53032 13.5303L13.5303 8.53048C13.671 8.38983 13.75 8.19906 13.75 8.00015C13.75 7.80124 13.671 7.61047 13.5303 7.46982L8.53034 2.46968C8.23745 2.17678 7.76257 2.17677 7.46968 2.46966C7.17678 2.76255 7.17677 3.23743 7.46966 3.53032L11.1894 7.25014H3C2.58579 7.25014 2.25 7.58593 2.25 8.00014Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const RightChevron: Component<IconImageProps> = props => {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      classList={props.classList}>\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M7.50628 15.6187C7.16457 15.277 7.16457 14.723 7.50628 14.3813L11.8876 10L7.50628 5.61872C7.16457 5.27701 7.16457 4.72299 7.50628 4.38128C7.84799 4.03957 8.40201 4.03957 8.74372 4.38128L13.7437 9.38128C14.0854 9.72299 14.0854 10.277 13.7437 10.6187L8.74372 15.6187C8.40201 15.9604 7.84799 15.9604 7.50628 15.6187Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {IconImageProps} from './types'\n\nexport const Sort: Component<IconImageProps> = props => {\n  return (\n    <svg\n      width=\"20\"\n      height=\"20\"\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      classList={props.classList}>\n      <path\n        fill-rule=\"evenodd\"\n        clip-rule=\"evenodd\"\n        d=\"M1.625 5C1.625 4.51675 2.01675 4.125 2.5 4.125H17.5C17.9832 4.125 18.375 4.51675 18.375 5C18.375 5.48325 17.9832 5.875 17.5 5.875H2.5C2.01675 5.875 1.625 5.48325 1.625 5ZM4.125 10C4.125 9.51675 4.51675 9.125 5 9.125H15C15.4832 9.125 15.875 9.51675 15.875 10C15.875 10.4832 15.4832 10.875 15 10.875H5C4.51675 10.875 4.125 10.4832 4.125 10ZM6.625 15C6.625 14.5168 7.01675 14.125 7.5 14.125H12.5C12.9832 14.125 13.375 14.5168 13.375 15C13.375 15.4832 12.9832 15.875 12.5 15.875H7.5C7.01675 15.875 6.625 15.4832 6.625 15Z\"\n        fill={props.color}\n      />\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {Size} from './types'\n\nimport {getClasses} from './icon.styles'\nimport {Checkmark} from './images/checkmark'\nimport {Cross} from './images/cross'\nimport {DownChevron} from './images/downChevron'\nimport {FaceSad} from './images/faceSad'\nimport {LeftArrow} from './images/leftArrow'\nimport {MagicSearch} from './images/magicSearch'\nimport {Picture} from './images/picture'\nimport {Refresh} from './images/refresh'\nimport {RightArrow} from './images/rightArrow'\nimport {RightChevron} from './images/rightChevron'\nimport {Sort} from './images/sort'\n\nconst iconComponentsMap = {\n  cross: Cross,\n  'right-arrow': RightArrow,\n  'left-arrow': LeftArrow,\n  refresh: Refresh,\n  sort: Sort,\n  'face-sad': FaceSad,\n  picture: Picture,\n  'right-chevron': RightChevron,\n  'down-chevron': DownChevron,\n  checkmark: Checkmark,\n  'magic-search': MagicSearch,\n} as const\nexport type IconType = keyof typeof iconComponentsMap\n\ninterface IconProps {\n  icon: IconType\n  color: string\n  size: Size\n  class?: string\n}\nexport const Icon: Component<IconProps> = props => {\n  const {IconClass} = getClasses()\n  const ImageComponent = iconComponentsMap[props.icon]\n\n  return (\n    <ImageComponent\n      classList={{[IconClass({size: props.size})]: true, ...(props.class && {[props.class]: true})}}\n      color={props.color}\n    />\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {ColorMode, Size} from './types'\n\ninterface CaptionClassProps {\n  colorMode: ColorMode\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    CaptionClass: ({size, colorMode}: CaptionClassProps) =>\n      css({\n        ...(colorMode === 'secondary' && {\n          color: theme.colors.text.secondary,\n\n          '& *': {\n            color: theme.colors.text.secondary,\n          },\n        }),\n\n        ...(size === 's' && {\n          fontSize: theme.typography.caption.s.fontSize,\n          lineHeight: theme.typography.caption.s.lineHeight,\n          fontWeight: theme.typography.caption.s.fontWeight,\n        }),\n        ...(size === 'm' && {\n          fontSize: theme.typography.caption.m.fontSize,\n          lineHeight: theme.typography.caption.m.lineHeight,\n          fontWeight: theme.typography.caption.m.fontWeight,\n        }),\n      }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport type {ColorMode, Size} from './types'\n\nimport {getClasses} from './caption.styles'\n\ninterface CaptionProps {\n  size: Size\n  colorMode: ColorMode\n  class?: string\n  innerHTML?: string\n}\nexport const Caption: ParentComponent<CaptionProps> = props => {\n  const {CaptionClass} = getClasses()\n\n  return (\n    <div\n      classList={{\n        [CaptionClass({colorMode: props.colorMode, size: props.size})]: true,\n        ...(props.class && {[props.class]: true}),\n      }}\n      {...(props.innerHTML ? {innerHTML: props.innerHTML} : {children: props.children})}\n    />\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const FakeClass = css({\n    boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n    width: theme.spacing.s20,\n    height: theme.spacing.s20,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    background: 'transparent',\n    transition: `background ${theme.animation.transition}`,\n    borderRadius: theme.spacing.s6,\n    cursor: 'pointer',\n  })\n  const IconClass = css({\n    opacity: 0,\n    transition: `opacity ${theme.animation.transition}`,\n  })\n  const CaptionClass = css({textAlign: 'left'})\n  // https://github.com/cristianbote/goober/issues/397\n  // goober may not work correctly, use dirty hack before migration from solid-styled-components (goober)\n  const CheckboxCheckedClass = css(';')\n\n  return {\n    LabelClass: css({display: 'grid', gridTemplateColumns: 'auto 1fr', gap: theme.spacing.s8}),\n    InvalidClass: css({\n      [`& .${CaptionClass}, & .${CaptionClass} *`]: {color: theme.colors.accent.error},\n    }),\n    FakeClass,\n    IconClass,\n    CheckboxCheckedClass,\n    TextClass: css({\n      display: 'flex',\n      justifyContent: 'center',\n      flexDirection: 'column',\n    }),\n    CheckboxClass: css`\n      position: absolute;\n      opacity: 0;\n      width: 0;\n      height: 0;\n\n      &:focus + .${FakeClass} {\n        outline: 1px dotted #212121;\n        outline: 5px auto -webkit-focus-ring-color;\n      }\n\n      &.${CheckboxCheckedClass} + .${FakeClass}, &:checked + .${FakeClass} {\n        boxshadow: inset 0px 0px 0px 1.5px ${theme.colors.accent.blue} !important;\n        background: ${theme.colors.accent.blue};\n      }\n\n      &.${CheckboxCheckedClass} + .${FakeClass} .${IconClass}, &:checked + .${FakeClass} .${IconClass} {\n        opacity: 1;\n      }\n    `,\n    CaptionClass,\n  }\n}\n","import {Icon} from '~/components/icon'\nimport {Caption} from '~/components/typography/caption'\nimport {useTheme} from '~/helpers/theme'\nimport {mergeProps, splitProps, type Component} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {JSX} from 'solid-js'\n\nimport {getClasses} from './checkbox.styles'\n\ninterface CheckboxProps extends Omit<JSX.InputHTMLAttributes<HTMLInputElement>, 'type'> {\n  class?: string\n  asInput?: boolean\n  isInvalid?: boolean\n  innerHTML?: string\n  children?: string\n}\nexport const Checkbox: Component<CheckboxProps> = props => {\n  const mergedProps = mergeProps({asInput: true}, props)\n  const [localProps, restProps] = splitProps(mergedProps, ['class', 'asInput', 'isInvalid', 'checked'])\n  const {CheckboxClass, CheckboxCheckedClass, IconClass, FakeClass, LabelClass, TextClass, InvalidClass, CaptionClass} =\n    getClasses()\n  const theme = useTheme()\n\n  return (\n    <label\n      classList={{\n        [LabelClass]: true,\n        [InvalidClass]: localProps.isInvalid,\n        ...(localProps.class && {[localProps.class]: true}),\n      }}>\n      <div>\n        <Dynamic\n          component={localProps.asInput ? 'input' : 'div'}\n          classList={{[CheckboxClass]: true, [CheckboxCheckedClass]: localProps.checked}}\n          type=\"checkbox\"\n          checked={localProps.checked}\n          {...restProps}\n        />\n        <span class={FakeClass}>\n          <Icon class={IconClass} icon=\"checkmark\" color={theme.colors.text.primaryInvert} size=\"l\" />\n        </span>\n      </div>\n      {(props.children || props.innerHTML) && (\n        <div class={TextClass}>\n          <Caption class={CaptionClass} size=\"s\" colorMode=\"secondary\" innerHTML={props.innerHTML}>\n            {props.children}\n          </Caption>\n        </div>\n      )}\n    </label>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    BaseOptionClass: css({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: theme.colors.fill.small,\n      border: 'none',\n      borderRadius: theme.borderRadius.s20,\n      padding: `${theme.spacing.s16} ${theme.spacing.s20}`,\n      minHeight: `${parseInt(theme.spacing.s16, 10) * 2 + parseInt(theme.typography.heading.s.lineHeight, 10) * 2}px`,\n      boxSizing: 'border-box',\n      boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.fill.small}`,\n      width: '100%',\n      wordBreak: 'break-word',\n      cursor: 'pointer',\n      transition: `background-color ${theme.animation.transition},\n        box-shadow ${theme.animation.transition}`,\n\n      '&:hover': {\n        background: theme.colors.fill.medium,\n        boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n      },\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './baseOption.styles'\n\ninterface BaseOptionProps {\n  classList?: Record<string, boolean | undefined>\n  onClick(): void\n}\nexport const BaseOption: ParentComponent<BaseOptionProps> = props => {\n  const {BaseOptionClass} = getClasses()\n\n  return (\n    <button classList={{[BaseOptionClass]: true, ...props.classList}} onClick={props.onClick}>\n      {props.children}\n    </button>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ImageOptionClass: css({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: theme.colors.fill.small,\n      border: 'none',\n      borderRadius: theme.borderRadius.s20,\n      minHeight: `${parseInt(theme.spacing.s16, 10) * 2 + parseInt(theme.typography.heading.s.lineHeight, 10) * 2}px`,\n      boxSizing: 'border-box',\n      boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.fill.small}`,\n      width: '100%',\n      wordBreak: 'break-word',\n      cursor: 'pointer',\n      transition: `background-color ${theme.animation.transition},\n          box-shadow ${theme.animation.transition}`,\n\n      '& img': {\n        maxWidth: '80%',\n        maxHeight: '300px',\n        mixBlendMode: 'multiply',\n      },\n\n      '&:hover': {\n        background: theme.colors.fill.medium,\n        boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n      },\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './imageOption.styles'\n\ninterface OptionProps {\n  image: string\n  label?: string\n  classList?: Record<string, boolean | undefined>\n  onClick(): void\n}\nexport const ImageOption: ParentComponent<OptionProps> = props => {\n  const {ImageOptionClass} = getClasses()\n\n  return (\n    <button classList={{[ImageOptionClass]: true, ...props.classList}} onClick={props.onClick}>\n      <img src={props.image} />\n    </button>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    TextImageOptionClass: css({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      background: theme.colors.fill.small,\n      border: 'none',\n      borderRadius: theme.borderRadius.s20,\n      padding: `${theme.spacing.s8} ${theme.spacing.s20} ${theme.spacing.s8} ${theme.spacing.s8}`,\n      minHeight: `${parseInt(theme.spacing.s16, 10) * 2 + parseInt(theme.typography.heading.s.lineHeight, 10) * 2}px`,\n      boxSizing: 'border-box',\n      boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.fill.small}`,\n      width: '100%',\n      wordBreak: 'break-word',\n      cursor: 'pointer',\n      transition: `background-color ${theme.animation.transition},\n        box-shadow ${theme.animation.transition}`,\n\n      '&:hover': {\n        background: theme.colors.fill.medium,\n        boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n      },\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './textImageOption.styles'\n\ninterface TextImageOptionProps {\n  classList?: Record<string, boolean | undefined>\n  onClick(): void\n}\nexport const TextImageOption: ParentComponent<TextImageOptionProps> = props => {\n  const {TextImageOptionClass} = getClasses()\n\n  return (\n    <button classList={{[TextImageOptionClass]: true, ...props.classList}} onClick={props.onClick}>\n      {props.children}\n    </button>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {OptionType} from './types'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const RadioRoundClass = css({\n    width: theme.spacing.s18,\n    height: theme.spacing.s18,\n    borderRadius: '50%',\n    boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    position: 'relative',\n    transition: `box-shadow ${theme.animation.transition}`,\n\n    '&:after': {\n      content: '\"\"',\n      width: '9px',\n      height: '9px',\n      display: 'block',\n      opacity: 0,\n      borderRadius: '50%',\n      background: theme.colors.accent.blue,\n      transition: `opacity ${theme.animation.transition}`,\n    },\n  })\n\n  return {\n    SelectedClass: css({\n      boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.accent.blue} !important`,\n\n      [`& .${RadioRoundClass}`]: {\n        boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.accent.blue}`,\n\n        '&:after': {\n          opacity: 1,\n        },\n      },\n    }),\n    InnerClass: ({type}: {type?: OptionType}) =>\n      css({\n        display: 'grid',\n        gap: theme.spacing.s8,\n        width: '100%',\n        alignItems: 'center',\n\n        ...(type\n          ? {\n              gridTemplateColumns: `${theme.spacing.s20} 1fr`,\n              paddingRight: theme.spacing.s28,\n            }\n          : {\n              gridTemplateColumns: '1fr',\n            }),\n      }),\n    ImageTextInnerClass: ({type}: {type?: OptionType}) =>\n      css({\n        display: 'grid',\n        columnGap: theme.spacing.s8,\n        width: '100%',\n        alignItems: 'center',\n\n        ...(type\n          ? {\n              gridTemplateColumns: `auto 1fr ${parseInt(theme.spacing.s40, 10) + parseInt(theme.spacing.s2, 10)}px`,\n            }\n          : {\n              gridTemplateColumns: 'auto 1fr',\n              paddingRight: `${parseInt(theme.spacing.s28, 10) * 2}px`,\n            }),\n      }),\n    ImageClass: ({img}: {img: string}) =>\n      css({\n        borderRadius: theme.borderRadius.s16,\n        backgroundImage: `url(${img})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        backgroundRepeat: 'no-repeat',\n        width: `${parseInt(theme.spacing.s28, 10) * 2}px`,\n        height: `${parseInt(theme.spacing.s28, 10) * 2}px`,\n        minWidth: `${parseInt(theme.spacing.s28, 10) * 2}px`,\n      }),\n    ImageTextSwitcherClass: css({\n      marginLeft: 'auto',\n      width: theme.spacing.s20,\n    }),\n    RadioClass: css({\n      width: theme.spacing.s20,\n      height: theme.spacing.s20,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n    RadioRoundClass,\n  }\n}\n","import {Heading} from '~/components/typography/heading'\nimport {sanitizeText} from '~/helpers/sanitizeText'\nimport {Match, Switch} from 'solid-js'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport type {OptionType} from './types'\n\nimport {Checkbox} from '../checkbox'\nimport {BaseOption} from './components/baseOption'\nimport {ImageOption} from './components/imageOption'\nimport {TextImageOption} from './components/textImageOption'\nimport {getClasses} from './option.styles'\n\ninterface OptionProps {\n  children: string\n  type?: OptionType\n  image?: string\n  isSelected?: boolean\n  onClick(): void\n}\nexport const Option: ParentComponent<OptionProps> = props => {\n  const {\n    InnerClass,\n    SelectedClass,\n    RadioClass,\n    RadioRoundClass,\n    ImageTextInnerClass,\n    ImageClass,\n    ImageTextSwitcherClass,\n  } = getClasses()\n\n  return (\n    <Switch\n      fallback={\n        <BaseOption classList={{[SelectedClass]: props.isSelected}} onClick={props.onClick}>\n          <div class={InnerClass({type: props.type})}>\n            <Switch>\n              <Match when={props.type === 'radio'}>\n                <div class={RadioClass}>\n                  <div class={RadioRoundClass} />\n                </div>\n              </Match>\n              <Match when={props.type === 'checkbox'}>\n                <Checkbox checked={props.isSelected} asInput={false} />\n              </Match>\n            </Switch>\n            <Heading size=\"s\" colorMode=\"primary\" innerHTML={sanitizeText(props.children)} />\n          </div>\n        </BaseOption>\n      }>\n      <Match when={props.image && props.children}>\n        <TextImageOption classList={{[SelectedClass]: props.isSelected}} onClick={props.onClick}>\n          <div class={ImageTextInnerClass({type: props.type})}>\n            <div class={ImageClass({img: props.image!})} />\n            <Heading size=\"s\" colorMode=\"primary\" innerHTML={sanitizeText(props.children)} />\n            <div class={ImageTextSwitcherClass}>\n              <Switch>\n                <Match when={props.type === 'radio'}>\n                  <div class={RadioClass}>\n                    <div class={RadioRoundClass} />\n                  </div>\n                </Match>\n                <Match when={props.type === 'checkbox'}>\n                  <Checkbox checked={props.isSelected} asInput={false} />\n                </Match>\n              </Switch>\n            </div>\n          </div>\n        </TextImageOption>\n      </Match>\n      <Match when={props.image && !props.children}>\n        <ImageOption classList={{[SelectedClass]: props.isSelected}} onClick={props.onClick} image={props.image!} />\n      </Match>\n    </Switch>\n  )\n}\n","export enum Template {\n  Base = 'base',\n  Grid2 = 'grid2',\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    OptionsClass: css({\n      '& > *:not(:last-child)': {\n        marginBottom: theme.spacing.s6,\n      },\n    }),\n\n    Grid2Class: css({\n      display: 'grid',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))',\n      columnGap: theme.spacing.s8,\n    }),\n  }\n}\n","import {Option} from '~/components/option'\nimport {Template} from '~/types/options'\nimport {For} from 'solid-js'\n\nimport type {OptionType} from '~/components/option/types'\nimport type {QuestionOption} from '~/types/question'\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './options.styles'\n\ninterface OptionsProps {\n  values: string[]\n  optionType?: OptionType\n  options: QuestionOption[]\n  class?: string\n  onChange(value: string): void\n}\nexport const Options: Component<OptionsProps> = props => {\n  const {OptionsClass, Grid2Class} = getClasses()\n  const isSelected = (value: string) => {\n    return props.values.includes(value)\n  }\n  const template = () => {\n    if (props.options.some(option => option.primaryImage && !option.label)) {\n      return Template.Grid2\n    }\n    return Template.Base\n  }\n\n  return (\n    <div\n      classList={{\n        [OptionsClass]: true,\n        [Grid2Class]: template() === Template.Grid2,\n        ...(props.class && {[props.class]: true}),\n      }}>\n      <For each={props.options}>\n        {({label, value, primaryImage}) => (\n          <Option\n            type={props.optionType}\n            image={primaryImage}\n            onClick={() => props.onChange(value)}\n            isSelected={isSelected(value)}>\n            {label}\n          </Option>\n        )}\n      </For>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {ColorMode, Size} from './types'\n\ninterface ParagraphClassProps {\n  colorMode: ColorMode\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ParagraphClass: ({colorMode, size}: ParagraphClassProps) =>\n      css({\n        color: theme.colors.text[colorMode],\n\n        ...(size === 'm' && {\n          fontSize: theme.typography.paragraph.m.fontSize,\n          lineHeight: theme.typography.paragraph.m.lineHeight,\n          fontWeight: theme.typography.paragraph.m.fontWeight,\n        }),\n        ...(size === 'l' && {\n          fontSize: theme.typography.paragraph.l.fontSize,\n          lineHeight: theme.typography.paragraph.l.lineHeight,\n          fontWeight: theme.typography.paragraph.l.fontWeight,\n        }),\n      }),\n  }\n}\n","import type {JSX, ParentComponent} from 'solid-js'\n\nimport type {ColorMode, Size} from './types'\n\nimport {getClasses} from './paragraph.styles'\n\ninterface ParagraphProps extends JSX.HTMLAttributes<HTMLDivElement> {\n  class?: string\n  size: Size\n  colorMode: ColorMode\n}\nexport const Paragraph: ParentComponent<ParagraphProps> = props => {\n  const {ParagraphClass} = getClasses()\n\n  return (\n    <div\n      classList={{\n        [ParagraphClass({colorMode: props.colorMode, size: props.size})]: true,\n        ...(props.class && {[props.class]: true}),\n        ...props.classList,\n      }}\n      {...(props.innerHTML ? {innerHTML: props.innerHTML} : {children: props.children})}\n    />\n  )\n}\n","import { untrack, createSignal, useTransition, createComputed, batch, createMemo, $TRACK } from 'solid-js';\nimport { isServer } from 'solid-js/web';\n\n// src/index.ts\nvar noop = () => {\n};\nvar noopTransition = (el, done) => done();\nfunction createSwitchTransition(source, options) {\n  const initSource = untrack(source);\n  const initReturned = initSource ? [initSource] : [];\n  if (isServer) {\n    return () => initReturned;\n  }\n  const { onEnter = noopTransition, onExit = noopTransition } = options;\n  const [returned, setReturned] = createSignal(\n    options.appear ? [] : initReturned\n  );\n  const [isTransitionPending] = useTransition();\n  let next;\n  let isExiting = false;\n  function exitTransition(el, after) {\n    if (!el)\n      return after && after();\n    isExiting = true;\n    onExit(el, () => {\n      batch(() => {\n        isExiting = false;\n        setReturned((p) => p.filter((e) => e !== el));\n        after && after();\n      });\n    });\n  }\n  function enterTransition(after) {\n    const el = next;\n    if (!el)\n      return after && after();\n    next = void 0;\n    setReturned((p) => [el, ...p]);\n    onEnter(el, after ?? noop);\n  }\n  const triggerTransitions = options.mode === \"out-in\" ? (\n    // exit -> enter\n    (prev) => isExiting || exitTransition(prev, enterTransition)\n  ) : options.mode === \"in-out\" ? (\n    // enter -> exit\n    (prev) => enterTransition(() => exitTransition(prev))\n  ) : (\n    // exit & enter\n    (prev) => {\n      exitTransition(prev);\n      enterTransition();\n    }\n  );\n  createComputed(\n    (prev) => {\n      const el = source();\n      if (untrack(isTransitionPending)) {\n        isTransitionPending();\n        return prev;\n      }\n      if (el !== prev) {\n        next = el;\n        batch(() => untrack(() => triggerTransitions(prev)));\n      }\n      return el;\n    },\n    options.appear ? void 0 : initSource\n  );\n  return returned;\n}\nfunction createListTransition(source, options) {\n  const initSource = untrack(source);\n  if (isServer) {\n    const copy = initSource.slice();\n    return () => copy;\n  }\n  const { onChange } = options;\n  let prevSet = new Set(options.appear ? void 0 : initSource);\n  const exiting = /* @__PURE__ */ new WeakSet();\n  const [toRemove, setToRemove] = createSignal([], { equals: false });\n  const [isTransitionPending] = useTransition();\n  const finishRemoved = options.exitMethod === \"remove\" ? noop : (els) => {\n    setToRemove((p) => (p.push.apply(p, els), p));\n    for (const el of els)\n      exiting.delete(el);\n  };\n  const handleRemoved = options.exitMethod === \"remove\" ? noop : options.exitMethod === \"keep-index\" ? (els, el, i) => els.splice(i, 0, el) : (els, el) => els.push(el);\n  return createMemo(\n    (prev) => {\n      const elsToRemove = toRemove();\n      const sourceList = source();\n      sourceList[$TRACK];\n      if (untrack(isTransitionPending)) {\n        isTransitionPending();\n        return prev;\n      }\n      if (elsToRemove.length) {\n        const next = prev.filter((e) => !elsToRemove.includes(e));\n        elsToRemove.length = 0;\n        onChange({ list: next, added: [], removed: [], unchanged: next, finishRemoved });\n        return next;\n      }\n      return untrack(() => {\n        const nextSet = new Set(sourceList);\n        const next = sourceList.slice();\n        const added = [];\n        const removed = [];\n        const unchanged = [];\n        for (const el of sourceList) {\n          (prevSet.has(el) ? unchanged : added).push(el);\n        }\n        let nothingChanged = !added.length;\n        for (let i = 0; i < prev.length; i++) {\n          const el = prev[i];\n          if (!nextSet.has(el)) {\n            if (!exiting.has(el)) {\n              removed.push(el);\n              exiting.add(el);\n            }\n            handleRemoved(next, el, i);\n          }\n          if (nothingChanged && el !== next[i])\n            nothingChanged = false;\n        }\n        if (!removed.length && nothingChanged)\n          return prev;\n        onChange({ list: next, added, removed, unchanged, finishRemoved });\n        prevSet = nextSet;\n        return next;\n      });\n    },\n    options.appear ? [] : initSource.slice()\n  );\n}\n\nexport { createListTransition, createSwitchTransition };\n","import { chain, arrayEquals } from '@solid-primitives/utils';\nimport { createMemo, children, createComputed, untrack, onCleanup } from 'solid-js';\nimport { isServer } from 'solid-js/web';\n\n// src/index.ts\nfunction mergeRefs(...refs) {\n  return chain(refs);\n}\nvar defaultElementPredicate = isServer ? (item) => item != null && typeof item === \"object\" && \"t\" in item : (item) => item instanceof Element;\nfunction getResolvedElements(value, predicate) {\n  if (predicate(value))\n    return value;\n  if (typeof value === \"function\" && !value.length)\n    return getResolvedElements(value(), predicate);\n  if (Array.isArray(value)) {\n    const results = [];\n    for (const item of value) {\n      const result = getResolvedElements(item, predicate);\n      if (result)\n        Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results.length ? results : null;\n  }\n  return null;\n}\nfunction resolveElements(fn, predicate = defaultElementPredicate, serverPredicate = defaultElementPredicate) {\n  const children2 = createMemo(fn);\n  const memo = createMemo(\n    () => getResolvedElements(children2(), isServer ? serverPredicate : predicate)\n  );\n  memo.toArray = () => {\n    const value = memo();\n    return Array.isArray(value) ? value : value ? [value] : [];\n  };\n  return memo;\n}\nfunction getFirstChild(value, predicate) {\n  if (predicate(value))\n    return value;\n  if (typeof value === \"function\" && !value.length)\n    return getFirstChild(value(), predicate);\n  if (Array.isArray(value)) {\n    for (const item of value) {\n      const result = getFirstChild(item, predicate);\n      if (result)\n        return result;\n    }\n  }\n  return null;\n}\nfunction resolveFirst(fn, predicate = defaultElementPredicate, serverPredicate = defaultElementPredicate) {\n  const children2 = createMemo(fn);\n  return createMemo(() => getFirstChild(children2(), isServer ? serverPredicate : predicate));\n}\nfunction Refs(props) {\n  if (isServer) {\n    return props.children;\n  }\n  const cb = props.ref, resolved = children(() => props.children);\n  let prev = [];\n  createComputed(() => {\n    const els = resolved.toArray().filter(defaultElementPredicate);\n    if (!arrayEquals(prev, els))\n      untrack(() => cb(els));\n    prev = els;\n  }, []);\n  onCleanup(() => prev.length && cb([]));\n  return resolved;\n}\nfunction Ref(props) {\n  if (isServer) {\n    return props.children;\n  }\n  const cb = props.ref, resolved = children(() => props.children);\n  let prev;\n  createComputed(() => {\n    const el = resolved.toArray().find(defaultElementPredicate);\n    if (el !== prev)\n      untrack(() => cb(el));\n    prev = el;\n  });\n  onCleanup(() => prev && cb(void 0));\n  return resolved;\n}\n\nexport { Ref, Refs, defaultElementPredicate, getFirstChild, getResolvedElements, mergeRefs, resolveElements, resolveFirst };\n","// src/common.ts\nimport { createMemo } from \"solid-js\";\nfunction createClassnames(props) {\n  return createMemo(() => {\n    const name = props.name || \"s\";\n    return {\n      enterActive: (props.enterActiveClass || name + \"-enter-active\").split(\" \"),\n      enter: (props.enterClass || name + \"-enter\").split(\" \"),\n      enterTo: (props.enterToClass || name + \"-enter-to\").split(\" \"),\n      exitActive: (props.exitActiveClass || name + \"-exit-active\").split(\" \"),\n      exit: (props.exitClass || name + \"-exit\").split(\" \"),\n      exitTo: (props.exitToClass || name + \"-exit-to\").split(\" \"),\n      move: (props.moveClass || name + \"-move\").split(\" \")\n    };\n  });\n}\nfunction nextFrame(fn) {\n  requestAnimationFrame(() => requestAnimationFrame(fn));\n}\nfunction enterTransition(classes, events, el, done) {\n  const { onBeforeEnter, onEnter, onAfterEnter } = events;\n  onBeforeEnter?.(el);\n  el.classList.add(...classes.enter);\n  el.classList.add(...classes.enterActive);\n  queueMicrotask(() => {\n    if (!el.parentNode)\n      return done?.();\n    onEnter?.(el, () => endTransition());\n  });\n  nextFrame(() => {\n    el.classList.remove(...classes.enter);\n    el.classList.add(...classes.enterTo);\n    if (!onEnter || onEnter.length < 2) {\n      el.addEventListener(\"transitionend\", endTransition);\n      el.addEventListener(\"animationend\", endTransition);\n    }\n  });\n  function endTransition(e) {\n    if (!e || e.target === el) {\n      done?.();\n      el.removeEventListener(\"transitionend\", endTransition);\n      el.removeEventListener(\"animationend\", endTransition);\n      el.classList.remove(...classes.enterActive);\n      el.classList.remove(...classes.enterTo);\n      onAfterEnter?.(el);\n    }\n  }\n}\nfunction exitTransition(classes, events, el, done) {\n  const { onBeforeExit, onExit, onAfterExit } = events;\n  if (!el.parentNode)\n    return done?.();\n  onBeforeExit?.(el);\n  el.classList.add(...classes.exit);\n  el.classList.add(...classes.exitActive);\n  onExit?.(el, () => endTransition());\n  nextFrame(() => {\n    el.classList.remove(...classes.exit);\n    el.classList.add(...classes.exitTo);\n    if (!onExit || onExit.length < 2) {\n      el.addEventListener(\"transitionend\", endTransition);\n      el.addEventListener(\"animationend\", endTransition);\n    }\n  });\n  function endTransition(e) {\n    if (!e || e.target === el) {\n      done?.();\n      el.removeEventListener(\"transitionend\", endTransition);\n      el.removeEventListener(\"animationend\", endTransition);\n      el.classList.remove(...classes.exitActive);\n      el.classList.remove(...classes.exitTo);\n      onAfterExit?.(el);\n    }\n  }\n}\n\n// src/Transition.ts\nimport { createSwitchTransition } from \"@solid-primitives/transition-group\";\nimport { resolveFirst } from \"@solid-primitives/refs\";\nvar TRANSITION_MODE_MAP = {\n  inout: \"in-out\",\n  outin: \"out-in\"\n};\nvar Transition = (props) => {\n  const classnames = createClassnames(props);\n  return createSwitchTransition(\n    resolveFirst(() => props.children),\n    {\n      mode: TRANSITION_MODE_MAP[props.mode],\n      appear: props.appear,\n      onEnter(el, done) {\n        enterTransition(classnames(), props, el, done);\n      },\n      onExit(el, done) {\n        exitTransition(classnames(), props, el, done);\n      }\n    }\n  );\n};\n\n// src/TransitionGroup.ts\nimport { createListTransition } from \"@solid-primitives/transition-group\";\nimport { resolveElements } from \"@solid-primitives/refs\";\nvar TransitionGroup = (props) => {\n  const classnames = createClassnames(props);\n  return createListTransition(resolveElements(() => props.children).toArray, {\n    appear: props.appear,\n    exitMethod: \"keep-index\",\n    onChange({ added, removed, finishRemoved, list }) {\n      const classes = classnames();\n      for (const el of added) {\n        enterTransition(classes, props, el);\n      }\n      const toMove = [];\n      for (const el of list) {\n        if (el.isConnected && (el instanceof HTMLElement || el instanceof SVGElement)) {\n          toMove.push({ el, rect: el.getBoundingClientRect() });\n        }\n      }\n      queueMicrotask(() => {\n        const moved = [];\n        for (const { el, rect } of toMove) {\n          if (el.isConnected) {\n            const newRect = el.getBoundingClientRect(), dX = rect.left - newRect.left, dY = rect.top - newRect.top;\n            if (dX || dY) {\n              el.style.transform = `translate(${dX}px, ${dY}px)`;\n              el.style.transitionDuration = \"0s\";\n              moved.push(el);\n            }\n          }\n        }\n        document.body.offsetHeight;\n        for (const el of moved) {\n          let endTransition2 = function(e) {\n            if (e.target === el || /transform$/.test(e.propertyName)) {\n              el.removeEventListener(\"transitionend\", endTransition2);\n              el.classList.remove(...classes.move);\n            }\n          };\n          var endTransition = endTransition2;\n          el.classList.add(...classes.move);\n          el.style.transform = el.style.transitionDuration = \"\";\n          el.addEventListener(\"transitionend\", endTransition2);\n        }\n      });\n      for (const el of removed) {\n        exitTransition(classes, props, el, () => finishRemoved([el]));\n      }\n    }\n  });\n};\nexport {\n  Transition,\n  TransitionGroup\n};\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    InnerClass: css({width: '100%', height: '100%', display: 'block', position: 'absolute'}),\n    LabelClass: css({\n      display: 'inline-flex',\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)',\n      maxWidth: '100%',\n      maxHeight: '100%',\n    }),\n    ImageClass: css({\n      objectFit: 'contain',\n      width: '100%',\n      height: '100%',\n    }),\n  }\n}\n","import {createEffect, createSignal, onCleanup} from 'solid-js'\n\nimport type {Accessor} from 'solid-js'\n\nimport type {Option} from '../../types'\n\nconst THROTTLE_TIMEOUT = 200\n\ninterface UseThrottledOptionParams {\n  option: Accessor<Option | null>\n}\nexport const useThrottledOption = ({option}: UseThrottledOptionParams) => {\n  const [throttledOption, setThrottledOption] = createSignal(option())\n\n  let lastUpdateTs = 0\n  let updateTimeout: number | null = null\n\n  createEffect<Option | null>(prevOption => {\n    if (updateTimeout) {\n      clearTimeout(updateTimeout)\n    }\n\n    const lastTsDiff = +Date.now() - lastUpdateTs\n\n    updateTimeout = setTimeout(\n      () => {\n        lastUpdateTs = +Date.now()\n\n        if (option()?.value !== prevOption?.value) {\n          setThrottledOption(option())\n        }\n      },\n      lastTsDiff > THROTTLE_TIMEOUT && !prevOption ? 0 : THROTTLE_TIMEOUT - lastTsDiff,\n    )\n\n    return option()\n  }, option())\n\n  onCleanup(() => {\n    if (updateTimeout) {\n      clearTimeout(updateTimeout)\n    }\n  })\n\n  return {throttledOption}\n}\n","import {Show} from 'solid-js'\nimport {Transition} from 'solid-transition-group'\n\nimport type {Component} from 'solid-js'\n\nimport type {Option} from '../../types'\n\nimport {getClasses} from './activeOption.styles'\nimport {useThrottledOption} from './useThrottledOption'\n\nconst ENTER_TRANSITION = 400\nconst EXIT_TRANSITION = 550\nconst EXIT_STYLES = {opacity: 1, transform: 'scale(1)'}\nconst ENTER_STYLES = {opacity: 0, transform: 'scale(0.7)'}\n\ninterface ActiveOptionProps {\n  class?: string\n  option: Option | null\n}\nexport const ActiveOption: Component<ActiveOptionProps> = props => {\n  const {LabelClass, InnerClass, ImageClass} = getClasses()\n  const {throttledOption} = useThrottledOption({option: () => props.option})\n  const handleEnter = (el: Element, done: () => void) => {\n    const a = el.animate([ENTER_STYLES, EXIT_STYLES], {\n      duration: ENTER_TRANSITION,\n      easing: 'ease-in',\n    })\n    a.finished.then(() => {\n      done()\n    })\n  }\n  const handleExit = (el: Element, done: () => void) => {\n    const a = el.animate([EXIT_STYLES, ENTER_STYLES], {\n      duration: EXIT_TRANSITION,\n      easing: 'ease-out',\n    })\n    a.finished.then(done)\n  }\n\n  return (\n    <div class={props.class}>\n      <Transition onEnter={handleEnter} onExit={handleExit}>\n        <Show when={throttledOption()} keyed>\n          {option =>\n            option.image ? (\n              /* separated \"InnerClass\" blocks for image and label are important for animation */\n              <div class={InnerClass}>\n                <img src={option.image} class={ImageClass} />\n              </div>\n            ) : (\n              <div class={InnerClass}>\n                <div class={LabelClass}>{option.label}</div>\n              </div>\n            )\n          }\n        </Show>\n      </Transition>\n    </div>\n  )\n}\n","interface GetCoordsParams {\n  center: {\n    x: number\n    y: number\n  }\n  radius: number\n  angle1: number\n  angle2: number\n}\nexport const getCoords = ({center, radius, angle1, angle2}: GetCoordsParams) => {\n  const x1 = center.x + Math.cos(angle1) * radius\n  const y1 = center.y + Math.sin(angle1) * radius\n  const x2 = center.x + Math.cos(angle2) * radius\n  const y2 = center.y + Math.sin(angle2) * radius\n\n  return {\n    x1,\n    y1,\n    x2,\n    y2,\n    midX: (x1 + x2) / 2,\n    mixY: (y1 + y2) / 2,\n  }\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    GrayButtonClass: css({\n      fill: theme.colors.fill.small,\n    }),\n    ButtonLabelClass: css({\n      pointerEvents: 'none',\n      transition: theme.animation.transition,\n      fontSize: '21px',\n      textAnchor: 'middle',\n      dominantBaseline: 'middle',\n    }),\n    GrayButtonLabelClass: css({\n      fill: theme.colors.text.secondary,\n    }),\n    BlueButtonClass: css({\n      opacity: 0,\n      fill: theme.colors.accent.blue,\n      stroke: '#fff',\n      strokeWidth: '3',\n      cursor: 'pointer',\n      transition: theme.animation.transition,\n    }),\n    BlueButtonLabelClass: css({\n      opacity: 0,\n      fill: theme.colors.text.primaryInvert,\n    }),\n    SvgClass: css({\n      maxWidth: '100%',\n      height: 'auto',\n    }),\n    BackgropImageClass: css({\n      opacity: 0,\n      pointerEvents: 'none',\n      transition: theme.animation.transition,\n    }),\n    VisibleClass: css({\n      opacity: 1,\n    }),\n  }\n}\n","import {isMobile} from '~/helpers/isMobile'\nimport {createMemo, Index} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport {getCoords} from '../../utils/getCoords'\nimport {getClasses} from './sectors.styles'\n\nconst SVG_PADDING = 10\nconst BUTTON_POS_RADIUS = 180\nconst TEXT_POS_RADIUS = 137\nconst MAX_SEGMENTS_COUNT = 16\nconst BOTTOM_OVERFLOW = 88\nconst SVG_WIDTH = 2 * (BUTTON_POS_RADIUS + SVG_PADDING)\nconst SVG_HEIGHT = 2 * (BUTTON_POS_RADIUS + SVG_PADDING) - BOTTOM_OVERFLOW\nconst START_ANGLE = Math.PI - (3 * Math.PI) / MAX_SEGMENTS_COUNT\nconst CENTER_COORDS = {\n  x: SVG_WIDTH / 2,\n  y: BUTTON_POS_RADIUS + SVG_PADDING,\n}\nconst INNER_ANGLE = (2 * Math.PI) / MAX_SEGMENTS_COUNT\n\ninterface Sector {\n  label: {\n    x: number\n    y: number\n  }\n  button: {\n    x: number\n    y: number\n    angle: number\n  }\n}\n\ninterface SectorsProps {\n  selectedIndex: number\n  hoveredIndex: number | null\n  count: number\n  onSelect(index: number): void\n  onHover(index: number | null): void\n}\nexport const Sectors: Component<SectorsProps> = props => {\n  const {\n    SvgClass,\n    GrayButtonClass,\n    ButtonLabelClass,\n    BlueButtonClass,\n    GrayButtonLabelClass,\n    BlueButtonLabelClass,\n    BackgropImageClass,\n    VisibleClass,\n  } = getClasses()\n  const isActiveOptionIndex = (index: number) => props.hoveredIndex === index || props.selectedIndex === index\n  const sectors = createMemo(() => {\n    const result: Sector[] = []\n\n    for (let index = 0; index < props.count; index++) {\n      const angle1 = index * INNER_ANGLE + START_ANGLE\n      const angle2 = (index + 1) * INNER_ANGLE + START_ANGLE\n      const textCoords = getCoords({center: CENTER_COORDS, radius: TEXT_POS_RADIUS, angle1, angle2})\n      const buttonCoords = getCoords({center: CENTER_COORDS, radius: BUTTON_POS_RADIUS, angle1, angle2})\n\n      result.push({\n        label: {\n          x: textCoords.midX,\n          y: textCoords.mixY,\n        },\n        button: {\n          x: buttonCoords.midX,\n          y: buttonCoords.mixY,\n          angle: Math.atan2(buttonCoords.y2 - buttonCoords.y1, buttonCoords.x2 - buttonCoords.x1),\n        },\n      })\n    }\n\n    return result\n  })\n\n  return (\n    <svg class={SvgClass} width={SVG_WIDTH} height={SVG_HEIGHT} viewBox={`0 0 ${SVG_WIDTH} ${SVG_HEIGHT}`}>\n      <Index each={sectors()}>\n        {(sector, index) => (\n          <g>\n            <path\n              class={GrayButtonClass}\n              d=\"M38.4746 86.8008C33.0369 86.2901 27.5439 86.2573 22.0632 86.7163C17.5702 87.0925 13.4671 84.2504 12.6563 80.088L0.963666 20.0576C-0.892936 10.5258 5.35208 1.43278 14.7609 0.637418C25.3347 -0.256413 35.9674 -0.210114 46.533 0.775766C55.9345 1.65303 62.0998 10.8001 60.1599 20.3154L47.9389 80.2605C47.0916 84.4169 42.9627 87.2222 38.4746 86.8008Z\"\n              transform={`\n                        translate(${sector().button.x}, ${sector().button.y})\n                        rotate(${(sector().button.angle * 180) / Math.PI})\n                        translate(-31, 0)\n                    `}\n            />\n            <text\n              classList={{[ButtonLabelClass]: true, [GrayButtonLabelClass]: true}}\n              x={sector().label.x}\n              y={sector().label.y}>\n              {index}\n            </text>\n          </g>\n        )}\n      </Index>\n      {/* blue buttons should overflow gray buttons (render ordering is important) */}\n      <Index each={sectors()}>\n        {(sector, index) => (\n          <g>\n            <g\n              transform={`\n                        translate(${sector().button.x}, ${sector().button.y})\n                        rotate(${(sector().button.angle * 180) / Math.PI})\n                        translate(-68, -28)\n                    `}>\n              <image\n                classList={{[BackgropImageClass]: true, [VisibleClass]: isActiveOptionIndex(index)}}\n                href=\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTM2IiBoZWlnaHQ9IjE2NiIgdmlld0JveD0iMCAwIDEzNiAxNjYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RkZGRkZF8yNzk3XzYzNDAzNikiPgo8cGF0aCBkPSJNNzcuMDU1OSAxMTQuNDI5QzcxLjA3MTMgMTEzLjkwMSA2NS4wMjkgMTEzLjg5OSA1OS4wMDMyIDExNC40MzhDNTQuMDYzMyAxMTQuODggNDkuNTMyMSAxMTEuNzggNDguNjE0MyAxMDcuMjA2TDM1LjM3NzEgNDEuMjQ3QzMzLjI3NTMgMzAuNzczOCA0MC4wODc4IDIwLjczMjYgNTAuNDMyNCAxOS43OTg4QzYyLjA1NzggMTguNzQ5NSA3My43NTM4IDE4LjczMzkgODUuMzgxOSAxOS43NTIzQzk1LjcyODkgMjAuNjU4NSAxMDIuNTY4IDMwLjY4MTYgMTAwLjQ5MyA0MS4xNjAzTDg3LjQyNTYgMTA3LjE3NUM4Ni41MTk1IDExMS43NTMgODEuOTk1MyAxMTQuODY0IDc3LjA1NTkgMTE0LjQyOVoiIGZpbGw9IiMwMDdBRkYiIGZpbGwtb3BhY2l0eT0iMC4wMSIgc2hhcGUtcmVuZGVyaW5nPSJjcmlzcEVkZ2VzIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNzYuNzkzMiAxMTcuNDE3QzcwLjk4MzkgMTE2LjkwNSA2NS4xMTkyIDExNi45MDMgNTkuMjcxMiAxMTcuNDI2QzUzLjAwMzUgMTE3Ljk4NyA0Ni45MyAxMTQuMDU3IDQ1LjY3MzcgMTA3Ljc5N0wzMi40MzY1IDQxLjgzNzNDMzAuMDI0NiAyOS44MTkgMzcuODM5NCAxNy45MjM0IDUwLjE2MzQgMTYuODExQzYxLjk2NTYgMTUuNzQ1NyA3My44Mzk1IDE1LjcyOTkgODUuNjQ0NCAxNi43NjM3Qzk3Ljk3MTUgMTcuODQzMyAxMDUuODE3IDI5LjcxODIgMTAzLjQzNyA0MS43NDI5TDkwLjM2OTIgMTA3Ljc1OEM4OS4xMjkgMTE0LjAyMyA4My4wNjM5IDExNy45NyA3Ni43OTMyIDExNy40MTdaTTU5LjAwMzIgMTE0LjQzOEM2NS4wMjkgMTEzLjg5OSA3MS4wNzEzIDExMy45MDEgNzcuMDU1OSAxMTQuNDI5QzgxLjk5NTMgMTE0Ljg2NCA4Ni41MTk1IDExMS43NTMgODcuNDI1NiAxMDcuMTc1TDEwMC40OTMgNDEuMTYwM0MxMDIuNTY4IDMwLjY4MTYgOTUuNzI4OSAyMC42NTg1IDg1LjM4MTkgMTkuNzUyM0M3My43NTM4IDE4LjczMzkgNjIuMDU3OCAxOC43NDk1IDUwLjQzMjQgMTkuNzk4OEM0MC4wODc4IDIwLjczMjYgMzMuMjc1MyAzMC43NzM4IDM1LjM3NzEgNDEuMjQ3TDQ4LjYxNDMgMTA3LjIwNkM0OS41MzIxIDExMS43OCA1NC4wNjMzIDExNC44OCA1OS4wMDMyIDExNC40MzhaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjAxIiBzaGFwZS1yZW5kZXJpbmc9ImNyaXNwRWRnZXMiLz4KPC9nPgo8ZGVmcz4KPGZpbHRlciBpZD0iZmlsdGVyMF9kZGRkZGRfMjc5N182MzQwMzYiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMzUuODYzIiBoZWlnaHQ9IjE2NS40NzciIGZpbHRlclVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzPSJzUkdCIj4KPGZlRmxvb2QgZmxvb2Qtb3BhY2l0eT0iMCIgcmVzdWx0PSJCYWNrZ3JvdW5kSW1hZ2VGaXgiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iMTYiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMTYiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjA0IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9IkJhY2tncm91bmRJbWFnZUZpeCIgcmVzdWx0PSJlZmZlY3QxX2Ryb3BTaGFkb3dfMjc5N182MzQwMzYiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iOCIvPgo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI4Ii8+CjxmZUNvbXBvc2l0ZSBpbjI9ImhhcmRBbHBoYSIgb3BlcmF0b3I9Im91dCIvPgo8ZmVDb2xvck1hdHJpeCB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMC4wNCAwIi8+CjxmZUJsZW5kIG1vZGU9Im5vcm1hbCIgaW4yPSJlZmZlY3QxX2Ryb3BTaGFkb3dfMjc5N182MzQwMzYiIHJlc3VsdD0iZWZmZWN0Ml9kcm9wU2hhZG93XzI3OTdfNjM0MDM2Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjQiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iNCIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMDIgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iZWZmZWN0Ml9kcm9wU2hhZG93XzI3OTdfNjM0MDM2IiByZXN1bHQ9ImVmZmVjdDNfZHJvcFNoYWRvd18yNzk3XzYzNDAzNiIvPgo8ZmVDb2xvck1hdHJpeCBpbj0iU291cmNlQWxwaGEiIHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAxMjcgMCIgcmVzdWx0PSJoYXJkQWxwaGEiLz4KPGZlT2Zmc2V0IGR5PSIyIi8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjIiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjAyIDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9ImVmZmVjdDNfZHJvcFNoYWRvd18yNzk3XzYzNDAzNiIgcmVzdWx0PSJlZmZlY3Q0X2Ryb3BTaGFkb3dfMjc5N182MzQwMzYiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldC8+CjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjA1IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9ImVmZmVjdDRfZHJvcFNoYWRvd18yNzk3XzYzNDAzNiIgcmVzdWx0PSJlZmZlY3Q1X2Ryb3BTaGFkb3dfMjc5N182MzQwMzYiLz4KPGZlQ29sb3JNYXRyaXggaW49IlNvdXJjZUFscGhhIiB0eXBlPSJtYXRyaXgiIHZhbHVlcz0iMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMTI3IDAiIHJlc3VsdD0iaGFyZEFscGhhIi8+CjxmZU9mZnNldCBkeT0iLTAuNSIvPgo8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxLjUiLz4KPGZlQ29tcG9zaXRlIGluMj0iaGFyZEFscGhhIiBvcGVyYXRvcj0ib3V0Ii8+CjxmZUNvbG9yTWF0cml4IHR5cGU9Im1hdHJpeCIgdmFsdWVzPSIwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwLjA1IDAiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbjI9ImVmZmVjdDVfZHJvcFNoYWRvd18yNzk3XzYzNDAzNiIgcmVzdWx0PSJlZmZlY3Q2X2Ryb3BTaGFkb3dfMjc5N182MzQwMzYiLz4KPGZlQmxlbmQgbW9kZT0ibm9ybWFsIiBpbj0iU291cmNlR3JhcGhpYyIgaW4yPSJlZmZlY3Q2X2Ryb3BTaGFkb3dfMjc5N182MzQwMzYiIHJlc3VsdD0ic2hhcGUiLz4KPC9maWx0ZXI+CjwvZGVmcz4KPC9zdmc+Cg==\"\n              />\n              <path\n                classList={{[BlueButtonClass]: true, [VisibleClass]: isActiveOptionIndex(index)}}\n                d=\"M59.1485 116.589C65.0855 116.058 71.039 116.059 76.9359 116.579C82.5409 117.073 87.8356 113.544 88.9087 108.123L101.977 42.1079C104.204 30.8561 96.8615 19.9071 85.5245 18.9143C73.808 17.8882 62.023 17.9038 50.3093 18.9612C38.9749 19.9842 31.6613 30.9526 33.9181 42.1984L47.1553 108.158C48.2424 113.575 53.5447 117.09 59.1485 116.589Z\"\n                onClick={() => props.onSelect(index)}\n                onMouseEnter={isMobile() ? undefined : () => props.onHover(index)}\n                onMouseLeave={isMobile() ? undefined : () => props.onHover(null)}\n              />\n            </g>\n            <text\n              classList={{\n                [ButtonLabelClass]: true,\n                [BlueButtonLabelClass]: true,\n                [VisibleClass]: isActiveOptionIndex(index),\n              }}\n              x={sector().label.x}\n              y={sector().label.y}>\n              {index}\n            </text>\n          </g>\n        )}\n      </Index>\n    </svg>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    RadialInputClass: css({\n      display: 'grid',\n      justifyContent: 'center',\n      paddingBottom: theme.spacing.s8,\n    }),\n    InnerClass: css({\n      position: 'relative',\n      display: 'inline-flex',\n      flexDirection: 'column',\n    }),\n    ActiveOptionClass: css({\n      background: 'transparent',\n      pointerEvents: 'none',\n      position: 'absolute',\n      fontSize: '64px',\n      lineHeight: '64px',\n      left: '50%',\n      transform: 'translate(-50%, 0)',\n      width: '38%',\n      height: '33%',\n      top: '48%',\n      display: 'grid',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n    LabelsClass: css({\n      padding: '0 10px',\n      display: 'grid',\n      gridTemplateColumns: '1fr 1fr',\n      gap: theme.spacing.s12,\n\n      '& >:last-child': {\n        textAlign: 'right',\n      },\n    }),\n    SvgContainer: css({\n      position: 'relative',\n      display: 'inline-flex',\n      justifyContent: 'center',\n    }),\n  }\n}\n","import {createSignal} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport type {Option} from './types'\n\nimport {Paragraph} from '../typography/paragraph'\nimport {ActiveOption} from './components/activeOption'\nimport {Sectors} from './components/sectors'\nimport {getClasses} from './radialInput.styles'\n\ninterface RadialInputProps {\n  value: string\n  options: Option[]\n  minLabel?: string\n  maxLabel?: string\n  onChange(value: string): void\n}\nexport const RadialInput: Component<RadialInputProps> = props => {\n  const [hoveredIndex, setHoveredIndex] = createSignal<number | null>(null)\n  const {ActiveOptionClass, RadialInputClass, LabelsClass, SvgContainer, InnerClass} = getClasses()\n  const getSelectedIndex = () => props.options.findIndex(option => option.value === props.value)\n  const getActiveOption = () => {\n    if (hoveredIndex() !== null) {\n      return props.options[hoveredIndex() as number]\n    }\n\n    const selectedOptionIndex = getSelectedIndex()\n    if (selectedOptionIndex > -1) {\n      return props.options[selectedOptionIndex]\n    }\n\n    return null\n  }\n  const handleChange = (index: number) => props.onChange(props.options[index].value)\n\n  return (\n    <div class={RadialInputClass}>\n      <div class={InnerClass}>\n        <div class={SvgContainer}>\n          <Sectors\n            count={props.options.length}\n            selectedIndex={getSelectedIndex()}\n            hoveredIndex={hoveredIndex()}\n            onSelect={handleChange}\n            onHover={setHoveredIndex}\n          />\n          <ActiveOption class={ActiveOptionClass} option={getActiveOption()} />\n        </div>\n        {(props.minLabel || props.maxLabel) && (\n          <div class={LabelsClass}>\n            {props.minLabel && (\n              <div>\n                <Paragraph size=\"m\" colorMode=\"secondary\">\n                  {props.minLabel}\n                </Paragraph>\n              </div>\n            )}\n            {props.maxLabel && (\n              <div>\n                <Paragraph size=\"m\" colorMode=\"secondary\">\n                  {props.maxLabel}\n                </Paragraph>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const TextClass = css({\n    color: theme.colors.text.secondary,\n    transition: `color ${theme.animation.transition}`,\n  })\n  const SelectedClass = css({\n    [`& .${TextClass}`]: {\n      color: theme.colors.fill.primary,\n    },\n  })\n  const RatingButtonClass = css({\n    overflow: 'hidden',\n    background: theme.colors.fill.small,\n    border: 'none',\n    fontSize: theme.typography.button.fontSize,\n    lineHeight: theme.typography.button.lineHeight,\n    transition: `background-color ${theme.animation.transition}, box-shadow ${theme.animation.transition}`,\n    textAlign: 'center',\n    cursor: 'pointer',\n    boxSizing: 'border-box',\n    borderRadius: theme.borderRadius.s20,\n    padding: `${theme.spacing.s28} ${theme.spacing.s16}`,\n    boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.buttons.primary}`,\n\n    [`&:hover:not(.${SelectedClass})`]: {\n      boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n      background: theme.colors.fill.medium,\n    },\n\n    [`&.${SelectedClass}`]: {\n      backgroundColor: theme.colors.accent.blue,\n    },\n  })\n\n  return {\n    RatingButtonClass,\n    TextClass,\n    SelectedClass,\n  }\n}\n","import {type ParentComponent} from 'solid-js'\n\nimport {Heading} from '../typography/heading'\nimport {getClasses} from './ratingButton.styles'\n\ninterface RatingButtonProps {\n  class?: string\n  isSelected?: boolean\n  onClick(): void\n}\nexport const RatingButton: ParentComponent<RatingButtonProps> = props => {\n  const {RatingButtonClass, SelectedClass, TextClass} = getClasses()\n\n  return (\n    <button\n      classList={{\n        [RatingButtonClass]: true,\n        [SelectedClass]: props.isSelected,\n        ...(props.class && {[props.class]: true}),\n      }}\n      onClick={props.onClick}>\n      <Heading size=\"m\" colorMode=\"primary\" class={TextClass}>\n        {props.children}\n      </Heading>\n    </button>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    RatingInputClass: css({\n      paddingBottom: theme.spacing.s8,\n    }),\n    OptionsClass: ({count}: {count: number}) =>\n      css({\n        display: 'grid',\n        gridTemplateColumns: `repeat(${count}, 1fr)`,\n        gap: theme.spacing.s6,\n      }),\n    LabelsClass: css({\n      marginTop: theme.spacing.s8,\n      display: 'grid',\n      gridTemplateColumns: '1fr 1fr',\n      gap: theme.spacing.s12,\n    }),\n    MinLabelClass: css({\n      textAlign: 'left',\n    }),\n    MaxLabelClass: css({\n      textAlign: 'right',\n    }),\n    ImageClass: css({\n      maxWidth: '100%',\n      display: 'block',\n      margin: '0 auto',\n    }),\n  }\n}\n","import {type ParentComponent} from 'solid-js'\n\nimport {RatingButton} from '../ratingButton'\nimport {Paragraph} from '../typography/paragraph'\nimport {getClasses} from './ratingInput.styles'\n\ninterface Option {\n  value: string\n  label: string\n  image?: string\n}\n\ninterface RatingInputProps {\n  class?: string\n  options: Option[]\n  value: string\n  minLabel?: string\n  maxLabel?: string\n  onChange(value: string): void\n}\nexport const RatingInput: ParentComponent<RatingInputProps> = props => {\n  const {RatingInputClass, OptionsClass, LabelsClass, ImageClass, MinLabelClass, MaxLabelClass} = getClasses()\n\n  return (\n    <div class={RatingInputClass}>\n      <div class={OptionsClass({count: props.options.length})}>\n        {props.options.map(({value, label, image}) => (\n          <RatingButton onClick={() => props.onChange(value)} isSelected={value === props.value}>\n            {image ? <img class={ImageClass} src={image} alt={label} /> : label}\n          </RatingButton>\n        ))}\n      </div>\n      {(props.minLabel || props.maxLabel) && (\n        <div class={LabelsClass}>\n          {props.minLabel && (\n            <div class={MinLabelClass}>\n              <Paragraph size=\"m\" colorMode=\"secondary\">\n                {props.minLabel}\n              </Paragraph>\n            </div>\n          )}\n          {props.maxLabel && (\n            <div class={MaxLabelClass}>\n              <Paragraph size=\"m\" colorMode=\"secondary\">\n                {props.maxLabel}\n              </Paragraph>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n","import {Options} from '~/components/options'\nimport {RadialInput} from '~/components/radialInput'\nimport {RatingInput} from '~/components/ratingInput'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {ScaleQuestion} from '~/types/question'\nimport type {Component} from 'solid-js'\n\nimport type {AnswerProps} from '../types'\n\nexport const ScaleAnswer: Component<AnswerProps<ScaleQuestion>> = props => {\n  const getOptions = () => props.options.map(option => ({...option, image: option.primaryImage}))\n  const handleChange = (answer: string) => {\n    const onChange = props.onWithoutConfirmationChange || props.onWithConfirmationChange\n\n    onChange([answer])\n  }\n\n  if (props.question.viewType === 'vertical') {\n    return (\n      <Options\n        optionType={props.onWithoutConfirmationChange ? undefined : 'radio'}\n        values={props.answers}\n        options={props.options}\n        onChange={handleChange}\n      />\n    )\n  }\n\n  return (\n    <Dynamic\n      component={props.question.viewType === 'radial' ? RadialInput : RatingInput}\n      options={getOptions()}\n      value={props.answers[0]}\n      onChange={handleChange}\n      minLabel={props.question.minLabel}\n      maxLabel={props.question.maxLabel}\n    />\n  )\n}\n","import {Options} from '~/components/options'\n\nimport type {SingleQuestion} from '~/types/question'\nimport type {Component} from 'solid-js'\n\nimport type {AnswerProps} from '../types'\n\nexport const SingleAnswer: Component<AnswerProps<SingleQuestion>> = props => {\n  const handleChange = (answer: string) => {\n    const onChange = props.onWithoutConfirmationChange || props.onWithConfirmationChange\n\n    onChange([answer])\n  }\n\n  return (\n    <Options\n      optionType={props.onWithoutConfirmationChange ? undefined : 'radio'}\n      values={props.answers}\n      options={props.options}\n      onChange={handleChange}\n    />\n  )\n}\n","import {Options} from '~/components/options'\n\nimport type {QuestionOption} from '~/types/question'\nimport type {Component} from 'solid-js'\n\ninterface MultipleOptionsProps {\n  options: QuestionOption[]\n  value: string[]\n  onChange(value: string[]): void\n}\nexport const MultipleOptions: Component<MultipleOptionsProps> = props => {\n  const handleChange = (newValue: string) => {\n    const newValues = props.value.includes(newValue)\n      ? props.value.filter(selectedValue => selectedValue !== newValue)\n      : [...props.value, newValue]\n\n    return props.onChange(newValues)\n  }\n\n  return <Options options={props.options} values={props.value} optionType=\"checkbox\" onChange={handleChange} />\n}\n","import type {MultipleQuestion} from '~/types/question'\nimport type {Component} from 'solid-js'\n\nimport type {AnswerProps} from '../types'\n\nimport {MultipleOptions} from '../../multipleOptions'\n\nexport const MultipleAnswer: Component<AnswerProps<MultipleQuestion>> = props => {\n  return <MultipleOptions value={props.answers} options={props.options} onChange={props.onWithConfirmationChange} />\n}\n","import {getQuestionMethods} from '~/helpers/questionMethods/getQuestionMethods'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {AnswerProps} from '~/components/answer/types'\nimport type {Component} from 'solid-js'\n\nexport const Answer: Component<AnswerProps> = props => {\n  return <Dynamic component={getQuestionMethods(props.question).answer.Component} {...props} />\n}\n","import {URL_SEARCH_PARAM_PREFIX} from '~/constants/common'\n\nconst QUESTIONS_PREFIX = `${URL_SEARCH_PARAM_PREFIX}_question_`\n\nexport const parseSearchParamsAnswers = (params: URLSearchParams, prefix: string = QUESTIONS_PREFIX) => {\n  const result: Record<string, string[]> = {}\n\n  params.forEach((value, key) => {\n    if (key.startsWith(prefix)) {\n      const questionName = key.slice(prefix.length)\n\n      if (result[questionName]) {\n        result[questionName].push(value)\n      } else {\n        result[questionName] = [value]\n      }\n    }\n  })\n\n  return result\n}\n","import type {OptionValue} from '~/types/question'\nimport type {Quiz} from '~/types/quiz'\n\nimport {getQuestionMethods} from './questionMethods/getQuestionMethods'\n\nexport const sanitizeAnswers = (dirtyAnswers: Record<string, string[]>, quiz: Quiz) =>\n  Object.entries(dirtyAnswers).reduce<Record<string, OptionValue[]>>((result, [questionName, answers]) => {\n    const validQuestion = quiz.questions.find(question => question.name === questionName)\n\n    if (validQuestion) {\n      const answerMethods = getQuestionMethods(validQuestion).answer\n      const validAnswers = answers\n        .map(answer => answerMethods.parse(answer))\n        .filter(answer => answerMethods.isValid(answer, validQuestion.options))\n\n      if (validAnswers.length) {\n        result[validQuestion.name] = validAnswers\n      }\n    }\n\n    return result\n  }, {})\n","import {parseSearchParamsAnswers} from '~/helpers/parseSearchParamsAnswers'\nimport {getQuestionMethods} from '~/helpers/questionMethods/getQuestionMethods'\nimport {sanitizeAnswers} from '~/helpers/sanitizeAnswers'\nimport {createSignal} from 'solid-js'\n\nimport type {Answer} from '~/types/answers'\nimport type {Quiz} from '~/types/quiz'\n\ntype PredefinedAnswersStore = Answer[]\nconst getDefaultStore = (): PredefinedAnswersStore => []\nexport const createPredefinedAnswersStore = () => {\n  const [store, setStore] = createSignal<PredefinedAnswersStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      init: ({quiz}: {quiz: Quiz}) => {\n        const searchParamsAnswers = parseSearchParamsAnswers(new URLSearchParams(window.location.search))\n        const sanitizedSearchParamsAnswers = sanitizeAnswers(searchParamsAnswers, quiz)\n        const answers = Object.entries(sanitizedSearchParamsAnswers).reduce<Answer[]>(\n          (result, [questionName, answers]) => {\n            const question = quiz.questions.find(question => question.name === questionName)\n\n            if (question) {\n              const answer = getQuestionMethods(question).answer.arrayToValue(answers)\n\n              result.push({\n                question: questionName,\n                answer,\n              })\n            }\n\n            return result\n          },\n          [],\n        )\n\n        setStore(answers)\n      },\n      clear: () => setStore(getDefaultStore()),\n      remove: (questionName: string) =>\n        setStore(prevAnswers => prevAnswers.filter(({question}) => question !== questionName)),\n    },\n  }\n}\n\nexport const predefinedAnswersStore = createPredefinedAnswersStore()\n","import {createSignal} from 'solid-js'\n\nimport type {AnswersShaker} from '~/types/answersShaker'\n\ntype AnswersShakerStore = AnswersShaker | undefined\nconst getDefaultStore = (): AnswersShakerStore => undefined\nexport const createAnswersShakerStore = () => {\n  const [store, setStore] = createSignal<AnswersShakerStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      init: setStore,\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const answersShakerStore = createAnswersShakerStore()\n","export const generateHash = (str: string) => {\n  let hash = 0\n\n  if (str.length === 0) return hash\n\n  for (let i = 0; i < str.length; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i)\n    hash |= 0 // Convert to 32bit integer\n  }\n\n  return hash\n}\n","import {generateHash} from '~/helpers/generateHash'\nimport {createStore} from 'solid-js/store'\n\nimport type {Item} from '~/types/items'\n\nimport {quizStore} from './quiz'\n\nconst sendGa = (trackerEvent: string, params?: Record<string, string>) => {\n  const quizSlug = quizStore.store()?.slug\n\n  if (!quizSlug) {\n    return\n  }\n\n  try {\n    window.dataLayer?.push({\n      event: 'eventTrack_mindbox-quiz',\n      params: {\n        'mindbox-form': quizSlug,\n        'mindbox-event': trackerEvent,\n        ...params,\n      },\n    })\n  } catch (_error) {\n    // ignore\n  }\n}\n\ninterface Integration {\n  onShow(): void\n  onStartQuiz(): void\n  onGoProduct(product: Item): void\n}\n\n// 21vek.by\nconst CLIENT_21VEKBY_HASH = -327247199\nconst CLIENT_21VEKBY_INTEGRATIONS: Integration[] = [\n  {\n    onShow: () => sendGa('view'),\n    onStartQuiz: () => sendGa('start'),\n    onGoProduct: (product: Item) => sendGa('click', {'mindbox-product': product.link}),\n  },\n]\n\nexport interface IntegrationsStore {\n  integrations: Integration[]\n  isShown: boolean\n}\nconst getDefaultStore = (): IntegrationsStore => ({\n  integrations: [],\n  isShown: false,\n})\nconst createIntegrationsStore = () => {\n  const [store, setStore] = createStore<IntegrationsStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      init: (endpointId: string) => {\n        const integrations = generateHash(endpointId) === CLIENT_21VEKBY_HASH ? CLIENT_21VEKBY_INTEGRATIONS : []\n\n        setStore({isShown: false, integrations})\n      },\n      show: () => {\n        if (store.isShown) {\n          return\n        }\n\n        setStore('isShown', true)\n\n        store.integrations.forEach(integration => integration.onShow())\n      },\n      startQuiz: () => store.integrations.forEach(integration => integration.onStartQuiz()),\n      goProduct: (product: Item) => store.integrations.forEach(integration => integration.onGoProduct(product)),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const integrationsStore = createIntegrationsStore()\n","import {createStore} from 'solid-js/store'\n\nimport type {Screen} from './screen'\n\nexport interface MetricsStore {\n  show: {screens: Screen[]}\n}\nconst getDefaultStore = (): MetricsStore => ({\n  show: {screens: []},\n})\nconst createMetricsStore = () => {\n  const [store, setStore] = createStore<MetricsStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      init: () => setStore({show: {screens: []}}),\n      show: (screen: Screen) =>\n        setStore(prevStore => ({...prevStore, show: {screens: [...prevStore.show.screens, screen]}})),\n      isShown: (screen: Screen) => store.show.screens.includes(screen),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const metricsStore = createMetricsStore()\n","import {createStore} from 'solid-js/store'\n\nimport type {Paywall, PaywallPhoneCountry} from '~/types/paywall'\n\nexport interface PaywallStore {\n  fields: Pick<Paywall, 'email' | 'phone' | 'name'>\n  checkboxes?: Paywall['checkboxes']\n  phoneCountries: PaywallPhoneCountry[]\n}\n\nconst getDefaultStore = (): PaywallStore => ({fields: {}, phoneCountries: []})\nconst createPaywallStore = () => {\n  const [store, setStore] = createStore<PaywallStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      init: (paywall: Paywall) =>\n        setStore({\n          checkboxes: paywall.checkboxes,\n          fields: {\n            ...(paywall.email && {email: paywall.email}),\n            ...(paywall.phone && {phone: paywall.phone}),\n            ...(paywall.name && {name: paywall.name}),\n          },\n          phoneCountries: paywall.phoneCountries,\n        }),\n      updateFields: (callback: (prevFields: PaywallStore['fields']) => PaywallStore['fields']) =>\n        setStore(store => ({\n          ...store,\n          fields: callback(store.fields),\n        })),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const paywallStore = createPaywallStore()\n","import {createStore} from 'solid-js/store'\n\nexport type Screen = 'final' | 'minimal' | 'promo' | 'quiz' | 'lead' | null\n\nexport interface ScreenStore {\n  screen: Screen\n}\nconst getDefaultStore = () => ({screen: null})\nconst createScreen = () => {\n  const [store, setStore] = createStore<ScreenStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      goMinimal: () => setStore('screen', 'minimal'),\n      goQuiz: () => setStore('screen', 'quiz'),\n      goFinal: () => setStore('screen', 'final'),\n      goLead: () => setStore('screen', 'lead'),\n      goPromo: () => setStore('screen', 'promo'),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const screenStore = createScreen()\n","import {createStore} from 'solid-js/store'\n\nexport interface SystemStore {\n  apiEndpoint: string\n}\nconst getDefaultStore = (): SystemStore => ({\n  apiEndpoint: '',\n})\nconst createSystemStore = () => {\n  const [store, setStore] = createStore<SystemStore>(getDefaultStore())\n\n  return {\n    store,\n    computed: {\n      get isDebug() {\n        const urlObject = new URL(window.location.href)\n        const paramDebug = urlObject.searchParams.get('qz_debug')\n\n        return paramDebug === '' || paramDebug === 'on'\n      },\n    },\n    actions: {\n      init: (system: SystemStore) =>\n        setStore(prevStore => ({\n          ...prevStore,\n          ...system,\n        })),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const systemStore = createSystemStore()\n","export enum ActionToCompetence {\n  SHOW = 'show',\n  EXPAND = 'expand',\n  CLOSE = 'close',\n  BACK = 'back',\n  COLLAPSE = 'collapse',\n  RESTART = 'restart',\n  GO_ITEM = 'go-item',\n  CLOSE_PROMO = 'close-promo',\n  SUGGESTIONS = 'suggestions',\n  SAVE_PAYWALL = 'save-paywall',\n  SKIP_PAYWALL = 'skip-paywall',\n  CLOSE_PAYWALL = 'close-paywall',\n}\n\nexport type CompetenceScreen =\n  | 'final'\n  | 'minimal'\n  | 'promo'\n  | 'quiz'\n  | 'suggestions'\n  | 'lead'\n  | 'inline-start-question'\n  | null\n","import {Logger} from '~/helpers/logger'\nimport {initialStore} from '~/stores/initial'\nimport {metricsStore} from '~/stores/metrics'\nimport {paywallStore} from '~/stores/paywall'\nimport {quizStore} from '~/stores/quiz'\nimport {screenStore} from '~/stores/screen'\nimport {systemStore} from '~/stores/system'\nimport {ActionToCompetence} from '~/types/competence'\n\nimport type {Screen} from '~/stores/screen'\nimport type {Action} from '~/types/action'\nimport type {CompetenceScreen} from '~/types/competence'\nimport type {PaywallField} from '~/types/paywall'\n\nimport {appApiFetch} from './api'\nimport {DataLayer} from './dataLayer'\n\ninterface ActionPayloadBase {\n  action: ActionToCompetence\n  mode?: Action\n  screen?: CompetenceScreen\n  target?: string\n  position?: number\n  email?: string\n  name?: string\n  phone?: string\n}\n\ntype ActionPayload = ActionPayloadBase\n\ntype SaveCompetenceFunc = (payload: ActionPayload) => Promise<void>\ntype ActionFunc = (props?: Omit<ActionPayload, 'action'>) => void\ntype ActionReducerFunc = (action: ActionToCompetence) => ActionFunc\n\nconst saveCompetence: SaveCompetenceFunc = async restPayload => {\n  const {isDebug} = systemStore.computed\n  const {screen} = screenStore.store\n  const {action} = initialStore.store\n  const quiz = quizStore.store()\n\n  const payload: ActionPayload = {\n    mode: action,\n    ...(screen && {screen}),\n    ...(quiz?.slug && {slug: quiz.slug}),\n    ...restPayload,\n  }\n\n  if (isDebug) {\n    console.log('### save competence', payload)\n  }\n\n  const response = await appApiFetch('/v0/actions', 'POST', {body: payload}).catch(Logger.captureException)\n\n  if (response?.status !== 200) {\n    return null\n  }\n\n  return await response.json()\n}\n\nconst actionReducer: ActionReducerFunc = action => restPayload => {\n  const payload: ActionPayload = {\n    action,\n    ...restPayload,\n  }\n\n  saveCompetence(payload)\n}\n\nexport const actionExpand = actionReducer(ActionToCompetence.EXPAND)\nexport const actionClose: ActionFunc = props => {\n  actionReducer(ActionToCompetence.CLOSE)(props)\n\n  if (DataLayer.inappBridge) {\n    DataLayer.inappBridge.trackClose()\n  }\n}\nexport const actionBack = actionReducer(ActionToCompetence.BACK)\nexport const actionCollapse: ActionFunc = props => {\n  actionReducer(ActionToCompetence.COLLAPSE)(props)\n\n  if (DataLayer.inappBridge) {\n    DataLayer.inappBridge.trackClose()\n  }\n}\nexport const actionRestart = actionReducer(ActionToCompetence.RESTART)\nexport const actionClosePromo = actionReducer(ActionToCompetence.CLOSE_PROMO)\nexport const actionGoSuggestions = actionReducer(ActionToCompetence.SUGGESTIONS)\nexport const actionClosePaywall: ActionFunc = props => {\n  actionReducer(ActionToCompetence.CLOSE_PAYWALL)(props)\n\n  if (DataLayer.inappBridge) {\n    DataLayer.inappBridge.trackClose()\n  }\n}\nexport const actionShow = (screen?: Screen) => {\n  if (screen) {\n    if (metricsStore.actions.isShown(screen)) {\n      return\n    }\n\n    metricsStore.actions.show(screen)\n  }\n\n  saveCompetence({action: ActionToCompetence.SHOW})\n}\n\nexport const actionShowInlineStartQuestion = () => {\n  actionReducer(ActionToCompetence.SHOW)({screen: 'inline-start-question'})\n}\n\nexport const actionGoItem = (target: string, position: number, screen: CompetenceScreen) => {\n  const payload: ActionPayload = {\n    action: ActionToCompetence.GO_ITEM,\n    target,\n    position,\n    screen,\n  }\n\n  saveCompetence(payload)\n}\n\nexport const actionSkipPaywall = () => {\n  const updateSkippedField = (field: PaywallField) => ({...field, hasBeenSkipped: true})\n\n  saveCompetence({action: ActionToCompetence.SKIP_PAYWALL})\n  paywallStore.actions.updateFields(prevFields => ({\n    ...prevFields,\n    ...(prevFields.name && {name: updateSkippedField(prevFields.name)}),\n    ...(prevFields.email && {email: updateSkippedField(prevFields.email)}),\n    ...(prevFields.phone && {phone: updateSkippedField(prevFields.phone)}),\n  }))\n}\ninterface ActionSavePaywallProps {\n  name?: string\n  email?: string\n  phone?: string\n}\nexport const actionSavePaywall = (fields: ActionSavePaywallProps) => {\n  const filledField = {present: true, hasBeenSkipped: false} as const\n  saveCompetence({action: ActionToCompetence.SAVE_PAYWALL, ...fields})\n  paywallStore.actions.updateFields(prevFields => ({\n    ...prevFields,\n    ...(fields.name && {name: filledField}),\n    ...(fields.email && {email: filledField}),\n    ...(fields.phone && {phone: filledField}),\n  }))\n}\n","import {getAvailableOptions} from '~/helpers/step/utils'\n\nimport type {Question} from '~/types/question'\n\ninterface Params {\n  questions: Question[]\n  startDepth: number\n  startQuestion: Question\n}\n\nexport const maxStepsToFinish = ({questions, startDepth, startQuestion}: Params): number => {\n  const map = questions.reduce<Record<string, Question>>((acc, question) => {\n    acc[question.name] = question\n\n    return acc\n  }, {})\n\n  const stepsToFinishCache: Record<string, number> = {}\n\n  function dfs(questionName: string, depth: number, stack: Record<string, boolean>): number {\n    if (stack[questionName]) {\n      return depth\n    }\n\n    stack[questionName] = true\n\n    if (stepsToFinishCache[questionName] !== undefined) {\n      return depth + stepsToFinishCache[questionName]\n    }\n\n    const question = map[questionName]\n\n    let maxDepth = depth\n\n    if (question) {\n      const options = getAvailableOptions(question)\n\n      if (options.length) {\n        for (const option of options) {\n          const currentDepth = dfs(option.next, depth + 1, stack)\n          maxDepth = Math.max(maxDepth, currentDepth)\n        }\n      } else if ('next' in question && question.next) {\n        const currentDepth = dfs(question.next, depth + 1, stack)\n        maxDepth = Math.max(maxDepth, currentDepth)\n      }\n    }\n\n    stack[questionName] = false\n    stepsToFinishCache[questionName] = maxDepth - depth\n\n    return maxDepth\n  }\n\n  return dfs(startQuestion.name, startDepth, {})\n}\n","import {answersStore} from '~/stores/answers'\nimport {answersShakerStore} from '~/stores/answersShaker'\nimport {integrationsStore} from '~/stores/integrations'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {Answer} from '~/types/answers'\nimport type {CompetenceScreen} from '~/types/competence'\nimport type {Item} from '~/types/items'\nimport type {OptionValue, Question, QuestionOption} from '~/types/question'\n\nimport {actionGoItem} from '../actions'\nimport {maxStepsToFinish} from '../maxStepsToFinish'\n\nconst generateCombinations = (input: Answer[]) => {\n  const result: Answer<OptionValue>[][] = []\n  const queue: [number, Answer<OptionValue>[]][] = [[0, []]]\n\n  while (queue.length > 0) {\n    const [index, currentCombination] = queue.pop() as [number, Answer<OptionValue>[]]\n\n    if (index === input.length) {\n      result.push([...currentCombination])\n      continue\n    }\n\n    const currentItem = input[index]\n\n    if (Array.isArray(currentItem.answer)) {\n      currentItem.answer.forEach(option => {\n        const newCombination = [...currentCombination, {...currentItem, answer: option}]\n        queue.push([index + 1, newCombination])\n      })\n    } else {\n      const newCombination = [...currentCombination, currentItem as Answer<string>]\n      queue.push([index + 1, newCombination])\n    }\n  }\n\n  return result\n}\n\nconst flattenAndSortArrayOfArrays = (inputArray: QuestionOption[][]) => {\n  const flattenedArray: QuestionOption[] = []\n  let prefferedLastItem: QuestionOption | null = null\n\n  inputArray.forEach(subArray => {\n    subArray.forEach(item => {\n      // we always want to place item with value 'all' in the end of array\n      if (item.value === 'all') {\n        prefferedLastItem = item\n        return\n      }\n\n      if (!flattenedArray.some(existingItem => existingItem.value === item.value)) {\n        flattenedArray.push(item)\n      }\n    })\n  })\n\n  if (prefferedLastItem) {\n    flattenedArray.push(prefferedLastItem)\n  }\n\n  return flattenedArray\n}\n\nexport const getAvailableOptions = (question: Question) => {\n  const answersShaker = answersShakerStore.store()\n\n  if (\n    quizStore.computed.widgetType.isSurvey ||\n    quizStore.computed.widgetType.isLeadgen ||\n    !answersShaker ||\n    !Object.keys(answersShaker).length ||\n    question.name === 'welcome'\n  ) {\n    return question.options\n  }\n\n  const answers = answersStore.store()\n  const answersPaths = generateCombinations(answers)\n  const pathOptions: QuestionOption[][] = []\n\n  answersPaths.forEach(path => {\n    let currentNodePointer = answersShaker\n    path.forEach(answerMap => {\n      const answer = answerMap.answer\n\n      if (answer && currentNodePointer && currentNodePointer[answer]) {\n        currentNodePointer = currentNodePointer[answer]\n      }\n    })\n\n    const currentOptionKeys = Object.keys(currentNodePointer ?? {})\n    const filteredOptions =\n      question.options?.filter((option: QuestionOption) => currentOptionKeys.includes(option.value.toString())) ?? []\n\n    if (filteredOptions.length) {\n      pathOptions.push(filteredOptions)\n    }\n  })\n\n  return flattenAndSortArrayOfArrays(pathOptions.length ? pathOptions : [question.options])\n}\n\nexport const goToItemPage = (item: Item, suggestions: Item[], screen: CompetenceScreen) => {\n  actionGoItem(\n    item._id,\n    suggestions?.findIndex(({_id}) => item._id === _id),\n    screen,\n  )\n  integrationsStore.actions.goProduct(item)\n}\n\ninterface ExtraStepsCount {\n  max: number\n  finished: number\n}\ninterface GetProgressPercentProps {\n  question?: Question\n  extraStepsCount?: ExtraStepsCount\n}\nexport const getProgressPercent = ({question, extraStepsCount = {max: 0, finished: 0}}: GetProgressPercentProps) => {\n  const answers = answersStore.store()\n  const maxStepsCount =\n    (question\n      ? maxStepsToFinish({\n          questions: quizStore.store()?.questions ?? [],\n          startDepth: answers.length,\n          startQuestion: question,\n        })\n      : answers.length) + extraStepsCount.max\n  const finishedStepsCount = answers.length + extraStepsCount.finished\n\n  if (finishedStepsCount <= 0) {\n    return 0\n  }\n\n  if (finishedStepsCount >= maxStepsCount) {\n    return 100\n  }\n\n  return Math.round((100 / maxStepsCount) * finishedStepsCount)\n}\n","import {predefinedAnswersStore} from '~/stores/predefinedAnswers'\n\nimport type {QuestionMethods} from '~/helpers/questionMethods/types'\nimport type {Answer} from '~/types/answers'\nimport type {OptionValue, Question, QuestionOption} from '~/types/question'\n\nimport {getQuestionMethods} from '../../questionMethods/getQuestionMethods'\nimport {getAvailableOptions} from '../utils'\n\ninterface GetSkipInfoProps {\n  question: Question\n  startQuestionName: string\n  predefinedAnswers?: Answer[]\n  extractOptions?(question: Question): QuestionOption[]\n  questionMethods?: QuestionMethods\n}\nexport const getSkipInfo = ({\n  question,\n  startQuestionName,\n  predefinedAnswers = predefinedAnswersStore.store(),\n  extractOptions = getAvailableOptions,\n  questionMethods = getQuestionMethods(question),\n}: GetSkipInfoProps): {\n  forward: {\n    answer?: {\n      slug?: string\n      answer: OptionValue | OptionValue[]\n    }\n  }\n  back: {\n    shouldSkip: boolean\n  }\n} => {\n  const options = extractOptions(question)\n  const answerMethods = questionMethods.answer\n\n  if (startQuestionName !== question.name && options.length === 1) {\n    const option = options[0]\n\n    return {\n      forward: {\n        answer: {\n          slug: option?.slug,\n          answer: answerMethods.optionToValue(option.value),\n        },\n      },\n      back: {\n        shouldSkip: true,\n      },\n    }\n  }\n\n  if (options.length === 2) {\n    const allOption = options.find(option => option.value === 'all')\n\n    if (allOption) {\n      return {\n        forward: {\n          answer: {\n            slug: allOption?.slug,\n            answer: answerMethods.optionToValue(allOption.value),\n          },\n        },\n        back: {\n          shouldSkip: true,\n        },\n      }\n    }\n  }\n\n  const questionPredefinedAnswers = predefinedAnswers.find(answer => answer.question === question.name)\n\n  if (questionPredefinedAnswers) {\n    return {\n      forward: {\n        answer: {\n          answer: questionPredefinedAnswers.answer,\n          slug: question.slug,\n        },\n      },\n      back: {\n        shouldSkip: false,\n      },\n    }\n  }\n\n  return {\n    forward: {},\n    back: {\n      shouldSkip: false,\n    },\n  }\n}\n","import {getQuestionMethods as defaultGetQuestionMethods} from '~/helpers/questionMethods/getQuestionMethods'\n\nimport type {QuestionMethods} from '~/helpers/questionMethods/types'\nimport type {Answer} from '~/types/answers'\nimport type {OptionValue, Question} from '~/types/question'\nimport type {Quiz} from '~/types/quiz'\n\nimport {getSkipInfo as defaultGetSkipInfo} from '../getSkipInfo'\n\ninterface NextQuestionProps {\n  quiz: Quiz\n  next?: string\n  answers?: Answer[]\n  getSkipInfo?: (props: {question: Question; startQuestionName: string}) => {\n    forward: {\n      answer?: {\n        slug?: string\n        answer: OptionValue | OptionValue[]\n      }\n    }\n  }\n  getQuestionMethods?: (question: Question) => QuestionMethods\n}\nexport const getNextQuestion = ({\n  quiz,\n  next = quiz.start,\n  answers = [],\n  getSkipInfo = defaultGetSkipInfo,\n  getQuestionMethods = defaultGetQuestionMethods,\n}: NextQuestionProps): {question?: Question; answers: Answer[]} => {\n  const nextQuestion = quiz.questions.find(question => question.name === next)\n\n  if (!nextQuestion) {\n    return {\n      answers,\n    }\n  }\n\n  const {\n    forward: {answer: skippedQuestionAnswer},\n  } = getSkipInfo({question: nextQuestion, startQuestionName: quiz.start})\n\n  if (skippedQuestionAnswer) {\n    answers.push({\n      question: nextQuestion.name,\n      answer: skippedQuestionAnswer.answer,\n      slug: skippedQuestionAnswer.slug,\n    })\n\n    return getNextQuestion({\n      quiz,\n      next: getQuestionMethods(nextQuestion).getNext(skippedQuestionAnswer.answer),\n      answers,\n      getSkipInfo,\n    })\n  }\n\n  return {\n    question: nextQuestion,\n    answers,\n  }\n}\n","import {FreeformAnswer} from '~/components/answer'\nimport {getNextQuestion} from '~/helpers/step/getNextQuestion'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {FreeformQuestion} from '~/types/question'\n\nimport type {QuestionMethods} from '../types'\n\nexport const getFreeformMethods = (question: FreeformQuestion): QuestionMethods => ({\n  answer: {\n    isReady: answers => {\n      if (question.required) {\n        return Boolean(answers[0])\n      }\n\n      return true\n    },\n    Component: props => <FreeformAnswer {...props} question={question} />,\n    arrayToValue: answers => answers[0],\n    optionToValue: optionValue => optionValue,\n    isValid: () => true,\n    parse: answer => answer,\n    defaultValue: '',\n  },\n  getNext: () => question.next,\n  hasNextQuestion: () => Boolean(getNextQuestion({quiz: quizStore.store(), next: question.next}).question),\n})\n","import {MultipleAnswer} from '~/components/answer'\nimport {getNextQuestion} from '~/helpers/step/getNextQuestion'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {MultipleQuestion} from '~/types/question'\n\nimport type {QuestionMethods} from '../types'\n\nexport const getMultipleMethods = (question: MultipleQuestion): QuestionMethods => ({\n  answer: {\n    Component: props => <MultipleAnswer {...props} question={question} />,\n    arrayToValue: answers => answers,\n    optionToValue: optionValue => [optionValue],\n    isValid: (answer, options) => options.some(option => option.value === answer),\n    parse: answer => answer,\n    defaultValue: [],\n  },\n  getNext: () => question.next,\n  isSkippableByAll: true,\n  hasNextQuestion: () => Boolean(getNextQuestion({quiz: quizStore.store(), next: question.next}).question),\n})\n","import type {OptionValue, Question} from '~/types/question'\n\nexport const getOptionNext = (question: Question, answers: OptionValue[]) =>\n  question.options.find(option => option.value === answers[0])?.next\n","import type {OptionValue} from '~/types/question'\n\nexport const getAnswersArr = (answer: OptionValue | OptionValue[]) => (Array.isArray(answer) ? answer : [answer])\n","import {ScaleAnswer} from '~/components/answer'\nimport {getOptionNext} from '~/helpers/getOptionNext'\nimport {getNextQuestion} from '~/helpers/step/getNextQuestion'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {ScaleQuestion} from '~/types/question'\n\nimport type {QuestionMethods} from '../types'\n\nimport {getAnswersArr} from '../helpers'\n\nexport const getScaleMethods = (question: ScaleQuestion): QuestionMethods => ({\n  answer: {\n    Component: props => <ScaleAnswer {...props} question={question} />,\n    arrayToValue: answers => answers[0],\n    optionToValue: optionValue => optionValue,\n    isValid: (answer, options) => options.some(option => option.value === answer),\n    parse: answer => Number(answer),\n    defaultValue: 0,\n  },\n  getNext: answer => getOptionNext(question, getAnswersArr(answer)),\n  hasNextQuestion: () =>\n    question.options.some(option => getNextQuestion({quiz: quizStore.store(), next: option.next}).question),\n})\n","import {SingleAnswer} from '~/components/answer'\nimport {getOptionNext} from '~/helpers/getOptionNext'\nimport {getNextQuestion} from '~/helpers/step/getNextQuestion/getNextQuestion'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {SingleQuestion} from '~/types/question'\n\nimport type {QuestionMethods} from '../types'\n\nimport {getAnswersArr} from '../helpers'\n\nexport const getSingleMethods = (question: SingleQuestion): QuestionMethods => ({\n  answer: {\n    Component: props => <SingleAnswer {...props} question={question} />,\n    arrayToValue: answers => answers[0],\n    optionToValue: optionValue => optionValue,\n    isValid: (answer, options) => options.some(option => option.value === answer),\n    parse: answer => answer,\n    defaultValue: '',\n  },\n  getNext: answer => getOptionNext(question, getAnswersArr(answer)),\n  hasNextQuestion: () =>\n    question.options.some(option => getNextQuestion({quiz: quizStore.store(), next: option.next}).question),\n})\n","import {getNextQuestion} from '~/helpers/step/getNextQuestion'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {SystemQuestion} from '~/types/question'\n\nimport type {QuestionMethods} from '../types'\n\nexport const getSystemMethods = (question: SystemQuestion): QuestionMethods => ({\n  answer: {\n    Component: () => null,\n    arrayToValue: answers => answers[0],\n    optionToValue: optionValue => optionValue,\n    isValid: () => true,\n    parse: answer => answer,\n    defaultValue: '',\n  },\n  getNext: () => question.next,\n  hasNextQuestion: () => Boolean(getNextQuestion({quiz: quizStore.store(), next: question.next}).question),\n})\n","import type {Question} from '~/types/question'\n\nimport type {QuestionMethods} from './types'\n\nimport {getFreeformMethods} from './list/freeform'\nimport {getMultipleMethods} from './list/multiple'\nimport {getScaleMethods} from './list/scale'\nimport {getSingleMethods} from './list/single'\nimport {getSystemMethods} from './list/system'\n\nexport const getQuestionMethods = (question: Question): QuestionMethods => {\n  switch (question.type) {\n    case 'freeform':\n      return getFreeformMethods(question)\n    case 'single':\n      return getSingleMethods(question)\n    case 'scale':\n      return getScaleMethods(question)\n    case 'multiple':\n      return getMultipleMethods(question)\n    case 'system':\n      return getSystemMethods(question)\n  }\n}\n","import type {Question} from './question'\n\nexport enum QuizType {\n  LEADGEN = 'leadgen',\n  MATCHER = 'matcher',\n  SURVEY = 'survey',\n}\n\nexport enum QuizSubType {\n  CONTACTS = 'contacts',\n  CSAT = 'CSAT',\n  CSI = 'CSI',\n  NPS = 'NPS',\n  PRODUCTS = 'products',\n  SERVICES = 'services',\n}\n\nexport interface Lead {\n  title: string\n  description: string\n}\n\nexport interface ProgressBar {\n  text: string\n}\n\nexport interface PluralizationForms {\n  zero: string\n  one: string\n  two: string\n  few: string\n  many: string\n  other: string\n}\n\nexport interface Products {\n  pluralizationForms: PluralizationForms\n}\n\nexport interface Quiz {\n  _id?: string\n  internalId: string\n  minimalTitle: string\n  promoText: string\n  questions: Question[]\n  slug: string\n  start: string\n  title: string\n  version?: string\n  type: QuizType\n  sub_type: QuizSubType\n  lead: Lead\n  progressBar: ProgressBar\n  products: Products\n}\n","export enum WidgetType {\n  SUGGESTIONS = 'suggestions',\n  SURVEY = 'survey',\n  LEADGEN = 'leadgen',\n}\n","import {getQuestionMethods} from '~/helpers/questionMethods/getQuestionMethods'\nimport {getNextQuestion} from '~/helpers/step/getNextQuestion'\nimport {QuizType, type Quiz} from '~/types/quiz'\nimport {WidgetType} from '~/types/widget'\nimport {createSignal} from 'solid-js'\n\nimport {predefinedAnswersStore} from './predefinedAnswers'\n\ntype QuizStore = Quiz | null\nconst getDefaultStore = (): QuizStore => null\nconst createQuizStore = () => {\n  const [store, setStore] = createSignal<QuizStore>(getDefaultStore())\n  const getWidgetType = () => {\n    const quiz = store()\n\n    if (quiz) {\n      switch (quiz.type) {\n        case QuizType.MATCHER:\n          return WidgetType.SUGGESTIONS\n        case QuizType.LEADGEN:\n          return WidgetType.LEADGEN\n        default:\n          return WidgetType.SURVEY\n      }\n    }\n\n    return WidgetType.SURVEY\n  }\n\n  return {\n    store: () => {\n      const quiz = store()\n\n      if (!quiz) {\n        throw new Error('Quiz is not initialized')\n      }\n\n      return quiz\n    },\n    computed: {\n      widgetType: {\n        get isSurvey() {\n          return getWidgetType() === WidgetType.SURVEY\n        },\n        get isSuggestions() {\n          return getWidgetType() === WidgetType.SUGGESTIONS\n        },\n        get isLeadgen() {\n          return getWidgetType() === WidgetType.LEADGEN\n        },\n      },\n      getQuestionByName: (name: string) => {\n        const quiz = store()\n\n        return quiz?.questions.find(question => question.name === name)\n      },\n      getQuestionMethodsByName: (name: string) => {\n        const question = quizStore.computed.getQuestionByName(name)\n\n        if (!question) {\n          return\n        }\n\n        return getQuestionMethods(question)\n      },\n      get startQuestion() {\n        const quiz = quizStore.store()\n\n        if (!quiz) {\n          return\n        }\n\n        const {question} = getNextQuestion({quiz})\n\n        return question\n      },\n      get systemAnswers() {\n        const quiz = quizStore.store()\n\n        if (!quiz) {\n          return []\n        }\n\n        return quiz.questions\n          .filter(question => question.type === 'system')\n          .map(question => {\n            const answer = predefinedAnswersStore.store().find(answer => answer.question === question.name)\n\n            if (typeof answer !== 'undefined') {\n              return answer\n            }\n\n            const questionMethods = getQuestionMethods(question)\n\n            return {\n              question: question.name,\n              answer: questionMethods.answer.defaultValue,\n            }\n          })\n      },\n    },\n    actions: {\n      init: (quiz?: Quiz) => {\n        if (quiz && quiz._id) {\n          setStore(quiz)\n        }\n      },\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const quizStore = createQuizStore()\n","// src/index.ts\nvar isDict = (value) => value != null && (value = Object.getPrototypeOf(value), value === Array.prototype || value === Object.prototype);\nvar isRecordDict = (value) => value != null && Object.getPrototypeOf(value) === Object.prototype;\nfunction visitDict(flat_dict, dict, path) {\n  for (const [key, value] of Object.entries(dict)) {\n    const key_path = `${path}.${key}`;\n    flat_dict[key_path] = value;\n    isDict(value) && visitDict(flat_dict, value, key_path);\n  }\n}\nfunction flatten(dict) {\n  const flat_dict = { ...dict };\n  for (const [key, value] of Object.entries(dict)) {\n    isDict(value) && visitDict(flat_dict, value, key);\n  }\n  return flat_dict;\n}\nvar prefix = (dict, prefix2) => {\n  prefix2 += \".\";\n  const result = {};\n  for (const [key, value] of Object.entries(dict)) {\n    result[prefix2 + key] = value;\n  }\n  return result;\n};\nvar template = (source) => source;\nvar resolveTemplate = (string, args) => {\n  if (args)\n    for (const [key, value] of Object.entries(args))\n      string = string.replace(new RegExp(`{{\\\\s*${key}\\\\s*}}`, \"g\"), value);\n  return string;\n};\nvar identityResolveTemplate = (v) => v;\nfunction translator(dict, resolveTemplate2 = identityResolveTemplate) {\n  return (path, ...args) => {\n    if (path[0] === \".\")\n      path = path.slice(1);\n    const value = dict()?.[path];\n    switch (typeof value) {\n      case \"function\":\n        return value(...args);\n      case \"string\":\n        return resolveTemplate2(value, args[0]);\n      default:\n        return value;\n    }\n  };\n}\nfunction scopedTranslator(translator2, scope) {\n  return (path, ...args) => translator2(`${scope}.${path}`, ...args);\n}\nfunction chainedTranslator(init_dict, translate, path = \"\") {\n  const result = { ...init_dict };\n  for (const [key, value] of Object.entries(init_dict)) {\n    const key_path = `${path}.${key}`;\n    result[key] = isRecordDict(value) ? chainedTranslator(value, translate, key_path) : (...args) => translate(\n      key_path,\n      ...args\n    );\n  }\n  return result;\n}\nfunction proxyTranslator(translate, path = \"\") {\n  return new Proxy(translate.bind(void 0, path), new Traps(translate, path));\n}\nvar Traps = class {\n  constructor(translate, path) {\n    this.translate = translate;\n    this.path = path;\n  }\n  get(target, prop) {\n    if (typeof prop !== \"string\")\n      return Reflect.get(target, prop);\n    return proxyTranslator(this.translate, `${this.path}.${prop}`);\n  }\n  has(target, prop) {\n    if (typeof prop !== \"string\")\n      return Reflect.has(target, prop);\n    return proxyTranslator(this.translate, `${this.path}.${prop}`) !== void 0;\n  }\n  getOwnPropertyDescriptor(target, prop) {\n    if (typeof prop !== \"string\")\n      return Reflect.getOwnPropertyDescriptor(target, prop);\n    return {\n      enumerable: true,\n      get: () => proxyTranslator(this.translate, `${this.path}.${prop}`)\n    };\n  }\n};\n\nexport { chainedTranslator, flatten, identityResolveTemplate, prefix, proxyTranslator, resolveTemplate, scopedTranslator, template, translator };\n","import {flatten, translator, chainedTranslator, resolveTemplate} from '@solid-primitives/i18n'\nimport {DEFAULT_LANG} from '~/constants/common'\n\nimport enI18n from '../../../../i18n/widget/en.json'\nimport ruI18n from '../../../../i18n/widget/ru.json'\n\nconst DICTIONARIES = {\n  [DEFAULT_LANG]: enI18n,\n  'ru-RU': ruI18n,\n}\n\ntype Dictionaries = typeof DICTIONARIES\ntype Lang = keyof Dictionaries\n\ntype Dictionary = Dictionaries[Lang]\ntype TranslationKey = keyof Dictionary\ntype TranslationKeyPath = `.${TranslationKey}`\n\nconst FLATTEN_DICTIONARIES = (Object.keys(DICTIONARIES) as Lang[]).reduce(\n  (flattenDictionaries, dictionaryKey) => ({\n    ...flattenDictionaries,\n    [dictionaryKey]: flatten(DICTIONARIES[dictionaryKey]),\n  }),\n  // TODO: fix type\n  {} as Record<Lang, any>,\n)\n\nconst getTranslationGetter =\n  (lang: Lang) => (path: TranslationKeyPath, params?: Record<string, string | number | boolean>) => {\n    let pluralizedKeyPath = path\n    const count = params?.count\n    const flattenDictionary = FLATTEN_DICTIONARIES[lang]\n\n    // TODO: find better pluralization method\n    try {\n      if (Number.isInteger(count)) {\n        const rule = new Intl.PluralRules(lang).select(count as number)\n        const expectedPluralizedKey = `${path.substring(1)}_${rule}`\n\n        if (expectedPluralizedKey in flattenDictionary) {\n          pluralizedKeyPath = `.${expectedPluralizedKey}` as TranslationKeyPath\n        }\n      }\n    } catch (_error) {\n      // ignore error\n    }\n\n    return translator(() => flattenDictionary, resolveTemplate)(pluralizedKeyPath, params)\n  }\n\n// lang: \"en\"/\"en-US\"/\"en-us\"/...\nexport const getDictionaryLang = (langs: Lang[], lang: string): Lang => {\n  const findLang = (lang: string) => {\n    return langs.find(currentLang => {\n      const lowerCaseCurrentLang = currentLang.toLowerCase()\n\n      if (lowerCaseCurrentLang.startsWith(lang)) {\n        return currentLang\n      }\n    })\n  }\n\n  const lowerCaseLang = lang.toLowerCase()\n  const mostFittedLang = findLang(lowerCaseLang)\n\n  if (mostFittedLang) {\n    return mostFittedLang\n  }\n\n  const lowerCaseShortLang = lang.split('-')[0].toLowerCase()\n  const fallbackFittedLang = findLang(lowerCaseShortLang)\n\n  return fallbackFittedLang || DEFAULT_LANG\n}\n\nexport const initTranslations = (lang: string) => {\n  const fittedLang = getDictionaryLang(Object.keys(DICTIONARIES) as Lang[], lang)\n  const t = getTranslationGetter(fittedLang)\n\n  // TODO: fix \"t\" type\n  return chainedTranslator(DICTIONARIES[fittedLang], t)\n}\n\nexport type Translations = ReturnType<typeof initTranslations>\n","import {DEFAULT_LANG} from '~/constants/common'\nimport {initTranslations, type Translations} from '~/helpers/i18n'\nimport {createStore} from 'solid-js/store'\n\nexport interface TranslationsStore {\n  lang: string\n  translations?: Translations\n}\nconst getDefaultStore = (): TranslationsStore => ({\n  lang: DEFAULT_LANG,\n})\nconst createTranslationsStore = () => {\n  const [store, setStore] = createStore<TranslationsStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      init: (lang: string = DEFAULT_LANG) =>\n        setStore(prevStore => ({...prevStore, lang, translations: initTranslations(lang)})),\n    },\n  }\n}\n\nexport const translationsStore = createTranslationsStore()\n","/*! js-cookie v3.0.5 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (name, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    name = encodeURIComponent(name)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      name + '=' + converter.write(value, name) + stringifiedAttributes)\n  }\n\n  function get (name) {\n    if (typeof document === 'undefined' || (arguments.length && !name)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var found = decodeURIComponent(parts[0]);\n        jar[found] = converter.read(value, found);\n\n        if (name === found) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return name ? jar[name] : jar\n  }\n\n  return Object.create(\n    {\n      set,\n      get,\n      remove: function (name, attributes) {\n        set(\n          name,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport { api as default };\n","import Cookies from 'js-cookie'\n\nexport const QzCookies = Cookies\n","import {COOKIE_QZ_AB_NAME, COOKIE_SETTINGS, HEADER_QZ_AB, SEARCH_PARAM_QZ_AB} from '~/constants/common'\nimport {QzCookies} from '~/helpers/cookies'\n\nimport type {ExperimentsCookie} from '~/types/common'\nimport type {Experiments} from '~/types/experiments'\n\nfunction setExperimentsCookie(value: null | string) {\n  switch (value) {\n    case null:\n      break\n    case '': {\n      QzCookies.remove(COOKIE_QZ_AB_NAME)\n      break\n    }\n    default: {\n      const experiments = JSON.stringify(parseAb(value))\n      QzCookies.set(COOKIE_QZ_AB_NAME, experiments, {...COOKIE_SETTINGS, expires: 1})\n      break\n    }\n  }\n}\n\nfunction getExperimentsCookie(): Experiments | undefined {\n  const fromCookie = QzCookies.get(COOKIE_QZ_AB_NAME)\n  const afterParse = fromCookie ? JSON.parse(fromCookie) : undefined\n  return afterParse\n}\n\nfunction packExperimentsHeader(experiments: Experiments): string {\n  return Object.entries(experiments)\n    .map(([key, value]) => `${key}:${value}`)\n    .join(',')\n}\n\nfunction parseAb(value: string) {\n  return value.split(',').reduce<ExperimentsCookie>((acc, queryExperiment) => {\n    const [name, value] = queryExperiment.split(':')\n    if (value) {\n      acc[name] = value\n    }\n    return acc\n  }, {})\n}\n\nexport const getExperiment = (name: keyof Experiments, experiments: Experiments): string => {\n  return experiments[name]?.split(':')[0] as string\n}\n\nexport const testExperiment = (\n  name: keyof Experiments,\n  testValue: Array<string>,\n  experiments: Experiments,\n): boolean => {\n  return testValue.includes(getExperiment(name, experiments))\n}\n\nexport const isFeature = (name: keyof Experiments, experiments: Experiments): boolean => {\n  return getExperiment(name, experiments) === 'on'\n}\n\nexport const initExperimentsCookie = () => {\n  const ab = new URLSearchParams(window.location.search).get(SEARCH_PARAM_QZ_AB)\n  setExperimentsCookie(ab)\n}\n\nexport const getExperimentsHeader = (): object | undefined => {\n  const experiments = getExperimentsCookie()\n  return experiments ? {[HEADER_QZ_AB]: packExperimentsHeader(experiments)} : undefined\n}\n","import {COOKIE_QZ_TOKEN_NAME, COOKIE_SETTINGS, HEADER_QZ_TOKEN, SEARCH_PARAM_TOKEN} from '~/constants/common'\nimport {QzCookies} from '~/helpers/cookies'\n\nexport const initTokenCookie = () => {\n  const token = new URLSearchParams(window.location.search).get(SEARCH_PARAM_TOKEN)\n  setTokenCookie(token)\n}\n\nfunction setTokenCookie(value: null | string) {\n  switch (value) {\n    case null:\n      break\n    case '': {\n      QzCookies.remove(COOKIE_QZ_TOKEN_NAME)\n      break\n    }\n    default: {\n      QzCookies.set(COOKIE_QZ_TOKEN_NAME, value, {...COOKIE_SETTINGS, expires: 1})\n      break\n    }\n  }\n}\n\nexport const getTokenHeader = (): object => {\n  const ab = QzCookies.get(COOKIE_QZ_TOKEN_NAME)\n  return ab ? {[HEADER_QZ_TOKEN]: ab} : {}\n}\n","import {initialStore} from '~/stores/initial'\nimport {quizStore} from '~/stores/quiz'\nimport {systemStore} from '~/stores/system'\nimport {translationsStore} from '~/stores/translations'\n\nimport {getExperimentsHeader} from './experiments'\nimport {getTokenHeader} from './token'\n\ntype Method = 'POST'\ninterface Options {\n  body?: object\n  init?: RequestInit\n  headers?: HeadersInit\n}\ninterface UserData {\n  traceUuid: string\n  deviceUuid: string\n  sessionUuid: string\n  endpointId: string\n  actUuid?: string\n  wizardId?: string\n  lang?: string\n}\nexport const apiFetch = async (\n  pathname: string,\n  method: Method,\n  apiEndpoint: string,\n  userData: UserData,\n  {body, init, headers}: Options = {},\n) => {\n  const {traceUuid, deviceUuid, sessionUuid, endpointId, lang, actUuid, wizardId} = userData\n\n  return fetch(`${apiEndpoint}/api${pathname}`, {\n    method,\n    headers: {\n      'Content-Type': 'application/json',\n      'x-location': window.location.href,\n      'x-session-uuid': sessionUuid,\n      'x-trace-uuid': traceUuid,\n      'x-user-uid': deviceUuid,\n      'x-client-id': endpointId,\n      ...(lang && {'x-lang': lang}),\n      ...(actUuid && {'x-act-uuid': actUuid}),\n      ...(wizardId && {'x-wizard-id': wizardId}),\n      ...getExperimentsHeader(),\n      ...getTokenHeader(),\n      ...headers,\n    },\n    body: JSON.stringify(body || {}),\n    ...(init ?? {}),\n  }).then(response => {\n    if (response.status === 200) {\n      return response\n    }\n\n    return Promise.reject(response)\n  })\n}\n\nexport const appApiFetch = (pathname: string, method: Method, options: Options = {}) => {\n  return apiFetch(\n    pathname,\n    method,\n    systemStore.store.apiEndpoint,\n    {...initialStore.store, lang: translationsStore.store.lang, wizardId: initialStore.store.internalId},\n    {...options, headers: {...options.headers, 'x-wizard-category-id': quizStore.store().internalId}},\n  )\n}\n","import {Logger} from '~/helpers/logger'\nimport {useAbortController} from '~/helpers/useAbortController'\n\nimport type {Wizard} from '~/types/wizard'\n\nimport {apiFetch} from './api'\n\nconst symbol: symbol = Object(Symbol('loadInitialData'))\n\nexport interface LoadInitialDataParams {\n  endpointId: string\n  apiEndpoint: string\n  sessionUuid: string\n  traceUuid: string\n  deviceUuid: string\n  wizardId?: string\n}\n\n// \"extends Wizard\" will be removed after migration\nexport interface InitialData extends Wizard {\n  wizards?: Wizard[]\n  uatraits: {\n    device: {type?: string}\n  }\n}\n\nexport const loadInitialData = async (params: LoadInitialDataParams): Promise<InitialData | null> => {\n  try {\n    const {apiEndpoint} = params\n    const characterSet = document.characterSet?.toLowerCase()\n    const getSignal = useAbortController(symbol)\n\n    const response = await apiFetch('/v0/init', 'POST', apiEndpoint, params, {\n      headers: {\n        'Content-Type': characterSet ? `application/json; charset=${characterSet}` : 'application/json',\n      },\n      init: {signal: getSignal()},\n    }).catch(Logger.captureException)\n\n    if (!response) {\n      return null\n    }\n\n    return await response.json()\n  } catch (err) {\n    Logger.captureException(err)\n    return null\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import {type LoadInitialDataParams, loadInitialData} from '~/helpers/loadInitialData'\nimport equal from 'fast-deep-equal'\n\nimport type {TaskAdditionalType} from '~/types/task'\n\ntype CompareInitialDataProps = LoadInitialDataParams & {\n  initialData: TaskAdditionalType['initialData']\n  onError?: (nextInitialData: CompareInitialDataProps['initialData']) => void\n  onSuccess?: (nextInitialData: CompareInitialDataProps['initialData']) => void\n}\n\nexport async function compareInitialData(props: CompareInitialDataProps) {\n  const {initialData, onSuccess, onError, sessionUuid, traceUuid, deviceUuid, endpointId, apiEndpoint} = props\n\n  if (!onSuccess && !onError) {\n    return\n  }\n\n  const nextInitialData = await loadInitialData({\n    sessionUuid,\n    traceUuid,\n    deviceUuid,\n    endpointId,\n    apiEndpoint,\n  })\n\n  if (!nextInitialData) {\n    return\n  }\n\n  const isEqual = equal(initialData, nextInitialData)\n\n  if (isEqual && onSuccess) {\n    onSuccess(nextInitialData)\n  }\n\n  if (!isEqual && onError) {\n    onError(nextInitialData)\n  }\n}\n","import {LOCATION_OBSERVER_INTERVAL} from '~/constants/common'\nimport {DataLayer} from '~/helpers/dataLayer'\n\nexport function locationObserver(onChange: (destroyLocationObserver: VoidFunction) => void) {\n  if (DataLayer.timers.locationObserver) {\n    window.clearInterval(DataLayer.timers.locationObserver)\n  }\n\n  DataLayer.timers.setLocationObserver(\n    window.setInterval(function locationObserverTick() {\n      const currentLocationHref = window.location.href\n      if (currentLocationHref === DataLayer.lastLocationHref) {\n        return\n      }\n\n      DataLayer.setLastLocationHref(currentLocationHref)\n      onChange(() => {\n        window.clearInterval(DataLayer.timers.locationObserver)\n      })\n    }, LOCATION_OBSERVER_INTERVAL),\n  )\n}\n","import {COOKIE_QZ_SESSION_NAME, COOKIE_SETTINGS} from '~/constants/common'\nimport {QzCookies} from '~/helpers/cookies'\n\nexport const init = (traceUuid: string) => {\n  const session = QzCookies.get(COOKIE_QZ_SESSION_NAME)\n\n  if (session) {\n    QzCookies.set(COOKIE_QZ_SESSION_NAME, session, {...COOKIE_SETTINGS, expires: 1})\n    return session\n  }\n\n  QzCookies.set(COOKIE_QZ_SESSION_NAME, traceUuid, {...COOKIE_SETTINGS, expires: 1})\n  return traceUuid\n}\n","let globalObserver: MutationObserver | null = null\nexport const waitForElement = (selector: string): Promise<Element> => {\n  return new Promise(resolve => {\n    const element = document.querySelector(selector)\n\n    if (element) {\n      resolve(element)\n      return\n    }\n\n    if (globalObserver) {\n      globalObserver.disconnect()\n      globalObserver = null\n    }\n\n    globalObserver = new MutationObserver((_, observer) => {\n      const element = document.querySelector(selector)\n      if (element) {\n        resolve(element)\n        observer.disconnect()\n        globalObserver = null\n      }\n    })\n\n    globalObserver.observe(document.documentElement, {\n      subtree: true,\n      childList: true,\n    })\n  })\n}\n","import {CONTAINER_ID, INLINE_START_QUESTION_CONTAINER_ID, INLINE_TARGET_ID} from '~/constants/common'\nimport {waitForElement} from '~/helpers/waitForElement'\n\nexport const getTargetElement = async (isInline: boolean) => waitForElement(isInline ? `#${INLINE_TARGET_ID}` : 'body')\n\nexport const embedContainerElement = (target: Element, containerId: string) => {\n  const container = document.createElement('div')\n  container.id = containerId\n  target.appendChild(container)\n\n  return {\n    container,\n    root: container.attachShadow({mode: 'open'}),\n  }\n}\n\nexport const removeContainersElements = () => {\n  const containers = document.querySelectorAll(`#${CONTAINER_ID}`)\n  const inlineStartQuestionContainers = document.querySelectorAll(`#${INLINE_START_QUESTION_CONTAINER_ID}`)\n\n  containers.forEach(container => container.remove())\n  inlineStartQuestionContainers.forEach(container => container.remove())\n}\n","import { createMemo, createResource, createSignal, getOwner, onCleanup, DEV } from 'solid-js';\nimport { isServer } from 'solid-js/web';\n\nvar __require = /* @__PURE__ */ ((x) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x, {\n  get: (a, b) => (typeof require !== \"undefined\" ? require : a)[b]\n}) : x)(function(x) {\n  if (typeof require !== \"undefined\")\n    return require.apply(this, arguments);\n  throw Error('Dynamic require of \"' + x + '\" is not supported');\n});\nvar fetchFallback = globalThis.fetch;\nif (isServer && !fetchFallback) {\n  try {\n    const nodeFetch = __require(\"node-fetch\");\n    fetchFallback = nodeFetch;\n  } catch (_e) {\n    fetchFallback = () => {\n      console.warn(\n        '\"\\x1B[33m\\u26A0\\uFE0F package missing to run createFetch on the server.\\n Please run:\\x1B[0m\\n\\nnpm i node-fetch\\n\"'\n      );\n      return Promise.reject(new Error(\"fetch not available\"));\n    };\n  }\n}\nvar fetchRequest = (fetchFn) => (requestContext) => {\n  requestContext.fetcher = (requestData) => (fetchFn || fetchFallback)?.(...requestData).then((response) => {\n    requestContext.response = response;\n    if (requestContext.responseHandler) {\n      return requestContext.responseHandler(response);\n    }\n    const contentType = response.headers.get(\"content-type\") ?? \"\";\n    if (contentType.includes(\"application/json\")) {\n      return response.json();\n    } else if (contentType.includes(\"text/\")) {\n      return response.text();\n    } else {\n      return response.blob();\n    }\n  });\n  requestContext.wrapResource();\n};\n\n// src/fetch.ts\nvar isOptions = (prop) => typeof prop === \"object\" && [\"name\", \"initialValue\", \"fetch\", \"request\"].some((key) => key in prop);\nvar fetcherArgsFromArgs = (args) => {\n  const info = typeof args[0] === \"function\" ? args[0]() : args[0];\n  if (!info) {\n    return void 0;\n  }\n  const init = typeof args[1] === \"function\" ? args[1]() : isOptions(args[1]) || Array.isArray(args[1]) ? void 0 : args[1];\n  return [info, init];\n};\nfunction createFetch(...args) {\n  const options = [args[2], args[1]].find(isOptions) || {};\n  const urlAccessor = options.disable ? () => void 0 : typeof args[0] === \"function\" || typeof args[1] === \"function\" ? createMemo(() => fetcherArgsFromArgs(args)) : ((fetcherArgs) => () => fetcherArgs)(fetcherArgsFromArgs(args));\n  const modifiers = (() => {\n    for (let l = args.length - 1; l >= 1; l--) {\n      if (Array.isArray(args[l])) {\n        return args[l];\n      }\n    }\n    return [];\n  })();\n  modifiers.unshift(options.request || fetchRequest(options.fetch));\n  let index = 0;\n  const fetchContext = {\n    urlAccessor,\n    responseHandler: options.responseHandler,\n    wrapResource: () => {\n      const modifier = modifiers[index++];\n      typeof modifier === \"function\" && modifier(fetchContext);\n      if (!fetchContext.resource) {\n        fetchContext.resource = createResource(\n          fetchContext.urlAccessor,\n          fetchContext.fetcher,\n          options\n        );\n      }\n      return fetchContext.resource;\n    }\n  };\n  fetchContext.wrapResource();\n  return fetchContext.resource;\n}\nvar wrapFetcher = (requestContext, wrapper) => {\n  const originalFetcher = requestContext.fetcher;\n  if (!originalFetcher) {\n    throw new Error(\"could not read resource fetcher\");\n  }\n  requestContext.fetcher = wrapper(originalFetcher) || originalFetcher;\n};\nvar wrapResource = (requestContext, wrapper) => {\n  if (!requestContext.resource) {\n    throw new Error(\"could not read resource\");\n  }\n  const [props, actions] = wrapper(requestContext);\n  props && Object.defineProperties(requestContext.resource[0], props);\n  actions && Object.assign(requestContext.resource[1], actions);\n};\nvar withAbort = () => (requestContext) => {\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (requestData, info) => {\n      if (requestContext.abortController) {\n        requestContext.abortController.abort();\n      }\n      requestContext.abortController = new AbortController();\n      const lastRequestDataObj = (() => {\n        for (let l = requestData.length - 1; l >= 0; l--) {\n          if (typeof requestData[l] === \"object\") {\n            return requestData[l];\n          }\n        }\n        const obj = {};\n        requestData.push(obj);\n        return obj;\n      })();\n      lastRequestDataObj.signal = requestContext.abortController.signal;\n      return originalFetcher(requestData, info).catch((err) => {\n        if (info.value && err.name === \"AbortError\") {\n          return Promise.resolve(info.value);\n        }\n        throw err;\n      });\n    }\n  );\n  requestContext.wrapResource();\n  wrapResource(requestContext, (requestContext2) => [\n    {\n      aborted: { get: () => requestContext2.abortController?.signal.aborted || false },\n      status: { get: () => requestContext2.response?.status },\n      response: { get: () => requestContext2.response }\n    },\n    {\n      abort: () => requestContext2.abortController?.abort()\n    }\n  ]);\n};\nvar withTimeout = (timeout) => (requestContext) => {\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (requestData, info) => new Promise((resolve, reject) => {\n      setTimeout(() => {\n        requestContext.abortController?.abort(\"timeout\");\n        reject(new Error(\"timeout\"));\n      }, timeout);\n      originalFetcher(requestData, info).then(resolve).catch(reject);\n    })\n  );\n  requestContext.wrapResource();\n};\nvar withCatchAll = () => (requestContext) => {\n  const [error, setError] = createSignal();\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (requestData, info) => originalFetcher(requestData, info).catch((err) => {\n      setError(err);\n      return Promise.resolve(info.value);\n    })\n  );\n  requestContext.wrapResource();\n  const originalResource = requestContext.resource;\n  requestContext.resource = [\n    Object.defineProperties(() => originalResource?.[0](), {\n      ...Object.getOwnPropertyDescriptors(originalResource?.[0]),\n      error: { get: () => error() }\n    }),\n    originalResource?.[1]\n  ];\n};\nvar defaultWait = (attempt) => Math.max(1e3 << attempt, 3e4);\nvar withRetry = (retries, wait = defaultWait, verify = (response) => response?.ok) => (requestContext) => {\n  const waitForAttempt = (attempt) => new Promise(\n    (resolve) => setTimeout(resolve, typeof wait === \"number\" ? wait : wait(attempt))\n  );\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (requestData, info) => {\n      const wrappedFetcher = (attempt) => attempt <= retries ? originalFetcher(requestData, info).then(\n        (data) => !verify(requestContext.response) ? waitForAttempt(attempt).then(() => wrappedFetcher(attempt + 1)) : data\n      ).catch(() => waitForAttempt(attempt).then(() => wrappedFetcher(attempt + 1))) : originalFetcher(requestData, info);\n      return wrappedFetcher(0);\n    }\n  );\n  requestContext.wrapResource();\n};\nvar withRefetchEvent = isServer ? () => (requestContext) => {\n  requestContext.wrapResource();\n} : (options = {}) => (requestContext) => {\n  const lastRequestRef = {\n    current: void 0\n  };\n  wrapFetcher(requestContext, (originalFetcher) => (...args) => {\n    lastRequestRef.current = [args, void 0];\n    return originalFetcher(...args).then((data) => {\n      lastRequestRef.current = [args, data];\n      return data;\n    });\n  });\n  requestContext.wrapResource();\n  const events = options.on || [\"visibilitychange\"];\n  const filter = options.filter || (() => true);\n  const handler = (ev) => {\n    if (lastRequestRef.current && !(ev.type === \"visibilitychange\" && document.visibilityState !== \"visible\") && filter(...lastRequestRef.current, ev)) {\n      requestContext.resource?.[1].refetch();\n    }\n  };\n  events.forEach((name) => window.addEventListener(name, handler));\n  getOwner() && onCleanup(() => events.forEach((name) => window.removeEventListener(name, handler)));\n};\nvar withAggregation = (dataFilter) => (requestContext) => {\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (...args) => originalFetcher(...args).then((data) => {\n      const next = dataFilter ? dataFilter(data) : data;\n      const current = requestContext.resource?.[0]();\n      return Array.isArray(current) ? Array.isArray(next) ? [...current, ...next] : [...current, next] : typeof current === \"object\" && typeof next === \"object\" ? { ...current, ...next } : typeof current === \"string\" && typeof next === \"string\" ? current + next : current != null ? [current, next] : next;\n    })\n  );\n  requestContext.wrapResource();\n};\nvar defaultCacheOptions = {\n  expires: 5e3,\n  cache: {}\n};\nvar serializeRequest = (requestData) => JSON.stringify({\n  ...typeof requestData[0] === \"string\" ? { url: requestData[0] } : requestData[0],\n  ...requestData[1]\n});\nvar withCache = (options = defaultCacheOptions) => (requestContext) => {\n  requestContext.cache = options.cache || requestContext.cache;\n  requestContext.expires = options.expires;\n  const isExpired = (entry) => typeof options.expires === \"number\" ? entry.ts + options.expires < (/* @__PURE__ */ new Date()).getTime() : options.expires(entry);\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (requestData, info) => {\n      const serializedRequest = serializeRequest(requestData);\n      const cached = requestContext.cache[serializedRequest];\n      const shouldRead = requestContext.readCache?.(cached) !== false;\n      if (cached && !isExpired(cached) && shouldRead) {\n        return Promise.resolve(cached.data);\n      }\n      return originalFetcher(requestData, info).then((data) => {\n        const cacheEntry = {\n          ts: (/* @__PURE__ */ new Date()).getTime(),\n          requestData,\n          data\n        };\n        requestContext.cache[serializedRequest] = cacheEntry;\n        requestContext.writeCache?.(serializedRequest, cacheEntry);\n        return data;\n      });\n    }\n  );\n  requestContext.wrapResource();\n  const originalRefetch = requestContext.resource[1].refetch;\n  const invalidate = (...requestData) => {\n    try {\n      delete requestContext.cache[serializeRequest(requestData)];\n    } catch (e) {\n      !isServer && DEV && // eslint-disable-next-line no-console\n      console.warn(\"attempt to invalidate cache for\", requestData, \"failed with error\", e);\n    }\n  };\n  Object.assign(requestContext.resource[1], {\n    invalidate,\n    refetch: (info) => {\n      invalidate();\n      return originalRefetch(info);\n    }\n  });\n};\nvar withRefetchOnExpiry = (pollDelayMs = 100) => (requestContext) => {\n  wrapFetcher(\n    requestContext,\n    (originalFetcher) => (requestData, info) => {\n      const serializedRequest = serializeRequest(requestData);\n      const cached = requestContext.cache[serializedRequest];\n      if (!cached) {\n        if (typeof requestContext.expires === \"number\") {\n          setTimeout(() => requestContext.resource?.[1].refetch(), requestContext.expires + 10);\n        } else if (typeof requestContext.expires === \"function\") {\n          const delay = pollDelayMs === 0 ? (fn) => requestAnimationFrame(fn) : setTimeout;\n          const poll = () => {\n            if (requestContext.expires(cached)) {\n              requestContext.resource?.[1].refetch();\n            } else {\n              delay(poll, pollDelayMs);\n            }\n          };\n          poll();\n        }\n      }\n      return originalFetcher(requestData, info);\n    }\n  );\n  requestContext.wrapResource();\n};\nvar withCacheStorage = (storage = localStorage, key = \"fetch-cache\") => (requestContext) => {\n  try {\n    const loadedCache = JSON.parse(storage.getItem(key) || \"{}\");\n    Object.assign(requestContext.cache, loadedCache);\n  } catch (e) {\n    !isServer && DEV && // eslint-disable-next-line no-console\n    console.warn(\"attempt to parse stored request cache failed with error\", e);\n  }\n  const originalWriteCache = requestContext.writeCache;\n  requestContext.writeCache = (...args) => {\n    originalWriteCache?.(...args);\n    try {\n      storage.setItem(key, JSON.stringify(requestContext.cache));\n    } catch (e) {\n      !isServer && DEV && console.warn(\"attempt to store request cache failed with error\", e);\n    }\n  };\n  requestContext.wrapResource();\n};\n\nexport { createFetch, fetchRequest, serializeRequest, withAbort, withAggregation, withCache, withCacheStorage, withCatchAll, withRefetchEvent, withRefetchOnExpiry, withRetry, withTimeout, wrapFetcher, wrapResource };\n","import {answersStore} from '~/stores/answers'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {Answer} from '~/types/answers'\n\nexport const getFullAnswers = (): Answer[] => {\n  const answers = [...quizStore.computed.systemAnswers, ...answersStore.store()]\n\n  return answers.map(({question: questionName, answer}) => {\n    const question = quizStore.store()?.questions.find(question => question.name === questionName)\n    const option = question?.options.find(option =>\n      Array.isArray(answer) ? answer.includes(option.value) : option.value === answer,\n    )\n    const slug = option?.slug || question?.slug\n\n    // maybe \"slug\" is not needed (some legacy stuff)?\n    return {question: questionName, answer, ...(slug && {slug})}\n  })\n}\n","import type {Answer} from '~/types/answers'\n\nexport const prepareSlugs = (baseSlug: null | string, answers: Answer[]) => {\n  const slugs: string[] = baseSlug ? [baseSlug] : []\n  answers.forEach(answer => {\n    if (typeof answer.slug === 'string') {\n      slugs.push(answer.slug)\n    }\n\n    return slugs\n  })\n\n  return slugs\n}\n","import {withRetry} from '@solid-primitives/fetch'\n\nconst START_TIMEOUT = 1000\nexport const withBaseRetry = () =>\n  withRetry(2, (retryIndex: number) => {\n    return (retryIndex + 1) * START_TIMEOUT\n  })\n","import {createFetch, withAggregation, withCatchAll} from '@solid-primitives/fetch'\nimport {debounce} from '@solid-primitives/scheduled'\nimport {appApiFetch} from '~/helpers/api'\nimport {getFullAnswers} from '~/helpers/getFullAnswers'\nimport {prepareSlugs} from '~/helpers/prepareSlugs'\nimport {withBaseRetry} from '~/helpers/withBaseRetry'\nimport {createSignal} from 'solid-js'\n\nimport type {Item} from '~/types/items'\n\nimport {initialStore} from './initial'\nimport {quizStore} from './quiz'\n\nconst PREVIEW_API_METHOD = '/v0/preview'\n\ninterface PreviewStoreData {\n  items: Item[]\n}\n\nconst DEFAULT_STORE_DATA: PreviewStoreData = {\n  items: [],\n}\n\nconst createPreviewStore = () => {\n  const [isReady, setIsReady] = createSignal(false)\n  const buildBody = () => {\n    const {intent} = initialStore.store\n    const quiz = quizStore.store()\n    const answers = getFullAnswers()\n    const slugs = prepareSlugs(quiz?.slug ?? null, answers)\n\n    return {answers, intent, ...(slugs && {slugs})}\n  }\n  const [store, {refetch, mutate}] = createFetch<PreviewStoreData>(\n    // prevent auto fetching\n    () => (isReady() ? PREVIEW_API_METHOD : undefined),\n    {\n      fetch: pathname =>\n        appApiFetch(pathname as string, 'POST', {\n          body: buildBody(),\n          init: {keepalive: true},\n        }),\n    },\n    [withBaseRetry(), withAggregation(({items}: {items: Item[]}) => ({items})), withCatchAll()],\n  )\n\n  return {\n    store: {\n      resource: store,\n      data: () => store() || DEFAULT_STORE_DATA,\n    },\n    actions: {\n      fetch: () => {\n        if (isReady()) {\n          refetch()\n          return\n        }\n\n        setIsReady(true)\n      },\n      reset: () => mutate(DEFAULT_STORE_DATA),\n    },\n  }\n}\n\nexport const previewStore = createPreviewStore()\n","import {createStore} from 'solid-js/store'\n\nimport type {OptionValue, Question} from '~/types/question'\n\ninterface QuestionStore {\n  data?: Question\n  answers: OptionValue[]\n}\nconst getDefaultStore = (): QuestionStore => ({answers: []})\nconst createQuestionStore = () => {\n  const [store, setStore] = createStore<QuestionStore>(getDefaultStore())\n\n  return {\n    store,\n    actions: {\n      set: (question: Question) => {\n        setStore({data: question, answers: []})\n      },\n      setAnswers: (answers: OptionValue[]) => setStore('answers', answers),\n      reset: () => setStore(getDefaultStore()),\n    },\n  }\n}\n\nexport const questionStore = createQuestionStore()\n","import {answersStore} from '~/stores/answers'\nimport {type InitialStore} from '~/stores/initial'\nimport {integrationsStore} from '~/stores/integrations'\nimport {metricsStore} from '~/stores/metrics'\nimport {paywallStore} from '~/stores/paywall'\nimport {predefinedAnswersStore} from '~/stores/predefinedAnswers'\nimport {previewStore} from '~/stores/preview'\nimport {questionStore} from '~/stores/question'\nimport {quizStore} from '~/stores/quiz'\nimport {screenStore} from '~/stores/screen'\n\nimport type {Paywall} from '~/types/paywall'\nimport type {Quiz} from '~/types/quiz'\n\nexport interface InitStateStoresProps {\n  paywall: Paywall\n  initial: InitialStore\n  quiz: Quiz\n}\nexport const initStateStores = ({initial, quiz, paywall}: InitStateStoresProps) => {\n  predefinedAnswersStore.actions.init({quiz})\n  quizStore.actions.init(quiz)\n  metricsStore.actions.init()\n  integrationsStore.actions.init(initial.endpointId)\n  paywallStore.actions.init(paywall)\n}\n\nexport const resetStateStores = () => {\n  predefinedAnswersStore.actions.clear()\n  answersStore.actions.reset()\n  integrationsStore.actions.reset()\n  metricsStore.actions.reset()\n  previewStore.actions.reset()\n  questionStore.actions.reset()\n  screenStore.actions.reset()\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {ColorMode, Size} from './types'\n\ninterface ButtonClassProps {\n  colorMode: ColorMode\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ButtonClass: ({colorMode, size}: ButtonClassProps) =>\n      css({\n        border: 'none',\n        fontSize: theme.typography.button.fontSize,\n        lineHeight: theme.typography.button.lineHeight,\n        transition: `background-color ${theme.animation.transition}`,\n        display: 'inline-grid',\n        alignItems: 'center',\n        justifyContent: 'center',\n        cursor: 'pointer',\n        boxSizing: 'border-box',\n\n        '&:disabled': {\n          opacity: 0.5,\n          cursor: 'not-allowed',\n        },\n\n        ...(size === 's' && {\n          padding: `${theme.spacing.s10} ${theme.spacing.s16}`,\n          borderRadius: theme.borderRadius.s12,\n        }),\n        ...(size === 'm' && {\n          padding: `${theme.spacing.s14} ${theme.spacing.s20}`,\n          borderRadius: theme.borderRadius.s16,\n        }),\n        ...(size === 'l' && {\n          padding: `${theme.spacing.s18} ${theme.spacing.s24}`,\n          borderRadius: theme.borderRadius.s16,\n        }),\n\n        ...(colorMode === 'primary' && {\n          color: theme.colors.text.primaryInvert,\n          background: theme.colors.buttons.primary.default,\n\n          '&:hover': {\n            background: theme.colors.buttons.primary.hover,\n          },\n        }),\n        ...(colorMode === 'primaryInvert' && {\n          color: theme.colors.text.primary,\n          background: theme.colors.buttons.primaryInvert.default,\n\n          '&:hover': {\n            background: theme.colors.buttons.primaryInvert.hover,\n          },\n        }),\n        ...(colorMode === 'secondary' && {\n          color: theme.colors.text.primary,\n          background: theme.colors.buttons.secondary.default,\n\n          '&:hover': {\n            background: theme.colors.buttons.secondary.hover,\n          },\n        }),\n      }),\n    FullWidthClass: css({\n      width: '100%',\n    }),\n    WithIconClass: css({\n      gridTemplateColumns: 'auto 1fr',\n    }),\n    IconClass: css({\n      marginRight: theme.spacing.s6,\n    }),\n    LabelClass: css({\n      textAlign: 'center',\n      color: 'inherit',\n    }),\n  }\n}\n","import {Icon} from '~/components/icon'\nimport {useTheme} from '~/helpers/theme'\nimport {splitProps, type JSX, type ParentComponent} from 'solid-js'\n\nimport type {IconType} from '../icon/icon'\nimport type {ColorMode, Size} from './types'\n\nimport {getClasses} from './button.styles'\n\ninterface ButtonProps extends JSX.ButtonHTMLAttributes<HTMLButtonElement> {\n  size: Size\n  icon?: IconType\n  colorMode: ColorMode\n  fullWidth?: boolean\n  class?: string\n  classList?: Record<string, boolean>\n}\nexport const Button: ParentComponent<ButtonProps> = props => {\n  const [localProps, restProps] = splitProps(props, [\n    'size',\n    'icon',\n    'colorMode',\n    'fullWidth',\n    'class',\n    'classList',\n    'children',\n    'innerHTML',\n  ])\n  const {ButtonClass, FullWidthClass, WithIconClass, IconClass, LabelClass} = getClasses()\n  const theme = useTheme()\n\n  const IconColorMap = {\n    primary: theme.colors.text.primaryInvert,\n    primaryInvert: theme.colors.text.primary,\n    secondary: theme.colors.text.primary,\n  } as const\n\n  return (\n    <button\n      classList={{\n        [ButtonClass({colorMode: localProps.colorMode, size: localProps.size})]: true,\n        [WithIconClass]: Boolean(localProps.icon),\n        [FullWidthClass]: Boolean(localProps.fullWidth),\n        ...(localProps.class && {[localProps.class]: true}),\n        ...localProps.classList,\n      }}\n      {...restProps}>\n      {localProps.icon && (\n        <Icon class={IconClass} icon={localProps.icon} size=\"l\" color={IconColorMap[localProps.colorMode]} />\n      )}\n      <div\n        class={LabelClass}\n        {...(localProps.innerHTML ? {innerHTML: localProps.innerHTML} : {children: localProps.children})}\n      />\n    </button>\n  )\n}\n","import {translationsStore} from '~/stores/translations'\n\nexport const useTranslations = () => {\n  const {translations} = translationsStore.store\n\n  if (!translations) {\n    throw Error('\"t\" called before translations initialization')\n  }\n\n  return translations\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ImageContainerClass: css({\n      position: 'relative',\n      width: '100%',\n      height: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n    NoImageClass: css({\n      background: theme.colors.fill.primary,\n      padding: theme.spacing.s8,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      height: '100%',\n    }),\n    NoImageLabelClass: css({\n      marginTop: theme.spacing.s4,\n    }),\n    PreloaderOverlayClass: css({\n      position: 'absolute',\n      background: theme.colors.fill.medium,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      zIndex: 1,\n    }),\n  }\n}\n","import {useTheme} from '~/helpers/theme'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {createSignal, Show} from 'solid-js'\n\nimport type {Component, JSX} from 'solid-js'\n\nimport {Icon} from '../icon'\nimport {Caption} from '../typography/caption'\nimport {getClasses} from './image.styles'\n\ninterface ImageProps extends JSX.HTMLAttributes<HTMLImageElement> {\n  class?: string\n  src: string\n  dummyType?: 'full' | 'small'\n}\nexport const Image: Component<ImageProps> = props => {\n  const {NoImageClass, NoImageLabelClass, PreloaderOverlayClass, ImageContainerClass} = getClasses()\n  const theme = useTheme()\n\n  const [isLoading, setIsLoading] = createSignal(true)\n  const finishLoad = () => setIsLoading(false)\n  const [hasError, setHasError] = createSignal(false)\n  const handleError = () => {\n    setHasError(true)\n    finishLoad()\n  }\n  const t = useTranslations()\n\n  return (\n    <div class={ImageContainerClass}>\n      <Show\n        when={!hasError()}\n        fallback={\n          <div class={NoImageClass}>\n            <Icon icon=\"picture\" size=\"l\" color={theme.colors.text.secondary} />\n            {props.dummyType !== 'small' && (\n              <Caption class={NoImageLabelClass} size=\"s\" colorMode=\"secondary\">\n                {t.picture()}\n              </Caption>\n            )}\n          </div>\n        }>\n        <img {...props} onError={handleError} onLoad={finishLoad} />\n        {isLoading() && <div class={PreloaderOverlayClass} />}\n      </Show>\n    </div>\n  )\n}\n","import type {Question, QuestionOption} from '~/types/question'\n\nimport {getQuestionMethods} from './questionMethods/getQuestionMethods'\nimport {getAvailableOptions} from './step/utils'\n\nexport interface OptionsMap {\n  main: QuestionOption[]\n  skip?: QuestionOption\n}\n\nexport const getOptionsMap = (question: Question): OptionsMap => {\n  const options = getAvailableOptions(question)\n\n  if (getQuestionMethods(question).isSkippableByAll) {\n    return options.reduce(\n      (optionsMap, option) => {\n        if (option.value === 'all') {\n          optionsMap.skip = option\n        } else {\n          optionsMap.main.push(option)\n        }\n\n        return optionsMap\n      },\n      {main: []} as OptionsMap,\n    )\n  }\n\n  return {\n    main: options,\n  }\n}\n","import {throttle} from '@solid-primitives/scheduled'\nimport {createEffect, createSignal, onCleanup} from 'solid-js'\n\ninterface UseGetWidthModeProps {\n  target: Element\n  mediumBreakpoint: number\n  compactBreakpoint: number\n}\n\nexport type WidthMode = 'full' | 'medium' | 'compact'\n\nexport const useGetWidthMode = ({\n  target,\n  mediumBreakpoint,\n  compactBreakpoint,\n}: UseGetWidthModeProps): (() => WidthMode) => {\n  const calcWidthMode = () => {\n    const width = target.getBoundingClientRect().width\n    if (width < compactBreakpoint) {\n      return 'compact'\n    }\n    if (width < mediumBreakpoint) {\n      return 'medium'\n    }\n    return 'full'\n  }\n\n  const [widthMode, setWidthMode] = createSignal<WidthMode>(calcWidthMode())\n\n  createEffect(() => {\n    const handleResize = throttle(() => setWidthMode(calcWidthMode()), 100)\n    window.addEventListener('resize', handleResize)\n    onCleanup(() => {\n      window.removeEventListener('resize', handleResize)\n    })\n  })\n\n  return () => widthMode()\n}\n","export const getHostStyles = () => {\n  return `\n    :host {\n      height: 100%;\n      width: 100%;\n    }\n    :host > div {\n      height: 100%;\n      width: 100%;\n    }\n  `\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getHostStyles} from './layout.styles'\n\nexport const Layout: ParentComponent = props => {\n  return (\n    <>\n      <style>{getHostStyles()}</style>\n      {props.children}\n    </>\n  )\n}\n","export const LAYOUT_BREAKPOINTS = {\n  COMPACT: 520,\n  MEDIUM: 720,\n} as const\n","import {getExperiment, isFeature, testExperiment} from '~/helpers/experiments'\nimport {createSignal} from 'solid-js'\n\nimport type {Experiments} from '~/types/experiments'\n\nconst getDefaultStore = (): Experiments => ({})\nconst createExperimentsStore = () => {\n  const [store, setStore] = createSignal<Experiments>(getDefaultStore())\n  const experimentsStore = {\n    store,\n    computed: {\n      features: {\n        get disableSorting() {\n          return experimentsStore.actions.isFeature('disableSorting')\n        },\n        get disablePreview() {\n          return experimentsStore.actions.isFeature('disablePreview')\n        },\n        get hideQuestionImage() {\n          return experimentsStore.actions.isFeature('hideQuestionImage')\n        },\n      },\n    },\n    actions: {\n      init: (experiments: Experiments) => setStore(experiments),\n      reset: () => setStore(getDefaultStore()),\n      get: (name: keyof Experiments) => getExperiment(name, store()),\n      test: (name: keyof Experiments, testValue: Array<string>) => testExperiment(name, testValue, store()),\n      isFeature: (name: keyof Experiments) => isFeature(name, store()),\n    },\n  }\n\n  return experimentsStore\n}\n\nexport const experimentsStore = createExperimentsStore()\n","import {experimentsStore} from '~/stores/experiments'\n\nimport type {PaywallStore} from '~/stores/paywall'\nimport type {PaywallField} from '~/types/paywall'\n\nconst isPaywallFieldRequired = (paywallExp: string, field?: PaywallField) => {\n  if (field && !field.present) {\n    if (paywallExp === 'optional') {\n      return !field.hasBeenSkipped\n    }\n    if (paywallExp === 'required') {\n      return true\n    }\n  }\n\n  return false\n}\n\nexport const isLeadCollectingRequired = (paywall: PaywallStore) => {\n  const paywallExp: string = experimentsStore.actions.get('paywall')\n\n  if (!['optional', 'required'].includes(paywallExp)) {\n    return false\n  }\n\n  const {email, phone} = paywall.fields\n\n  if (isPaywallFieldRequired(paywallExp, email)) {\n    return true\n  }\n  if (isPaywallFieldRequired(paywallExp, phone)) {\n    return true\n  }\n\n  return false\n}\n","import {paywallStore} from '~/stores/paywall'\nimport {quizStore} from '~/stores/quiz'\nimport {screenStore} from '~/stores/screen'\n\nimport {isLeadCollectingRequired} from '../paywall'\n\nexport const goFinish = () => {\n  if (quizStore.computed.widgetType.isLeadgen && isLeadCollectingRequired(paywallStore.store)) {\n    screenStore.actions.goLead()\n  } else {\n    screenStore.actions.goFinal()\n  }\n}\n","import {answersStore} from '~/stores/answers'\nimport {questionStore} from '~/stores/question'\nimport {quizStore} from '~/stores/quiz'\n\nimport type {Question} from '~/types/question'\n\nimport {getNextQuestion} from './getNextQuestion'\nimport {goFinish} from './goFinish'\n\ninterface GoNextProps {\n  next?: string\n  onQuestion?: (question: Question) => void\n  useAutoFinish?: boolean\n}\nexport const goNext = ({next, onQuestion, useAutoFinish = true}: GoNextProps) => {\n  const {question, answers} = getNextQuestion({next, quiz: quizStore.store()})\n  answersStore.actions.add(answers)\n\n  if (question) {\n    questionStore.actions.set(question)\n    onQuestion?.(question)\n    return\n  }\n\n  if (useAutoFinish) {\n    goFinish()\n  }\n}\n","import {actionShowInlineStartQuestion} from '~/helpers/actions'\nimport {goNext} from '~/helpers/step/goNext'\n\nexport const initWidget = () => {\n  goNext({useAutoFinish: false})\n  actionShowInlineStartQuestion()\n}\n","import {integrationsStore} from '~/stores/integrations'\nimport {screenStore} from '~/stores/screen'\n\nexport const showQuiz = () => {\n  screenStore.actions.goQuiz()\n  integrationsStore.actions.startQuiz()\n}\n","import {actionExpand} from '~/helpers/actions'\nimport {showQuiz} from '~/helpers/showQuiz'\nimport {goNext} from '~/helpers/step/goNext'\nimport {answersStore} from '~/stores/answers'\nimport {previewStore} from '~/stores/preview'\n\nimport type {Question, QuestionOption} from '~/types/question'\n\nexport const selectAnswer = (question: Question, option: QuestionOption) => {\n  if (answersStore.store().find(answer => answer.question === question.name)) {\n    answersStore.actions.removeTillQuestion(question.name)\n  }\n  answersStore.actions.push({\n    question: question.name,\n    answer: option.value,\n  })\n  goNext({\n    next: option.next,\n    onQuestion: () => {\n      actionExpand()\n      showQuiz()\n    },\n  })\n  previewStore.actions.fetch()\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {WidthMode} from '~/helpers/useGetWidthMode'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: ({widthMode}: {widthMode: WidthMode}) =>\n      css({\n        display: 'flex',\n        flexDirection: 'column',\n        gap: theme.spacing.s24,\n        padding: widthMode === 'compact' ? `${theme.spacing.s20}` : `${theme.spacing.s24}`,\n        background: theme.colors.fill.primary,\n        position: 'relative',\n        overflow: 'hidden',\n        height: '100%',\n        width: '100%',\n        boxSizing: 'border-box',\n        alignItems: 'start',\n      }),\n    ContentClass: ({widthMode}: {widthMode: WidthMode}) =>\n      css({\n        display: 'flex',\n        flexDirection: 'column',\n        gap: widthMode === 'compact' ? theme.spacing.s8 : theme.spacing.s10,\n        zIndex: 1,\n      }),\n    TitleClass: ({widthMode}: {widthMode: WidthMode}) =>\n      css({\n        '&&': {\n          maxWidth: '340px',\n          fontSize: widthMode === 'compact' ? '21px' : '27px',\n          textAlign: 'left',\n          lineHeight: widthMode === 'compact' ? '24px' : '32px',\n          zIndex: 1,\n        },\n      }),\n    DescriptionClass: ({widthMode}: {widthMode: WidthMode}) =>\n      css({\n        '&&': {\n          maxWidth: '356px',\n          textAlign: 'left',\n          fontSize: widthMode === 'compact' ? '13px' : '15px',\n          lineHeight: widthMode === 'compact' ? '16px' : '20px',\n          zIndex: 1,\n        },\n      }),\n    OptionsClass: ({widthMode}: {widthMode: WidthMode}) =>\n      css({\n        marginTop: 'auto',\n        display: 'flex',\n        gap: theme.spacing.s6,\n        flexWrap: 'wrap',\n        maxWidth: '380px',\n        zIndex: 1,\n        '& button': {\n          padding: widthMode === 'compact' ? '8px 12px' : '10px 16px',\n        },\n      }),\n    ImageClass: () =>\n      css({\n        height: '100%',\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        zIndex: 0,\n        '& img': {\n          height: '100%',\n          objectFit: 'contain',\n        },\n      }),\n  }\n}\n","import {Button} from '~/components/button/button'\nimport {Image} from '~/components/image/image'\nimport {Heading} from '~/components/typography/heading/heading'\nimport {Paragraph} from '~/components/typography/paragraph/paragraph'\nimport {getOptionsMap} from '~/helpers/options'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {getAvailableOptions} from '~/helpers/step/utils'\nimport {useGetWidthMode} from '~/helpers/useGetWidthMode'\nimport {metaStore} from '~/stores/meta'\nimport {quizStore} from '~/stores/quiz'\nimport {For, onMount, Show, type Component} from 'solid-js'\n\nimport {Layout} from './components/layout'\nimport {LAYOUT_BREAKPOINTS} from './constants'\nimport {initWidget} from './helpers/initWidget'\nimport {selectAnswer} from './helpers/selectAnswer'\nimport {getClasses} from './inlineStartQuestion.styles'\n\ninterface InlineStartQuestionWidgetProps {\n  target: Element\n}\n\nexport const InlineStartQuestionWidget: Component<InlineStartQuestionWidgetProps> = props => {\n  const startQuestion = () => quizStore.computed.startQuestion\n  const {ContainerClass, TitleClass, DescriptionClass, OptionsClass, ImageClass, ContentClass} = getClasses()\n  const getWidthMode = useGetWidthMode({\n    target: props.target,\n    mediumBreakpoint: LAYOUT_BREAKPOINTS.MEDIUM,\n    compactBreakpoint: LAYOUT_BREAKPOINTS.COMPACT,\n  })\n\n  const imageUrl = () => {\n    const images = metaStore.store.widget?.inlineStartQuestion?.images\n    const widthMode = getWidthMode()\n    return images?.[widthMode] || images?.full\n  }\n\n  onMount(() => {\n    initWidget()\n  })\n\n  return (\n    <Show when={startQuestion()}>\n      {question => (\n        <Show when={getOptionsMap(question())}>\n          <Layout>\n            <div class={ContainerClass({widthMode: getWidthMode()})}>\n              <div class={ContentClass({widthMode: getWidthMode()})}>\n                <Show when={question().label}>\n                  {label => (\n                    <Heading\n                      class={TitleClass({widthMode: getWidthMode()})}\n                      size=\"l\"\n                      colorMode=\"primary\"\n                      innerHTML={sanitizeText(label())}\n                    />\n                  )}\n                </Show>\n                <Show when={question().description}>\n                  {description => (\n                    <Paragraph\n                      class={DescriptionClass({widthMode: getWidthMode()})}\n                      size=\"l\"\n                      colorMode=\"secondary\"\n                      innerHTML={parseMarkdownText(description())}\n                    />\n                  )}\n                </Show>\n              </div>\n              <Show when={imageUrl()}>\n                {image => (\n                  <div class={ImageClass()}>\n                    <Image src={image()} />\n                  </div>\n                )}\n              </Show>\n              <div class={OptionsClass({widthMode: getWidthMode()})}>\n                <For each={getAvailableOptions(question())}>\n                  {option => (\n                    <Button\n                      size=\"s\"\n                      colorMode=\"primary\"\n                      onClick={() => selectAnswer(question(), option)}\n                      innerHTML={sanitizeText(option.label)}\n                    />\n                  )}\n                </For>\n              </div>\n            </div>\n          </Layout>\n        </Show>\n      )}\n    </Show>\n  )\n}\n","import {createContext, useContext} from 'solid-js'\n\nimport type {Component, JSX} from 'solid-js'\n\ninterface ContextValue {\n  isCompact: () => boolean\n  isInline: () => boolean\n}\nconst ViewSettingsContext = createContext<ContextValue>({isCompact: () => false, isInline: () => false})\n\ninterface ViewSettingsProviderProps {\n  value: ContextValue\n  children(value: ContextValue): JSX.Element\n}\nexport const ViewSettingsProvider: Component<ViewSettingsProviderProps> = props => {\n  return <ViewSettingsContext.Provider value={props.value}>{props.children(props.value)}</ViewSettingsContext.Provider>\n}\n\nexport const useViewSettings = () => useContext(ViewSettingsContext)\n","import {useViewSettings} from '~/contexts/viewSettings'\n\nimport type {ParentComponent} from 'solid-js'\n\nexport const InlineLayout: ParentComponent = props => {\n  const {isCompact} = useViewSettings()\n\n  return (\n    <>\n      <style>{`:host {display: ${isCompact() ? 'block' : 'inline-flex'};}`}</style>\n      {props.children}\n    </>\n  )\n}\n","import {useAppContext} from '~/contexts/app'\nimport {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const isInInapp = useAppContext().isInInapp\n\n  // Positioner, Container and InnerClass prevent background scrolling\n  return {\n    PositionerClass: css({\n      position: 'fixed',\n      top: 0,\n      right: '-50px',\n      bottom: 0,\n      left: 0,\n      overflow: 'scroll',\n      overscrollBehavior: 'contain',\n    }),\n    ContainerClass: css({\n      minHeight: '100%',\n      height: isInInapp ? '100%' : 'calc(100% + 1px)',\n      boxSizing: 'border-box',\n      marginRight: '50px',\n    }),\n    InnerClass: css({\n      overflow: 'auto',\n      height: '100%',\n      width: '100%',\n    }),\n  }\n}\n","import {type ParentComponent} from 'solid-js'\n\nimport {getClasses} from './fullscreenPositioner.styles'\n\nexport const FullscreenPositioner: ParentComponent = props => {\n  const {PositionerClass, ContainerClass, InnerClass} = getClasses()\n\n  return (\n    <div class={PositionerClass}>\n      <div class={ContainerClass}>\n        <div class={InnerClass}>{props.children}</div>\n      </div>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    SimpleCloseButtonClass: css({\n      border: 'none',\n      background: 'transparent',\n      width: theme.spacing.s24,\n      height: theme.spacing.s24,\n      cursor: 'pointer',\n      padding: 0,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n  }\n}\n","import {Icon} from '~/components/icon'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './simpleCloseButton.styles'\n\ninterface SimpleCloseButtonProps {\n  class?: string\n  onClick(): void\n}\nexport const SimpleCloseButton: ParentComponent<SimpleCloseButtonProps> = props => {\n  const {SimpleCloseButtonClass} = getClasses()\n  const theme = useTheme()\n\n  return (\n    <button\n      classList={{[SimpleCloseButtonClass]: true, ...(props.class && {[props.class]: true})}}\n      type=\"button\"\n      onClick={props.onClick}>\n      <Icon icon=\"cross\" color={theme.colors.text.primary} size=\"m\" />\n    </button>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      borderRadius: `${theme.borderRadius.s20} ${theme.borderRadius.s20} 0 0`,\n      background: theme.colors.fill.primary,\n      paddingTop: '48px',\n      maxHeight: '100%',\n      overflow: 'auto',\n      boxShadow: theme.shadows.boxShadow,\n      position: 'relative',\n      display: 'flex',\n      flexDirection: 'column',\n    }),\n    OverlayClass: css({\n      background: theme.colors.overlay.o40,\n      // Safari support\n      '-webkit-backdrop-filter': 'blur(6px)',\n      backdropFilter: 'blur(6px)',\n      position: 'absolute',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      zIndex: -1,\n    }),\n    PositionerInnerClass: css({\n      paddingTop: '50px',\n      height: '100%',\n      boxSizing: 'border-box',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'end',\n      position: 'relative',\n    }),\n    CloseClass: css({\n      position: 'absolute',\n      top: theme.spacing.s14,\n      right: theme.spacing.s14,\n    }),\n  }\n}\n","import {FullscreenPositioner} from '~/components/fullscreenPositioner'\nimport {SimpleCloseButton} from '~/components/simpleCloseButton'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './fittedOverlap.styles'\n\ninterface FittedOverlapLayoutProps {\n  onClose(): void\n}\nexport const FittedOverlapLayout: ParentComponent<FittedOverlapLayoutProps> = props => {\n  const {ContainerClass, PositionerInnerClass, CloseClass, OverlayClass} = getClasses()\n\n  return (\n    <FullscreenPositioner>\n      <div class={PositionerInnerClass}>\n        <div class={OverlayClass} />\n        <div class={ContainerClass}>\n          <SimpleCloseButton class={CloseClass} onClick={props.onClose} />\n          {props.children}\n        </div>\n      </div>\n    </FullscreenPositioner>\n  )\n}\n","import {throttle} from '@solid-primitives/scheduled'\nimport {isMobile} from '~/helpers/isMobile'\nimport {createEffect, createSignal, onCleanup} from 'solid-js'\n\n// ~ iphone 16 pro max width\nconst MOBILE_BREAKPOINT = 450\n\ninterface UseGetIsCompactProps {\n  isInline: boolean\n  useCompactOnly: boolean\n  target: Element\n  breakpoint: number\n}\nexport const useGetIsCompact = ({\n  isInline,\n  useCompactOnly,\n  target,\n  breakpoint,\n}: UseGetIsCompactProps): (() => boolean) => {\n  if (useCompactOnly) {\n    return () => true\n  }\n\n  if (!isInline && isMobile()) {\n    return () => true\n  }\n\n  const calcIsCompact = () => {\n    if (isInline) {\n      return target.getBoundingClientRect().width < breakpoint + 10\n    }\n\n    return window.document.body.getBoundingClientRect().width < MOBILE_BREAKPOINT\n  }\n  const [isCompact, setIsCompact] = createSignal(calcIsCompact())\n\n  createEffect(() => {\n    const handleResize = throttle(() => setIsCompact(calcIsCompact()), 100)\n\n    window.addEventListener('resize', handleResize)\n\n    onCleanup(() => {\n      window.removeEventListener('resize', handleResize)\n    })\n  })\n\n  return isCompact\n}\n","import {answersStore} from '~/stores/answers'\nimport {previewStore} from '~/stores/preview'\n\nimport {showQuiz} from './showQuiz'\nimport {goNext} from './step/goNext'\n\nexport const startQuiz = () => {\n  answersStore.actions.reset()\n  goNext({\n    onQuestion: () => {\n      showQuiz()\n\n      if (answersStore.store().length) {\n        previewStore.actions.fetch()\n      }\n    },\n  })\n}\n","import {startQuiz} from '~/helpers/startQuiz'\nimport {resetStateStores} from '~/helpers/stateStores'\nimport {createEffect} from 'solid-js'\n\ninterface UseResizeResetProps {\n  isInline: boolean\n  isCompactAcc: () => boolean\n}\nexport const useResizeReset = ({isInline, isCompactAcc}: UseResizeResetProps) => {\n  if (isInline) {\n    createEffect(prevIsCompact => {\n      const isCompact = isCompactAcc()\n\n      if (prevIsCompact !== isCompact) {\n        resetStateStores()\n        startQuiz()\n      }\n\n      return isCompact\n    }, isCompactAcc())\n  }\n}\n","import {useViewSettings} from '~/contexts/viewSettings'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {isCompact, isInline} = useViewSettings()\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      overflow: 'auto',\n      maxHeight: '100%',\n      padding: isCompact() ? `${theme.spacing.s32} ${theme.spacing.s16}` : `${theme.spacing.s40} ${theme.spacing.s40}`,\n      ...(isInline()\n        ? {\n            minHeight: '460px',\n            display: 'grid',\n            alignItems: 'center',\n          }\n        : {paddingTop: 0}),\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './container.styles'\n\nexport const Container: ParentComponent = props => {\n  const {ContainerClass} = getClasses()\n\n  return <div class={ContainerClass}>{props.children}</div>\n}\n","import type {DesktopPlacement} from '~/types/placement'\nimport type {CSSAttribute} from 'solid-styled-components'\n\nexport const calcPopupDesktopPlacementStyles = (placement: DesktopPlacement): CSSAttribute => {\n  if (placement.position === 'left') {\n    return {\n      left: `${placement.offset.horizontal}px`,\n      bottom: `${placement.offset.vertical}px`,\n    }\n  }\n\n  if (placement.position === 'center') {\n    return {\n      left: 0,\n      top: 0,\n      width: '100dvw',\n      height: '100dvh',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center',\n      pointerEvents: 'none',\n    }\n  }\n\n  return {\n    right: `${placement.offset.horizontal}px`,\n    bottom: `${placement.offset.vertical}px`,\n  }\n}\n","import {calcPopupDesktopPlacementStyles} from '~/helpers/calcPopupPlacementStyles'\nimport {useStyledUtils} from '~/helpers/styledUtils'\n\nimport type {DesktopPlacement} from '~/types/placement'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    PopupPositionerClass: ({placement}: {placement: DesktopPlacement}) =>\n      css({\n        position: 'fixed',\n        ...calcPopupDesktopPlacementStyles(placement),\n      }),\n  }\n}\n","import type {DesktopPlacement} from '~/types/placement'\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './popupPositioner.styles'\n\ninterface PopupPositionerProps {\n  placement: DesktopPlacement\n}\nexport const PopupPositioner: ParentComponent<PopupPositionerProps> = props => {\n  const {PopupPositionerClass} = getClasses()\n\n  return <div class={PopupPositionerClass({placement: props.placement})}>{props.children}</div>\n}\n","export const DESKTOP_WIDGET_WIDTH = 460\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport {DESKTOP_WIDGET_WIDTH} from '../../constants'\n\ninterface PopupClassProps {\n  hasClose: boolean\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    PopupClass: ({hasClose}: PopupClassProps) =>\n      css({\n        background: theme.colors.fill.primary,\n        ...(hasClose && {paddingTop: theme.spacing.s40}),\n        boxShadow: theme.shadows.boxShadow,\n        borderRadius: theme.borderRadius.s32,\n        width: `${DESKTOP_WIDGET_WIDTH}px`,\n        boxSizing: 'border-box',\n        maxHeight: `calc(100vh - ${theme.spacing.s20} - ${theme.spacing.s20})`,\n        minHeight: '120px',\n        overflow: 'hidden',\n        display: 'flex',\n        flexDirection: 'column',\n        position: 'relative',\n        pointerEvents: 'auto',\n      }),\n    CloseClass: css({\n      position: 'absolute',\n      top: theme.spacing.s18,\n      right: theme.spacing.s18,\n    }),\n  }\n}\n","import {SimpleCloseButton} from '~/components/simpleCloseButton'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './popup.styles'\n\ninterface PopupProps {\n  onClose?(): void\n}\nexport const Popup: ParentComponent<PopupProps> = props => {\n  const {PopupClass, CloseClass} = getClasses()\n\n  return (\n    <div class={PopupClass({hasClose: Boolean(props.onClose)})}>\n      {props.onClose && <SimpleCloseButton class={CloseClass} onClick={props.onClose} />}\n      {props.children}\n    </div>\n  )\n}\n","import {PopupPositioner} from '~/components/popupPositioner'\nimport {useTheme} from '~/helpers/theme'\nimport {metaStore} from '~/stores/meta'\n\nimport type {DesktopPlacement} from '~/types/placement'\nimport type {ParentComponent} from 'solid-js'\n\nimport {Popup} from './popup'\n\ninterface CornerPopupProps {\n  onClose(): void\n}\nexport const CornerPopup: ParentComponent<CornerPopupProps> = props => {\n  const theme = useTheme()\n  const defaultPlacement: DesktopPlacement = {\n    position: 'right',\n    offset: {horizontal: parseInt(theme.spacing.s20, 10), vertical: parseInt(theme.spacing.s20, 10)},\n  }\n\n  return (\n    <PopupPositioner placement={metaStore.store.widget?.desktop?.placement || defaultPlacement}>\n      <Popup onClose={props.onClose}>{props.children}</Popup>\n    </PopupPositioner>\n  )\n}\n","import {InlineLayout} from '~/components/layouts/common/inline'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {Popup} from './popup'\n\nexport const InlinePopup: ParentComponent = props => {\n  return (\n    <InlineLayout>\n      <Popup>{props.children}</Popup>\n    </InlineLayout>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    BodyClass: css({paddingTop: theme.spacing.s24, marginBottom: theme.spacing.s12}),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './body.styles'\n\nexport const Body: ParentComponent = props => {\n  const {BodyClass} = getClasses()\n\n  return <div class={BodyClass}>{props.children}</div>\n}\n","import type {Component} from 'solid-js'\n\nimport type {LogoProps} from './types'\n\nexport const MaestraLogo: Component<LogoProps> = props => {\n  return (\n    <svg\n      class={props.class}\n      fill=\"none\"\n      width=\"120\"\n      height=\"22\"\n      viewBox=\"0 0 120 22\"\n      xmlns=\"http://www.w3.org/2000/svg\">\n      <g fill={props.color}>\n        <path d=\"m92.243 21.238h-2.726c-1.5105 0-2.7023-0.2006-3.5756-0.6018-0.8732-0.4248-1.4987-1.0857-1.8763-1.9825-0.3776-0.8969-0.5664-2.0651-0.5664-3.5048v-7.7884h-2.8321v-3.1154h2.8321v-4.4252h3.3746v6.3779h0.1615l1.2533-1.9527h3.6831v3.1154h-5.0979v7.753c0 1.1093 0.3226 1.8881 0.771 2.3365 0.4721 0.4484 1.2001 0.6727 2.1205 0.6727h2.4782v3.1153z\" />\n        <path d=\"m0 20.882v-17.114h3.3871v3.4585h-0.64177c0.26146-0.80817 0.68931-1.4856 1.2836-2.0323 0.59423-0.57047 1.2836-1.0102 2.0679-1.3192 0.80816-0.30901 1.6639-0.46351 2.5671-0.46351 1.1409 0 2.1274 0.19016 2.9592 0.57047 0.832 0.38031 1.4975 0.90324 1.9967 1.5688 0.4991 0.64178 0.8319 1.3667 0.9983 2.1749h-0.927c0.2615-0.95077 0.7131-1.747 1.3548-2.3888 0.6656-0.64178 1.4381-1.1172 2.3176-1.4262 0.8794-0.33277 1.7946-0.49916 2.7453-0.49916 1.2598 0 2.3532 0.2377 3.2802 0.71309 0.927 0.45161 1.6401 1.1409 2.1393 2.0679 0.5229 0.90324 0.7844 2.0204 0.7844 3.3515v11.338h-3.4585v-10.732c0-1.1172-0.2971-2.0085-0.8914-2.674-0.5942-0.66554-1.5331-0.99831-2.8166-0.99831-1.1885 0-2.1987 0.38031-3.0306 1.1409-0.8082 0.73685-1.2123 1.7233-1.2123 2.9593v10.304h-3.4941v-10.732c0-1.1172-0.2971-2.0085-0.8913-2.674-0.59427-0.66554-1.5332-0.99831-2.8167-0.99831-1.1885 0-2.1868 0.38031-2.9949 1.1409-0.80816 0.73685-1.2122 1.7233-1.2122 2.9593v10.304h-3.4941z\" />\n        <path d=\"m40.423 13.466c-0.6418-0.0475-1.3311-0.0713-2.0679-0.0713-0.7369 0-1.4856 0.0238-2.2463 0.0713-1.0696 0.0476-1.8896 0.2853-2.4601 0.7131-0.5705 0.4041-0.8557 0.9865-0.8557 1.7471s0.2615 1.3786 0.7844 1.854c0.5467 0.4516 1.2835 0.6774 2.2106 0.6774 1.331 0 2.4363-0.3209 3.3158-0.9626 0.8795-0.6418 1.3192-1.4856 1.3192-2.5315v-1.4975zm0.0713 7.4161v-2.888l0.5348 0.0713c-0.4754 0.9508-1.2003 1.7233-2.1749 2.3176-0.9508 0.5704-2.1274 0.8557-3.5298 0.8557-1.2122 0-2.2699-0.1902-3.1732-0.5705-0.8794-0.4041-1.5688-0.9864-2.0679-1.7471-0.4992-0.7844-0.7487-1.6995-0.7487-2.7453 0-1.7827 0.5823-3.0782 1.747-3.8863 1.1885-0.8082 2.7691-1.2598 4.742-1.3549 0.8319-0.0475 1.6401-0.0594 2.4245-0.0356 0.8082 0.0237 1.5331 0.0475 2.1749 0.0713v-1.3549c0-1.1409-0.2971-1.9729-0.8914-2.4958-0.5942-0.54669-1.4024-0.82004-2.4244-0.82004-1.141 0-2.0323 0.28523-2.6741 0.8557-0.618 0.54669-1.0459 1.236-1.2836 2.0679l-3.2088-0.64178c0.3565-1.5926 1.1409-2.8523 2.3531-3.7793 1.2361-0.927 2.8405-1.3905 4.8134-1.3905 1.331 0 2.4957 0.21393 3.4941 0.64178 0.9983 0.42785 1.7708 1.0934 2.3175 1.9966 0.5704 0.87947 0.8557 2.0323 0.8557 3.4584v11.374h-3.2802z\" />\n        <path d=\"m49.481 10.578h10.34l-0.5348 0.9983v-0.3566-0.3565c0-1.3073-0.3803-2.4007-1.1409-3.2802-0.7368-0.87947-1.8065-1.3192-3.2089-1.3192-1.4261 0-2.579 0.45162-3.4584 1.3549-0.8557 0.87947-1.3311 2.1987-1.4262 3.9576l-0.5704-0.9983zm13.014 2.5314h-13.014l0.5704-0.7131v0.0713 0.107c0 1.9015 0.416 3.3396 1.2479 4.3141 0.8557 0.9746 1.9966 1.4619 3.4228 1.4619 1.236 0 2.1987-0.2853 2.888-0.8557 0.6893-0.5943 1.1766-1.2717 1.4618-2.0323l3.0306 0.6061c-0.2377 0.9508-0.6774 1.8184-1.3192 2.6028-0.618 0.7843-1.438 1.4142-2.4601 1.8896-1.0221 0.4516-2.2344 0.6775-3.6367 0.6775-1.5451 0-2.9237-0.3328-4.1359-0.9984-1.1885-0.6655-2.1274-1.6519-2.8167-2.9593-0.6655-1.331-0.9983-2.983-0.9983-4.9559 0-1.9728 0.3565-3.6129 1.0696-4.9202 0.7369-1.3311 1.7233-2.3294 2.9593-2.995 1.2598-0.66555 2.6503-0.99832 4.1715-0.99832 1.5213 0 2.8524 0.32089 3.9933 0.96266 1.1409 0.64178 2.0204 1.5688 2.6384 2.781 0.6418 1.2122 0.9627 2.6741 0.9627 4.3854v0.8914c0 0.2614-0.0119 0.4873-0.0357 0.6774z\" />\n        <path d=\"m64.462 15.997 3.2089-0.4992c0.2615 0.9746 0.7368 1.7114 1.4262 2.2106 0.713 0.4754 1.6638 0.7131 2.8523 0.7131 1.236 0 2.1511-0.1902 2.7454-0.5705 0.5942-0.4041 0.8913-0.9389 0.8913-1.6044 0-0.6893-0.2377-1.2004-0.7131-1.5332-0.4516-0.3565-1.2598-0.6298-2.4244-0.82l-2.2819-0.4279c-1.6163-0.2852-2.8761-0.7962-3.7794-1.5331-0.9032-0.7368-1.3548-1.854-1.3548-3.3515 0-1.0696 0.2852-1.9847 0.8557-2.7454 0.5705-0.78439 1.3667-1.3786 2.3888-1.7827 1.0459-0.42785 2.2343-0.64178 3.5654-0.64178 2.068 0 3.6843 0.47539 4.849 1.4262 1.1885 0.95078 1.9134 2.1155 2.1749 3.4941l-3.1376 0.67743c-0.2139-0.78439-0.618-1.438-1.2122-1.961-0.5942-0.54669-1.5094-0.82004-2.7454-0.82004-1.0934 0-1.9491 0.20204-2.5671 0.60612-0.5942 0.40408-0.8913 0.93889-0.8913 1.6044 0 0.71308 0.2614 1.2122 0.7844 1.4975 0.5229 0.28521 1.2597 0.51101 2.2105 0.67741l2.2106 0.3922c1.8302 0.3328 3.1732 0.9033 4.0289 1.7114 0.8795 0.8082 1.3192 1.9253 1.3192 3.3515 0 1.0221-0.2615 1.9253-0.7844 2.7097s-1.3073 1.3905-2.3532 1.8184c-1.0458 0.4278-2.3413 0.6418-3.8863 0.6418-1.3548 0-2.5552-0.1902-3.601-0.5705-1.0221-0.3803-1.8541-0.9508-2.4958-1.7114-0.6418-0.7844-1.0696-1.7708-1.2836-2.9593z\" />\n        <path d=\"m95.168 20.882v-17.114h3.3158v3.2089h-0.4278c0.3565-0.87947 0.8319-1.545 1.4262-1.9966 0.5938-0.45162 1.2358-0.76063 1.9248-0.92701 0.69-0.19016 1.343-0.28524 1.961-0.28524h1.462v3.2445h-1.39c-0.761 0-1.51 0.10696-2.246 0.32089-0.714 0.19015-1.3196 0.49916-1.8188 0.92701-0.4754 0.42785-0.7131 0.98643-0.7131 1.6757v10.946h-3.4941z\" />\n        <path d=\"m116.65 13.466c-0.642-0.0475-1.332-0.0713-2.068-0.0713-0.737 0-1.486 0.0238-2.247 0.0713-1.069 0.0476-1.889 0.2853-2.46 0.7131-0.57 0.4041-0.855 0.9865-0.855 1.7471s0.261 1.3786 0.784 1.854c0.547 0.4516 1.283 0.6774 2.21 0.6774 1.332 0 2.437-0.3209 3.316-0.9626 0.88-0.6418 1.32-1.4856 1.32-2.5315v-1.4975zm0.071 7.4161v-2.888l0.535 0.0713c-0.476 0.9508-1.201 1.7233-2.175 2.3176-0.951 0.5704-2.128 0.8557-3.53 0.8557-1.212 0-2.27-0.1902-3.173-0.5705-0.88-0.4041-1.569-0.9864-2.068-1.7471-0.499-0.7844-0.749-1.6995-0.749-2.7453 0-1.7827 0.582-3.0782 1.747-3.8863 1.189-0.8082 2.769-1.2598 4.742-1.3549 0.832-0.0475 1.64-0.0594 2.425-0.0356 0.808 0.0237 1.533 0.0475 2.175 0.0713v-1.3549c0-1.1409-0.298-1.9729-0.892-2.4958-0.594-0.54669-1.402-0.82004-2.424-0.82004-1.141 0-2.033 0.28523-2.674 0.8557-0.618 0.54669-1.046 1.236-1.284 2.0679l-3.209-0.64178c0.357-1.5926 1.141-2.8523 2.353-3.7793 1.236-0.927 2.841-1.3905 4.814-1.3905 1.331 0 2.495 0.21393 3.494 0.64178 0.998 0.42785 1.771 1.0934 2.317 1.9966 0.571 0.87947 0.856 2.0323 0.856 3.4584v11.374h-3.28z\" />\n      </g>\n    </svg>\n  )\n}\n","import type {Component} from 'solid-js'\n\nimport type {LogoProps} from './types'\n\nexport const MindboxLogo: Component<LogoProps> = props => {\n  return (\n    <svg class={props.class} width=\"55\" height=\"12\" fill=\"none\" viewBox=\"0 0 55 12\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"m29.24 10.961c0.4327-0.2733 0.7177-0.644 0.8557-1.1129h0.5971v1.3802h1.6037v-1.5328h-1.0358v-9.0664h-1.4462v4.4766c-0.155-0.2634-0.379-0.48395-0.672-0.66121-0.4102-0.26375-0.88-0.39562-1.4083-0.39562-0.4557 0-0.9442 0.08282-1.3576 0.24909-0.4031 0.15608-0.7522 0.39052-1.0475 0.70269-0.2946 0.31216-0.5257 0.69822-0.6932 1.1569-0.1573 0.44913-0.2362 0.96643-0.2362 1.5525 0 0.78104 0.138 1.4449 0.4133 1.9915 0.2754 0.54663 0.6541 0.96193 1.1362 1.2448 0.4923 0.2835 1.018 0.4249 1.6675 0.4249 0.6496 0 1.1907-0.137 1.6233-0.4103zm0.5752-3.6465v0.71734h0.0012c0 0.6154-0.1675 1.118-0.5019 1.5086s-0.8216 0.58611-1.4609 0.58611-1.1316-0.22935-1.4757-0.68804c-0.3447-0.45933-0.5167-1.0403-0.5167-1.743 0-0.49819 0.0835-0.92248 0.251-1.2741 0.1669-0.36121 0.4031-0.63897 0.708-0.83455 0.3145-0.19558 0.6739-0.29305 1.077-0.29305 0.3736 0 0.7035 0.07835 0.9885 0.23444 0.285 0.14588 0.511 0.37077 0.6785 0.67337 0.1675 0.30261 0.251 0.67338 0.251 1.113zm-26.997-2.5508c-0.24648 0.23444-0.423 0.5173-0.53147 0.84921h-0.715v-1.4174h-1.5719v1.5326h1.136v5.4942h1.4449v-4.2327c0-0.50774 0.16752-0.91292 0.50194-1.2155 0.34405-0.30261 0.75741-0.45423 1.2395-0.45423 0.53147 0 0.91981 0.13697 1.1656 0.41027 0.24583 0.2733 0.36907 0.63452 0.36907 1.0836v4.4085h1.4609v-4.2327c0-0.50774 0.16753-0.91292 0.50195-1.2155 0.34404-0.3128 0.75741-0.46888 1.2395-0.46888 0.53147 0 0.91467 0.13697 1.1509 0.41027 0.2458 0.2733 0.369 0.63961 0.369 1.0983v4.4072h1.461v-4.6569c0-0.5466-0.1085-1.0059-0.3248-1.3767-0.2067-0.38033-0.5013-0.66382-0.8852-0.84921-0.3838-0.19558-0.83634-0.29305-1.3575-0.29305-0.39347 0-0.77218 0.06817-1.1361 0.20513-0.36395 0.12742-0.6836 0.32236-0.95896 0.58611-0.13917 0.13811-0.25667 0.29353-0.35262 0.46633-0.06522-0.13308-0.14448-0.2592-0.23791-0.37842-0.20668-0.2733-0.48205-0.48799-0.82609-0.64407-0.34405-0.15608-0.75228-0.23444-1.2247-0.23444-0.37357 0-0.72788 0.0637-1.0623 0.19048-0.32415 0.11722-0.60978 0.29305-0.85562 0.52749zm10.865-0.56822v7.0294h1.4461v-7.0294h-1.4461zm3.2286 7.0327v-7.0294h1.4166v1.0717c0.0966-0.18604 0.2194-0.35274 0.3685-0.50027 0.2465-0.23444 0.5353-0.41027 0.8671-0.52749 0.3409-0.12677 0.692-0.19048 1.0514-0.19048 0.5116 0 0.9937 0.09747 1.3871 0.29305 0.4031 0.18539 0.7132 0.46379 0.9295 0.83456s0.3248 0.8301 0.3248 1.3767v4.6716h-1.461v-4.4085c0-0.45869-0.1277-0.81991-0.3838-1.0836-0.2555-0.2733-0.6592-0.41027-1.2099-0.41027-0.502 0-0.9346 0.15162-1.2985 0.45422-0.364 0.29306-0.5463 0.69823-0.5463 1.2155v4.2327h-1.4455zm16.382-0.0034v-10.596h1.4461v4.5371c0.0967-0.16273 0.2191-0.31044 0.3672-0.44328 0.2388-0.21469 0.5257-0.38096 0.8601-0.49818 0.3441-0.11722 0.7125-0.17583 1.1047-0.17583 0.5546 0 1.0918 0.13697 1.5636 0.41027 0.4718 0.26374 0.846 0.66382 1.1213 1.2009 0.2754 0.52749 0.4134 1.1811 0.4134 1.9622 0 0.5861-0.0789 1.113-0.2362 1.5818-0.1476 0.45869-0.3684 0.85428-0.6637 1.1862-0.2856 0.3224-0.6246 0.5664-1.018 0.732-0.3935 0.1663-0.8364 0.2491-1.3281 0.2491-0.5706 0-1.077-0.1223-1.5199-0.3663-0.2795-0.1638-0.5056-0.3666-0.6785-0.608v0.8278h-1.432zm1.4461-2.9439c0 0.38097 0.0938 0.71288 0.2805 0.99573 0.1868 0.27331 0.4282 0.48354 0.7228 0.62943 0.3049 0.14653 0.6393 0.21983 1.0032 0.21983 0.4031 0 0.7523-0.1026 1.0476-0.30775 0.2952-0.20514 0.5212-0.49309 0.6784-0.86386 0.1573-0.38097 0.2363-0.81545 0.2363-1.3034 0-0.73199-0.1772-1.3085-0.5315-1.7284-0.3441-0.41983-0.821-0.62942-1.4314-0.62942-0.3543 0-0.6836 0.07836-0.9885 0.23444-0.3049 0.14652-0.5507 0.36122-0.7375 0.64407-0.1868 0.28286-0.2805 0.63962-0.2805 1.069v1.0397l6e-4 6.4e-4zm-21.06-6.8354h1.4724v1.5326h-1.4724v-1.5326zm30.799 9.8958c-0.6772 0-1.2754-0.1414-1.7953-0.4237-0.5103-0.2822-0.9121-0.6963-1.2068-1.2416-0.2946-0.54532-0.4416-1.2123-0.4416-2.001 0-0.58419 0.0783-1.1053 0.2356-1.5627 0.1669-0.45742 0.4018-0.83775 0.7061-1.1391 0.3042-0.30197 0.6669-0.53068 1.0892-0.68676 0.4217-0.16563 0.8929-0.24845 1.4128-0.24845 0.6868 0 1.285 0.14143 1.7953 0.42365 0.5103 0.27266 0.9025 0.68166 1.1772 1.227 0.2844 0.53577 0.4269 1.1977 0.4269 1.9864 0 0.58419-0.0784 1.1053-0.2356 1.5627-0.1566 0.44786-0.3877 0.82751-0.692 1.1391-0.2946 0.3115-0.6521 0.5504-1.0745 0.7154-0.412 0.1656-0.878 0.2484-1.398 0.2484l7e-4 7e-4zm0-1.2417c0.3235 0 0.6085-0.0535 0.8537-0.1605 0.2452-0.11658 0.4467-0.27776 0.6033-0.48226 0.1669-0.20449 0.2895-0.45741 0.3678-0.75938 0.0886-0.30197 0.1329-0.6428 0.1329-1.0225 0-0.76894-0.1669-1.3582-0.5007-1.7672-0.3235-0.41855-0.8094-0.62815-1.457-0.62815-0.4121 0-0.7703 0.09237-1.0745 0.27776-0.3043 0.18475-0.5347 0.45741-0.692 0.81799-0.1566 0.35039-0.2355 0.7836-0.2355 1.2996 0 0.75938 0.1765 1.3538 0.5295 1.7819 0.3633 0.42875 0.8537 0.64276 1.4718 0.64276h7e-4zm7.028-1.5274 1.8008 2.6271h1.6919l-2.6052-3.6496 2.4582-3.3614h-1.6483l-1.6339 2.4145-1.6621-2.4145h-1.692l2.4631 3.4493-2.6107 3.5616h1.6483l1.7899-2.6271z\"\n        clip-rule=\"evenodd\"\n        fill={props.color}\n        fill-rule=\"evenodd\"\n      />\n    </svg>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {Size} from './types'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n  const FONT_SIZE = {\n    s: '9px',\n    m: '13px',\n  }\n\n  return {\n    PoweredByClass: ({size}: {size: Size}) =>\n      css({\n        textAlign: 'center',\n        height: FONT_SIZE[size],\n      }),\n    LabelClass: ({color, size}: {color: string; size: Size}) =>\n      css({\n        color,\n        fontWeight: theme.typography.caption.s.fontWeight,\n        display: 'inline',\n        verticalAlign: 'top',\n        fontSize: FONT_SIZE[size],\n        lineHeight: FONT_SIZE[size],\n      }),\n    MindboxLogoClass: ({size}: {size: Size}) =>\n      css({\n        width: 'auto',\n        verticalAlign: 'top',\n\n        ...(size === 's' && {\n          height: '9px',\n          marginTop: '-0.5px',\n        }),\n        ...(size === 'm' && {\n          height: '12px',\n        }),\n      }),\n    MaestraLogoClass: ({size}: {size: Size}) =>\n      css({\n        width: 'auto',\n        verticalAlign: 'top',\n\n        ...(size === 's' && {\n          height: '7px',\n          marginTop: '1px',\n        }),\n        ...(size === 'm' && {\n          height: '9px',\n          marginTop: '2.5px',\n        }),\n      }),\n  }\n}\n","import {MaestraLogo} from '~/components/logo/maestra'\nimport {MindboxLogo} from '~/components/logo/mindbox'\nimport {SUBDIVISION} from '~/constants/common'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {Subdivision} from '~/types/common'\nimport {Match, Switch} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport type {Size} from './types'\n\nimport {getClasses} from './poweredBy.styles'\ninterface PoweredByProps {\n  class?: string\n  color: string\n  size: Size\n}\nexport const PoweredBy: Component<PoweredByProps> = props => {\n  const {PoweredByClass, MaestraLogoClass, MindboxLogoClass, LabelClass} = getClasses()\n  const t = useTranslations()\n\n  return (\n    <div classList={{[PoweredByClass({size: props.size})]: true, ...(props.class && {[props.class]: true})}}>\n      <div class={LabelClass({color: props.color, size: props.size})}>{t.poweredBy()} </div>\n      <Switch>\n        <Match when={SUBDIVISION === Subdivision.Maestra}>\n          <MaestraLogo color={props.color} class={MaestraLogoClass({size: props.size})} />\n        </Match>\n        <Match when={SUBDIVISION === Subdivision.Mindbox}>\n          <MindboxLogo color={props.color} class={MindboxLogoClass({size: props.size})} />\n        </Match>\n      </Switch>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ProgressBarClass: css({\n      width: '200px',\n    }),\n    TitleClass: css({textAlign: 'center'}),\n    Bar: {\n      ContainerClass: css({\n        height: theme.spacing.s8,\n        background: theme.colors.overlay.o10,\n        borderRadius: theme.spacing.s8,\n        overflow: 'hidden',\n\n        ['&:not(:first-child)']: {\n          marginTop: theme.spacing.s8,\n        },\n      }),\n      FillClass: css({\n        height: '100%',\n        background: theme.colors.fill.primaryInvert,\n        borderRadius: theme.spacing.s8,\n        transition: 'width 200ms',\n      }),\n    },\n  }\n}\n","import {useTranslations} from '~/helpers/useTranslations'\n\nimport type {Component, JSX} from 'solid-js'\n\nimport {Caption} from '../typography/caption'\nimport {getClasses} from './progressBar.styles'\n\nconst PERCENT_REG = /{{percent}}/g\nconst calcText = (text: string, percentStr: string) => {\n  return text.replace(PERCENT_REG, percentStr)\n}\n\ninterface ProgressBarProps {\n  percent: number\n  caption?: JSX.Element\n  // text has \"Matching is {{percent}} ready\" format\n  text?: string\n  class?: string\n}\nexport const ProgressBar: Component<ProgressBarProps> = props => {\n  const {ProgressBarClass, Bar, TitleClass} = getClasses()\n  const percentStr = () => `${props.percent}%`\n  const t = useTranslations()\n\n  return (\n    <div classList={{[ProgressBarClass]: true, ...(props.class && {[props.class]: true})}}>\n      {typeof props.caption !== 'undefined' ? (\n        props.caption\n      ) : (\n        <Caption class={TitleClass} size=\"m\" colorMode=\"secondary\">\n          {props.text ? calcText(props.text, percentStr()) : t.suggestionsReadyForPercent({percent: percentStr()})}\n        </Caption>\n      )}\n      <div class={Bar.ContainerClass}>\n        <div class={Bar.FillClass} style={{width: percentStr()}} />\n      </div>\n    </div>\n  )\n}\n","import {metaStore} from '~/stores/meta'\n\nexport const isPoweredByEnabled = () => {\n  return !metaStore.store.widget?.disablePoweredBy\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ProgressBarClass: css({\n      margin: `${theme.spacing.s32} auto 0 auto`,\n    }),\n  }\n}\n","import {PoweredBy} from '~/components/poweredBy'\nimport {ProgressBar} from '~/components/progressBar'\nimport {isPoweredByEnabled} from '~/helpers/isPoweredByEnabled'\nimport {useTheme} from '~/helpers/theme'\nimport {type ParentComponent} from 'solid-js'\n\nimport {getClasses} from './container.styles'\n\ninterface ContainerProps {\n  percent: number\n}\nexport const Container: ParentComponent<ContainerProps> = props => {\n  const {ProgressBarClass} = getClasses()\n  const theme = useTheme()\n\n  return (\n    <>\n      {props.children}\n      <ProgressBar\n        class={ProgressBarClass}\n        percent={props.percent}\n        caption={isPoweredByEnabled() ? <PoweredBy color={theme.colors.text.secondary} size=\"m\" /> : ''}\n      />\n    </>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    DescriptionClass: css({textAlign: 'center', marginTop: theme.spacing.s8}),\n  }\n}\n","import {Paragraph} from '~/components/typography/paragraph'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './description.styles'\n\ninterface DescriptionProps {\n  innerHTML?: string\n}\nexport const Description: ParentComponent<DescriptionProps> = props => {\n  const {DescriptionClass} = getClasses()\n\n  return (\n    <Paragraph class={DescriptionClass} size=\"l\" colorMode=\"secondary\" innerHTML={props.innerHTML}>\n      {props.children}\n    </Paragraph>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    NavsClass: css({\n      marginTop: 'auto',\n      display: 'grid',\n      width: '100%',\n      gridTemplateColumns: 'repeat(auto-fit, minmax(0, 1fr))',\n      gap: theme.spacing.s6,\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './navs.styles'\n\nexport const Navs: ParentComponent = props => {\n  const {NavsClass} = getClasses()\n\n  return <div class={NavsClass}>{props.children}</div>\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    TitleClass: css({textAlign: 'center'}),\n  }\n}\n","import {Heading} from '~/components/typography/heading'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './title.styles'\n\ninterface TitleProps {\n  innerHTML?: string\n}\nexport const Title: ParentComponent<TitleProps> = props => {\n  const {TitleClass} = getClasses()\n\n  return (\n    <Heading class={TitleClass} colorMode=\"primary\" size=\"m\" innerHTML={props.innerHTML}>\n      {props.children}\n    </Heading>\n  )\n}\n","import {Body} from './components/body'\nimport {Container} from './components/container'\nimport {Description} from './components/description'\nimport {Navs} from './components/navs'\nimport {Title} from './components/title/title'\n\nexport const NavigableForm = {\n  Container,\n  Title,\n  Description,\n  Navs,\n  Body,\n}\n","import {actionShow} from '~/helpers/actions'\nimport {startQuiz} from '~/helpers/startQuiz'\nimport {initialStore} from '~/stores/initial'\nimport {Action} from '~/types/action'\n\nexport const initScreen = () => {\n  const {action} = initialStore.store\n\n  if (action === Action.QUIZ) {\n    startQuiz()\n    actionShow()\n    return\n  }\n}\n","import {useAppContext} from '~/contexts/app'\nimport {actionClose} from '~/helpers/actions'\nimport {previewStore} from '~/stores/preview'\nimport {screenStore} from '~/stores/screen'\n\nexport const useClose = () => {\n  const {destroy} = useAppContext()\n\n  return () => {\n    previewStore.actions.reset()\n\n    actionClose()\n    screenStore.actions.reset()\n\n    destroy()\n  }\n}\n","export const getPhoneNumbers = (phone: string) => phone.replace(/\\D/g, '')\n","import {getPhoneNumbers} from '~/helpers/phones'\nimport {createSignal} from 'solid-js'\n\nimport type {PaywallPhoneCountry} from '~/types/paywall'\n\nexport const useField = <Value>(defaultValue: Value, validator?: (value: Value) => boolean) => {\n  const [state, setState] = createSignal({value: defaultValue, isTouched: false})\n  const setValue = (value: Value) => setState(prevState => ({...prevState, value, isTouched: true}))\n  const setTouched = () => setState(prevState => ({...prevState, isTouched: true}))\n  const resetError = () => {\n    setState(prevState => ({...prevState, isInvalid: false}))\n  }\n\n  return {\n    state: () => {\n      const stateVal = state()\n\n      return {...stateVal, isInvalid: () => (validator ? !validator(stateVal.value) : false)}\n    },\n    actions: {setValue, setTouched, resetError},\n  } as const\n}\n\nexport type UseField<Value> = ReturnType<typeof useField<Value>>\n\nconst getNumbersMask = (mask: string) => {\n  let result = '^'\n\n  for (const char of mask) {\n    if (char === '#') {\n      result += '\\\\d'\n    } else if (/\\d/.test(char)) {\n      result += char\n    }\n  }\n\n  result += '$'\n\n  return result\n}\n\ninterface IsCountryPhoneValidParams {\n  phone: string\n  countryCode: string\n  countries: PaywallPhoneCountry[]\n}\nexport const isCountryPhoneValid = ({phone, countryCode, countries}: IsCountryPhoneValidParams) => {\n  return countries.some(\n    ({masks, code}) =>\n      code === countryCode && masks.some(mask => new RegExp(getNumbersMask(mask)).test(getPhoneNumbers(phone))),\n  )\n}\n","import {createContext, createSignal, useContext} from 'solid-js'\n\nimport type {PaywallStore} from '~/stores/paywall'\nimport type {Accessor, Component, JSX, Signal} from 'solid-js'\n\nimport type {UseField} from '../helpers'\nimport type {Values} from '../types'\n\nimport {isCountryPhoneValid, useField} from '../helpers'\n\nconst FormContext = createContext<{\n  fields: {name?: UseField<string>; email?: UseField<string>; phone?: UseField<string>}\n  checkboxesFields: UseField<boolean>[]\n  phoneCountryCode: Signal<string>\n  paywall(): PaywallStore\n}>({fields: {}, paywall: () => ({phoneCountries: []}), checkboxesFields: [], phoneCountryCode: [() => '', () => {}]})\n\ninterface FormProps {\n  paywallExp: string\n  paywall: PaywallStore\n  children?: JSX.Element | (({canSubmitted}: {canSubmitted: Accessor<boolean>}) => JSX.Element)\n  onSubmit(values: Values): void\n}\nexport const Form: Component<FormProps> = props => {\n  const {\n    fields: {name, email, phone},\n    checkboxes,\n    phoneCountries,\n  } = props.paywall\n  const phoneCountryCodeSignal = createSignal<string>((phoneCountries && phoneCountries[0]?.code) || '')\n  const [phoneCountryCode] = phoneCountryCodeSignal\n  const fields = {\n    ...(name && !name.present && {name: useField('')}),\n    ...(email && !email.present && {email: useField('', value => Boolean(value))}),\n    ...(phone &&\n      !phone.present && {\n        phone: useField(\n          '',\n          value =>\n            Boolean(value) &&\n            isCountryPhoneValid({phone: value, countryCode: phoneCountryCode(), countries: phoneCountries}),\n        ),\n      }),\n  } as const\n  const checkboxesFields = checkboxes ? checkboxes.map(() => useField(false, value => value)) : []\n  const getValues = () =>\n    Object.keys(fields).reduce((values, fieldName) => {\n      return {...values, [fieldName]: fields[fieldName].state().value}\n    }, {})\n  const hasError = () => Object.values(fields).some(field => field.state().isInvalid())\n  const hasUncheckedCheckbox = () => checkboxesFields.some(field => field.state().isInvalid())\n  const hasCheckboxesTouched = () => checkboxesFields.some(field => field.state().isTouched)\n  const hasTouched = () => Object.values(fields).some(field => field.state().isTouched)\n  const canSubmitted = () => !((hasError() && hasTouched()) || (hasCheckboxesTouched() && hasUncheckedCheckbox()))\n  const handleSubmit = (event: SubmitEvent) => {\n    event.preventDefault()\n\n    Object.values(fields).forEach(field => field.actions.setTouched())\n    checkboxesFields.forEach(field => field.actions.setTouched())\n\n    if (hasError() || hasUncheckedCheckbox()) {\n      return\n    }\n\n    props.onSubmit(getValues())\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <FormContext.Provider\n        value={{fields, phoneCountryCode: phoneCountryCodeSignal, checkboxesFields, paywall: () => props.paywall}}>\n        {typeof props.children === 'function' ? props.children({canSubmitted}) : props.children}\n      </FormContext.Provider>\n    </form>\n  )\n}\n\nexport const useFormContext = () => useContext(FormContext)\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    CheckboxesFieldsClass: css({\n      display: 'grid',\n      gap: theme.spacing.s8,\n    }),\n  }\n}\n","import {Checkbox} from '~/components/checkbox'\nimport {parseMarkdownText} from '~/helpers/sanitizeText'\nimport {Show} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport {useFormContext} from '../form'\nimport {getClasses} from './checkboxesFields.styles'\n\ninterface CheckboxesFieldsProps {\n  class?: string\n}\nexport const CheckboxesFields: Component<CheckboxesFieldsProps> = props => {\n  const {CheckboxesFieldsClass} = getClasses()\n  const {checkboxesFields, paywall} = useFormContext()\n\n  return (\n    <Show when={checkboxesFields.length && paywall().checkboxes?.length ? paywall().checkboxes : undefined}>\n      {checkboxes => (\n        <div classList={{[CheckboxesFieldsClass]: true, ...(props.class && {[props.class]: true})}}>\n          {checkboxes().map((checkbox, index) => {\n            const field = checkboxesFields[index]\n\n            if (!field) {\n              return null\n            }\n\n            return (\n              <Checkbox\n                innerHTML={parseMarkdownText(checkbox.text)}\n                onChange={() => field.actions.setValue(!field.state().value)}\n                isInvalid={field.state().isTouched && field.state().isInvalid()}\n                onFocus={field.actions.resetError}\n                onBlur={field.actions.setTouched}\n                checked={field.state().value}\n              />\n            )\n          })}\n        </div>\n      )}\n    </Show>\n  )\n}\n","// src/index.ts\nvar stringMaskRegExp = {\n  9: /\\d/,\n  0: /\\d?/,\n  a: /[a-z]/i,\n  o: /[a-z]?/i,\n  \"*\": /\\w/,\n  \"?\": /\\w?/\n};\nvar stringMaskToArray = (mask, regexps = stringMaskRegExp) => [...mask].map((c) => regexps[c] || c);\nvar regexMaskToFn = (regex, replacer) => (value, selection) => [\n  value.replace(regex, (...args) => {\n    const replacement = replacer(...args);\n    const index = args[args.length - 2];\n    selection[0] += index < selection[0] ? 0 : (replacement.length - args[0].length) / args[0].length * Math.max(selection[0] - index, args[0].length);\n    selection[1] += index < selection[1] ? 0 : (replacement.length - args[0].length) / args[0].length * Math.max(selection[1] - index, args[0].length);\n    return replacement;\n  }),\n  selection\n];\nvar maskArrayToFn = (maskArray) => (value, selection) => {\n  let pos = 0;\n  maskArray.forEach((maskItem) => {\n    if (value.length >= pos + 1) {\n      if (typeof maskItem === \"string\") {\n        const index = value.slice(pos).indexOf(maskItem);\n        if (index !== 0) {\n          value = value.slice(0, pos) + maskItem + value.slice(pos);\n          selection[0] += (selection[0] > pos) * maskItem.length;\n          selection[1] += (selection[1] > pos) * maskItem.length;\n        }\n        pos += maskItem.length;\n        return;\n      }\n      const match = value.slice(pos).match(maskItem);\n      if (!match || match.index === void 0) {\n        value = value.slice(0, pos);\n        return;\n      } else if (match.index > 0) {\n        value = value.slice(0, pos) + value.slice(pos + match.index);\n        pos -= match.index - 1;\n        selection[0] -= (selection[0] > pos) * match.index;\n        selection[1] -= (selection[1] > pos) * match.index;\n      }\n      pos += match[0].length;\n    }\n  });\n  return [value.slice(0, pos), selection];\n};\nvar anyMaskToFn = (mask, regexps) => typeof mask === \"function\" ? mask : typeof mask[1] === \"function\" && mask[0] instanceof RegExp ? regexMaskToFn(mask[0], mask[1]) : maskArrayToFn(\n  Array.isArray(mask) ? mask : stringMaskToArray(mask, regexps)\n);\nvar createInputMask = (mask, regexps) => {\n  const maskFn = anyMaskToFn(mask, regexps);\n  const handler = (ev) => {\n    const ref = ev.currentTarget || ev.target;\n    const [value, selection] = maskFn(ref.value, [\n      ref.selectionStart || ref.value.length,\n      ref.selectionEnd || ref.value.length\n    ]);\n    ref.value = value;\n    ref.setSelectionRange(...selection);\n    return value;\n  };\n  return handler;\n};\nvar createMaskPattern = (inputMask, pattern) => {\n  const handler = (ev) => {\n    const value = inputMask(ev);\n    const ref = ev.currentTarget || ev.target;\n    const prev = ref.previousElementSibling;\n    const fn = value === \"\" ? \"removeAttribute\" : \"setAttribute\";\n    prev[fn](\"data-mask-value\", value);\n    prev[fn](\"data-mask-pattern\", pattern(value).slice(value.length));\n    return value;\n  };\n  return handler;\n};\n\nexport { anyMaskToFn, createInputMask, createMaskPattern, maskArrayToFn, regexMaskToFn, stringMaskRegExp, stringMaskToArray };\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ItemClass: css({\n      padding: `${theme.spacing.s10} ${theme.spacing.s16}`,\n      border: 'none',\n      background: theme.colors.fill.primary,\n      display: 'block',\n      width: '100%',\n      borderRadius: theme.borderRadius.s12,\n      transition: `background-color ${theme.animation.transition}`,\n      cursor: 'pointer',\n\n      '&:hover': {\n        background: theme.colors.fill.medium,\n      },\n    }),\n    SelectedClass: css({\n      background: theme.colors.fill.medium,\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './item.styles'\n\ninterface ItemProps {\n  class?: string\n  isSelected: boolean\n  onClick(): void\n}\nexport const Item: ParentComponent<ItemProps> = props => {\n  const {ItemClass, SelectedClass} = getClasses()\n\n  return (\n    <button\n      type=\"button\"\n      classList={{[ItemClass]: true, [SelectedClass]: props.isSelected, ...(props.class && {[props.class]: true})}}\n      onClick={props.onClick}>\n      {props.children}\n    </button>\n  )\n}\n","import {onCleanup} from 'solid-js'\n\nimport type {Accessor} from 'solid-js'\n\nexport const clickOutside = (element: HTMLDivElement, onClick: Accessor<() => void>) => {\n  const handleClickOutside = (event: MouseEvent) => {\n    if (!element || !element.contains(event.composedPath()[0] as Node)) {\n      onClick()()\n    }\n  }\n\n  document.addEventListener('click', handleClickOutside)\n\n  onCleanup(() => {\n    document.removeEventListener('click', handleClickOutside)\n  })\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    MenuClass: css({\n      position: 'absolute',\n      marginTop: theme.spacing.s4,\n      background: theme.colors.fill.primary,\n      boxShadow: theme.shadows.boxShadow,\n      borderRadius: theme.borderRadius.s16,\n      padding: theme.spacing.s8,\n      boxSizing: 'border-box',\n      overflow: 'auto',\n    }),\n    ItemsClass: css({\n      '& > *:not(:last-child)': {\n        marginBottom: theme.spacing.s4,\n      },\n    }),\n  }\n}\n","import {clickOutside} from '~/directives/clickOutside'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './menu.styles'\n\ninterface MenuProps {\n  class?: string\n  onClickOutside(): void\n}\nexport const Menu: ParentComponent<MenuProps> = props => {\n  const {MenuClass, ItemsClass} = getClasses()\n\n  return (\n    <div\n      classList={{[MenuClass]: true, ...(props.class && {[props.class]: true})}}\n      ref={ref => [clickOutside(ref, () => props.onClickOutside)]}>\n      <div class={ItemsClass}>{props.children}</div>\n    </div>\n  )\n}\n","import {Item} from './components/option/item'\nimport {Menu} from './components/option/menu'\n\nexport const Dropdown = {\n  Menu,\n  Item,\n}\n","export const getCountryFlagEmoji = (code: string) => {\n  let flagEmoji: string | null = null\n\n  try {\n    flagEmoji = String.fromCodePoint(...[...code.toUpperCase()].map(x => 0x1f1a5 + x.charCodeAt()))\n  } catch (_error) {\n    // ignore error\n  }\n\n  return flagEmoji || code\n}\n","import {getPhoneNumbers} from '~/helpers/phones'\n\nexport const getFittedMask = (value: string, masks: string[]) => {\n  const valueNumbers = getPhoneNumbers(value)\n  const mask = masks.find(mask => {\n    const maskNumbers = getPhoneNumbers(mask)\n\n    if (!maskNumbers) {\n      return false\n    }\n\n    return valueNumbers.startsWith(maskNumbers)\n  })\n\n  return mask || masks[0]\n}\n\nexport const findMasksCommonPrefix = (masks: string[]) => {\n  if (masks.length === 0) return ''\n\n  let prefix = masks[0].split('#')[0] // get only fixed part\n\n  for (let i = 1; i < masks.length; i++) {\n    while (masks[i].indexOf(prefix) !== 0) {\n      prefix = prefix.slice(0, -1)\n    }\n  }\n\n  return prefix\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nconst HEIGHT = '72px'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const InputClass = css({\n    border: 'none',\n    height: HEIGHT,\n    padding: `0 ${theme.spacing.s20} 0 ${theme.spacing.s12}`,\n    width: '100%',\n    boxSizing: 'border-box',\n    lineHeight: theme.typography.paragraph.l.lineHeight,\n    fontSize: theme.typography.paragraph.l.fontSize,\n    color: theme.colors.text.primary,\n    background: 'none',\n    borderRadius: `0 ${theme.spacing.s20} ${theme.spacing.s20} 0`,\n    caretColor: theme.colors.accent.blue,\n    outline: 'none',\n\n    '&::placeholder': {\n      transition: `color ${theme.animation.transition}`,\n      color: theme.colors.text.secondary,\n    },\n  })\n\n  return {\n    PhoneFieldClass: css({\n      position: 'relative',\n      background: theme.colors.fill.small,\n      borderRadius: theme.spacing.s20,\n    }),\n    InnerClass: css({\n      display: 'grid',\n      gridTemplateColumns: 'auto auto 1fr',\n      alignItems: 'center',\n    }),\n    InvalidClass: css({\n      [`& .${InputClass}:not(:focus), & .${InputClass}:not(:focus)::placeholder`]: {\n        color: theme.colors.accent.error,\n      },\n    }),\n    InputClass,\n    ListToggleClass: css({\n      height: '100%',\n      border: 'none',\n      background: 'none',\n      borderRadius: `${theme.spacing.s20} 0 0 ${theme.spacing.s20}`,\n      display: 'grid',\n      gridTemplateColumns: 'auto auto',\n      gap: theme.spacing.s6,\n      alignItems: 'center',\n      padding: `0 ${theme.spacing.s12} 0 ${theme.spacing.s20}`,\n      cursor: 'pointer',\n    }),\n    DividerClass: css({\n      width: '1px',\n      height: '20px',\n      background: theme.colors.divider.primary,\n    }),\n    FlagContainerClass: css({\n      fontSize: theme.typography.heading.m.fontSize,\n      lineHeight: theme.typography.heading.m.lineHeight,\n    }),\n    CountriesListClass: css({\n      width: '100%',\n      maxHeight: '160px',\n    }),\n    CountryLabelClass: css({\n      textAlign: 'left',\n    }),\n    DropdownItemInnerClass: css({\n      display: 'grid',\n      gridTemplateColumns: 'auto 1fr',\n      alignItems: 'center',\n      gap: theme.spacing.s12,\n    }),\n  }\n}\n","import {createInputMask, maskArrayToFn, stringMaskToArray} from '@solid-primitives/input-mask'\nimport {Dropdown} from '~/components/dropdown'\nimport {Icon} from '~/components/icon'\nimport {Paragraph} from '~/components/typography/paragraph'\nimport {getCountryFlagEmoji} from '~/helpers/getCountryFlagEmoji'\nimport {useTheme} from '~/helpers/theme'\nimport {createEffect, createMemo, createSignal, splitProps, type Component, type JSX} from 'solid-js'\n\nimport type {PaywallPhoneCountry} from '~/types/paywall'\n\nimport {findMasksCommonPrefix, getFittedMask} from './helpers'\nimport {getClasses} from './phoneField.styles'\n\ninterface PhoneFieldProps extends Omit<JSX.InputHTMLAttributes<HTMLInputElement>, 'onChange'> {\n  isInvalid?: boolean\n  required?: boolean\n  value: string\n  countryCode: string\n  countries: PaywallPhoneCountry[]\n  onCountryCodeChange(countryCode: string): void\n  onChange(value: string): void\n}\nexport const PhoneField: Component<PhoneFieldProps> = props => {\n  let inputRef: HTMLInputElement | undefined\n  const [localProps, restProps] = splitProps(props, [\n    'isInvalid',\n    'required',\n    'onChange',\n    'value',\n    'countryCode',\n    'onCountryCodeChange',\n  ])\n  const [isCountriesListOpen, setIsCountriesListOpen] = createSignal(false)\n  const openCountriesList = () => {\n    setIsCountriesListOpen(true)\n  }\n  const closeCountriesList = () => setIsCountriesListOpen(false)\n  const country = createMemo(() => restProps.countries.find(({code}) => code === localProps.countryCode) as PaywallPhoneCountry)\n  const mask = () => (event: InputEvent) =>\n    createInputMask((value, selection) => {\n      const mask = getFittedMask(value, country().masks)\n\n      return maskArrayToFn(stringMaskToArray(mask, {'#': /\\d/}))(value, selection)\n    })(event)\n  const {\n    PhoneFieldClass,\n    InputClass,\n    InvalidClass,\n    ListToggleClass,\n    DividerClass,\n    FlagContainerClass,\n    CountriesListClass,\n    InnerClass,\n    CountryLabelClass,\n    DropdownItemInnerClass,\n  } = getClasses()\n  const theme = useTheme()\n\n  const handleCountryCodeChange = (countryCode: string) => {\n    if (countryCode !== localProps.countryCode) {\n      localProps.onChange('')\n    }\n\n    props.onCountryCodeChange(countryCode)\n\n    closeCountriesList()\n    inputRef?.focus()\n  }\n  const handleFocus = () => {\n    if (!props.value) {\n      props.onChange(findMasksCommonPrefix(country().masks))\n      inputRef?.focus()\n    }\n  }\n  const handleInput = (event: InputEvent) => {\n    const maskedValue = mask()(event)\n    localProps.onChange(maskedValue)\n  }\n\n  return (\n    <div\n      classList={{\n        [PhoneFieldClass]: true,\n        [InvalidClass]: Boolean(localProps.isInvalid),\n      }}>\n      <div class={InnerClass}>\n        <button class={ListToggleClass} type=\"button\" onClick={openCountriesList}>\n          <div class={FlagContainerClass} innerHTML={getCountryFlagEmoji(country().code)} />\n          <Icon icon=\"down-chevron\" size=\"m\" color={theme.colors.text.primary} />\n        </button>\n        <div class={DividerClass} />\n        <input\n          class={InputClass}\n          ref={inputRef}\n          {...restProps}\n          value={localProps.value}\n          onFocus={handleFocus}\n          placeholder={`${country().masks[0].replace(/#/g, '9')}${localProps.required && ' *'}`}\n          onInput={handleInput}\n        />\n      </div>\n      {isCountriesListOpen() && (\n        <Dropdown.Menu class={CountriesListClass} onClickOutside={closeCountriesList}>\n          {props.countries.map(country => (\n            <Dropdown.Item\n              isSelected={localProps.countryCode === country.code}\n              onClick={() => handleCountryCodeChange(country.code)}>\n              <div class={DropdownItemInnerClass}>\n                <div class={FlagContainerClass} innerHTML={getCountryFlagEmoji(country.code)} />\n                <Paragraph class={CountryLabelClass} size=\"l\" colorMode=\"primary\">\n                  {country.name}\n                </Paragraph>\n              </div>\n            </Dropdown.Item>\n          ))}\n        </Dropdown.Menu>\n      )}\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    FieldsClass: css({\n      display: 'grid',\n      gap: theme.spacing.s6,\n    }),\n  }\n}\n","import {PhoneField} from '~/components/phoneField'\nimport {TextField} from '~/components/textField'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {Show} from 'solid-js'\n\nimport type {PaywallPhoneCountry} from '~/types/paywall'\nimport type {Component} from 'solid-js'\n\nimport {useFormContext} from '../form'\nimport {getClasses} from './fields.styles'\n\ninterface FieldsProps {\n  phoneCountries: PaywallPhoneCountry[]\n}\nexport const Fields: Component<FieldsProps> = props => {\n  const {FieldsClass} = getClasses()\n  const {\n    fields,\n    phoneCountryCode: [phoneCountryCode, setPhoneCountryCode],\n  } = useFormContext()\n  const t = useTranslations()\n\n  return (\n    <div class={FieldsClass}>\n      <Show when={fields.name}>\n        {field => (\n          <TextField\n            isInvalid={field().state().isTouched && field().state().isInvalid()}\n            value={field().state().value}\n            onChange={field().actions.setValue}\n            onFocus={field().actions.resetError}\n            onBlur={field().actions.setTouched}\n            label={t.yourName()}\n          />\n        )}\n      </Show>\n      <Show when={fields.email}>\n        {field => (\n          <TextField\n            isInvalid={field().state().isTouched && field().state().isInvalid()}\n            required\n            value={field().state().value}\n            onChange={field().actions.setValue}\n            onFocus={field().actions.resetError}\n            onBlur={field().actions.setTouched}\n            label={t.yourEmail()}\n            type=\"email\"\n          />\n        )}\n      </Show>\n      <Show when={fields.phone}>\n        {field => (\n          <PhoneField\n            isInvalid={field().state().isTouched && field().state().isInvalid()}\n            required\n            countryCode={phoneCountryCode()}\n            onCountryCodeChange={setPhoneCountryCode}\n            value={field().state().value}\n            countries={props.phoneCountries}\n            onChange={field().actions.setValue}\n            onFocus={field().actions.resetError}\n            onBlur={field().actions.setTouched}\n          />\n        )}\n      </Show>\n    </div>\n  )\n}\n","import {CheckboxesFields} from './components/checkboxesFields'\nimport {Fields} from './components/fields'\nimport {Form} from './components/form'\n\nexport const LeadForm = {\n  Fields,\n  Form,\n  CheckboxesFields,\n}\n","import type {Answer} from '~/types/answers'\nimport type {Question} from '~/types/question'\nimport type {Quiz} from '~/types/quiz'\n\nimport {getSkipInfo as defaultGetSkipInfo} from '../getSkipInfo/getSkipInfo'\n\nexport const getPrevQuestion = ({\n  quiz,\n  answers,\n  getSkipInfo = defaultGetSkipInfo,\n}: {\n  quiz: Quiz\n  answers: Answer[]\n  getSkipInfo?(props: {question: Question; startQuestionName: string}): {\n    back: {shouldSkip: boolean}\n  }\n}): Question | null => {\n  const lastAnswer = answers[answers.length - 1]\n\n  if (!lastAnswer) {\n    return null\n  }\n\n  const prevQuestion = quiz.questions.find(question => question.name === lastAnswer.question)\n\n  if (!prevQuestion) {\n    return null\n  }\n\n  answers = answers.slice(0, -1)\n\n  const {\n    back: {shouldSkip},\n  } = getSkipInfo({question: prevQuestion, startQuestionName: quiz.start})\n\n  if (shouldSkip) {\n    return getPrevQuestion({quiz, answers, getSkipInfo})\n  }\n\n  return prevQuestion\n}\n","import {answersStore} from '~/stores/answers'\nimport {predefinedAnswersStore} from '~/stores/predefinedAnswers'\nimport {previewStore} from '~/stores/preview'\nimport {questionStore} from '~/stores/question'\nimport {quizStore} from '~/stores/quiz'\n\nimport {actionBack} from '../actions'\nimport {getPrevQuestion} from './getPrevQuestions'\n\nexport const goPrev = () => {\n  const prevQuestion = getPrevQuestion({quiz: quizStore.store(), answers: answersStore.store()})\n\n  if (prevQuestion) {\n    actionBack()\n    questionStore.actions.set(prevQuestion)\n    const removedAnswers = answersStore.actions.removeTillQuestion(prevQuestion.name)\n\n    removedAnswers.forEach(answer => predefinedAnswersStore.actions.remove(answer.question))\n\n    previewStore.actions.fetch()\n  }\n}\n","import {goPrev} from '~/helpers/step/goPrev'\nimport {screenStore} from '~/stores/screen'\n\nexport const goLast = () => {\n  goPrev()\n  screenStore.actions.goQuiz()\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    CheckboxesFieldsClass: css({\n      marginTop: theme.spacing.s10,\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {LeadForm} from '~/components/leadForm'\nimport {Option} from '~/components/option'\nimport {actionSavePaywall} from '~/helpers/actions'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {experimentsStore} from '~/stores/experiments'\nimport {paywallStore} from '~/stores/paywall'\nimport {quizStore} from '~/stores/quiz'\nimport {NavigableForm} from '~/widgets/survey/components/navigableForm'\nimport {createSignal} from 'solid-js'\n\nimport type {Values} from '~/components/leadForm/types'\nimport type {Component} from 'solid-js'\n\nimport {goLast} from '../../helpers/goLast'\nimport {getClasses} from './lead.styles'\n\ninterface LeadScreenProps {\n  isNeedPrerequest: boolean\n  isPrerequestOpen: boolean\n  setIsPrerequestOpen(value: boolean): void\n  onIsLeadRequiredChange(value: boolean): void\n}\nexport const LeadScreen: Component<LeadScreenProps> = props => {\n  const {CheckboxesFieldsClass} = getClasses()\n  const t = useTranslations()\n  const paywallExp = experimentsStore.actions.get('paywall')\n  const [isNeedLeadForm, setIsNeedLeadForm] = createSignal(false)\n  const toggleIsNeedLeadForm = () => setIsNeedLeadForm(prevValue => !prevValue)\n  const handleAcceptPrerequest = () => {\n    if (isNeedLeadForm()) {\n      props.setIsPrerequestOpen(false)\n    } else {\n      props.onIsLeadRequiredChange(false)\n    }\n  }\n  const handleSubmit = (values: Values) => {\n    actionSavePaywall(values)\n    props.onIsLeadRequiredChange(false)\n  }\n  const handleLeadFormBack = () => {\n    if (props.isNeedPrerequest) {\n      props.setIsPrerequestOpen(true)\n    } else {\n      goLast()\n    }\n  }\n\n  return (\n    <>\n      <NavigableForm.Title\n        innerHTML={sanitizeText(quizStore.store()?.lead.title || t.inputYourLeadDataAndGetOffers())}\n      />\n      <NavigableForm.Description\n        innerHTML={parseMarkdownText(quizStore.store()?.lead.description || t.yourOpinionIsHelpful())}\n      />\n      {props.isPrerequestOpen ? (\n        <>\n          <NavigableForm.Body>\n            <Option type=\"checkbox\" isSelected={isNeedLeadForm()} onClick={toggleIsNeedLeadForm}>\n              {t.canToGetMyContacts()}\n            </Option>\n          </NavigableForm.Body>\n          <NavigableForm.Navs>\n            <Button type=\"button\" size=\"m\" colorMode=\"secondary\" onClick={goLast}>\n              {t.back()}\n            </Button>\n            <Button size=\"m\" colorMode=\"primary\" type=\"button\" onClick={handleAcceptPrerequest}>\n              {t.continue()}\n            </Button>\n          </NavigableForm.Navs>\n        </>\n      ) : (\n        <LeadForm.Form paywall={paywallStore.store} paywallExp={paywallExp} onSubmit={handleSubmit}>\n          {({canSubmitted}) => (\n            <>\n              <NavigableForm.Body>\n                <LeadForm.Fields phoneCountries={paywallStore.store.phoneCountries} />\n                <LeadForm.CheckboxesFields class={CheckboxesFieldsClass} />\n              </NavigableForm.Body>\n              <NavigableForm.Navs>\n                <Button type=\"button\" size=\"m\" colorMode=\"secondary\" onClick={handleLeadFormBack}>\n                  {t.back()}\n                </Button>\n                <Button\n                  size=\"m\"\n                  colorMode={canSubmitted() ? 'primary' : 'secondary'}\n                  disabled={!canSubmitted()}\n                  type=\"submit\">\n                  {t.send()}\n                </Button>\n              </NavigableForm.Navs>\n            </>\n          )}\n        </LeadForm.Form>\n      )}\n    </>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    AnimationIsRunningClass: css({\n      pointerEvents: 'none',\n    }),\n  }\n}\n","import {createSignal, Show} from 'solid-js'\nimport {Transition} from 'solid-transition-group'\n\nimport type {Question} from '~/types/question'\nimport type {Accessor, Component, JSX} from 'solid-js'\n\nimport {getClasses} from './questionTransition.styles'\n\nconst EXIT_OPACITY = 0\nconst ENTER_OPACITY = 1\n\ninterface QuestionTransitionProps {\n  class?: string\n  question: Accessor<Question>\n  children: JSX.Element | ((question: Question) => JSX.Element)\n}\nexport const QuestionTransition: Component<QuestionTransitionProps> = props => {\n  const {AnimationIsRunningClass} = getClasses()\n  const [isAnimationRunning, setIsAnimationRunning] = createSignal(false)\n  const handleEnter = (el: Element, done: () => void) => {\n    const a = el.animate([{opacity: EXIT_OPACITY}, {opacity: ENTER_OPACITY}], {\n      duration: 100,\n    })\n    a.finished.then(() => {\n      done()\n      setIsAnimationRunning(false)\n    })\n  }\n  const handleExit = (el: Element, done: () => void) => {\n    setIsAnimationRunning(true)\n    const a = el.animate([{opacity: ENTER_OPACITY}, {opacity: EXIT_OPACITY}], {\n      duration: 100,\n    })\n    a.finished.then(done)\n  }\n\n  return (\n    <Transition name=\"slide\" mode=\"outin\" onEnter={handleEnter} onExit={handleExit}>\n      <Show when={props.question()} keyed>\n        {question => (\n          <div classList={{[AnimationIsRunningClass]: isAnimationRunning(), ...(props.class && {[props.class]: true})}}>\n            {typeof props.children === 'function' ? props.children(question) : props.children}\n          </div>\n        )}\n      </Show>\n    </Transition>\n  )\n}\n","import type {OptionValue, Question} from '~/types/question'\n\nimport {getQuestionMethods} from './questionMethods/getQuestionMethods'\n\nexport const isAnswerReady = (question: Question, answers: OptionValue[]) => {\n  const questionMethods = getQuestionMethods(question)\n\n  if (questionMethods.answer.isReady) {\n    return questionMethods.answer.isReady(answers)\n  }\n\n  return Boolean(answers.length)\n}\n","import {getQuestionMethods} from '~/helpers/questionMethods/getQuestionMethods'\nimport {getNextQuestion} from '~/helpers/step/getNextQuestion'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {questionStore} from '~/stores/question'\nimport {quizStore} from '~/stores/quiz'\n\nconst hasNextQuestions = () => {\n  const question = questionStore.store.data\n\n  if (!question) {\n    return false\n  }\n\n  const questionMethods = getQuestionMethods(question)\n\n  return questionMethods.hasNextQuestion()\n}\n\nconst hasNextQuestionAfterConfirmation = () => {\n  const question = questionStore.store.data\n\n  if (!question) {\n    return false\n  }\n\n  const questionMethods = getQuestionMethods(question)\n  const next = questionMethods.getNext(questionStore.store.answers)\n\n  if (!next) {\n    return true\n  }\n\n  const {question: nextQuestion} = getNextQuestion({quiz: quizStore.store(), next})\n\n  return Boolean(nextQuestion)\n}\n\nconst getLastQuestionContunueLabel = () => {\n  const t = useTranslations()\n\n  if (quizStore.computed.widgetType.isSurvey) {\n    return t.sendFeedback()\n  }\n\n  if (quizStore.computed.widgetType.isSuggestions) {\n    return t.seeSuggestions()\n  }\n\n  if (quizStore.computed.widgetType.isLeadgen) {\n    return t.toFinalStep()\n  }\n\n  return t.send()\n}\n\nexport const getQuestionContinueLabel = () => {\n  const t = useTranslations()\n\n  if (!hasNextQuestions() || !hasNextQuestionAfterConfirmation()) {\n    return getLastQuestionContunueLabel()\n  }\n\n  return t.continue()\n}\n","import {answersStore} from '~/stores/answers'\nimport {previewStore} from '~/stores/preview'\nimport {questionStore} from '~/stores/question'\n\nimport {getQuestionMethods} from '../questionMethods/getQuestionMethods'\nimport {goNext} from './goNext'\n\nexport const goNextAfterQuestionConfirm = () => {\n  const question = questionStore.store.data\n\n  if (!question) {\n    return\n  }\n\n  const questionMethods = getQuestionMethods(question)\n  const answerMethods = questionMethods.answer\n  const answerValue = answerMethods.arrayToValue(questionStore.store.answers)\n\n  answersStore.actions.push({\n    answer: answerValue,\n    question: question.name,\n  })\n\n  const next = questionMethods.getNext(questionStore.store.answers)\n\n  goNext({next})\n  previewStore.actions.fetch()\n}\n","import {answersStore} from '~/stores/answers'\nimport {quizStore} from '~/stores/quiz'\n\nimport {getPrevQuestion} from './getPrevQuestions'\n\nexport const isStartQuestion = () => {\n  const prevQuestion = getPrevQuestion({quiz: quizStore.store(), answers: answersStore.store()})\n\n  return !prevQuestion\n}\n","import {Answer} from '~/components/answer'\nimport {Button} from '~/components/button'\nimport {QuestionTransition} from '~/components/questionTransition'\nimport {isAnswerReady} from '~/helpers/answer'\nimport {getQuestionContinueLabel} from '~/helpers/getQuestionContinueLabel'\nimport {getOptionsMap} from '~/helpers/options'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {goNextAfterQuestionConfirm} from '~/helpers/step/goNextAfterQuestionConfirm'\nimport {goPrev} from '~/helpers/step/goPrev'\nimport {isStartQuestion} from '~/helpers/step/isStartQuestion'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {questionStore} from '~/stores/question'\nimport {NavigableForm} from '~/widgets/survey/components/navigableForm'\nimport {Show} from 'solid-js'\n\nimport type {OptionValue} from '~/types/question'\nimport type {Component} from 'solid-js'\n\ninterface QuizScreenProps {\n  isLeadScreenRequired: boolean\n}\nexport const QuizScreen: Component<QuizScreenProps> = props => {\n  const isReady = () =>\n    questionStore.store.data ? isAnswerReady(questionStore.store.data, questionStore.store.answers) : false\n  const t = useTranslations()\n  const goNextWithSkipAnswer = (answer: OptionValue) => {\n    questionStore.actions.setAnswers([answer])\n    goNextAfterQuestionConfirm()\n  }\n\n  return (\n    <Show when={questionStore.store.data}>\n      {question => (\n        <Show when={getOptionsMap(question())}>\n          {optionsMap => (\n            <>\n              <QuestionTransition question={question}>\n                <NavigableForm.Title innerHTML={sanitizeText(question().label)} />\n                <NavigableForm.Description innerHTML={parseMarkdownText(question().description)} />\n                <NavigableForm.Body>\n                  <Answer\n                    options={optionsMap().main}\n                    answers={questionStore.store.answers}\n                    question={question()}\n                    onWithConfirmationChange={questionStore.actions.setAnswers}\n                  />\n                </NavigableForm.Body>\n              </QuestionTransition>\n              <NavigableForm.Navs>\n                <Show when={!isStartQuestion()}>\n                  <Button type=\"button\" size=\"m\" colorMode=\"secondary\" onClick={goPrev}>\n                    {t.back()}\n                  </Button>\n                </Show>\n                <Show\n                  when={optionsMap().skip && !questionStore.store.answers.length ? optionsMap().skip : undefined}\n                  fallback={\n                    <Button\n                      size=\"m\"\n                      colorMode={isReady() ? 'primary' : 'secondary'}\n                      disabled={!isReady()}\n                      onClick={goNextAfterQuestionConfirm}>\n                      {getQuestionContinueLabel()}\n                    </Button>\n                  }>\n                  {skipOption => (\n                    <Button size=\"m\" colorMode=\"primary\" onClick={() => goNextWithSkipAnswer(skipOption().value)}>\n                      {getQuestionContinueLabel()}\n                    </Button>\n                  )}\n                </Show>\n              </NavigableForm.Navs>\n            </>\n          )}\n        </Show>\n      )}\n    </Show>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    PreloaderClass: css({display: 'block', width: '100px', height: '100px'}),\n  }\n}\n","import type {Component} from 'solid-js'\n\nimport {getClasses} from './preloader.styles'\n\ninterface PreloaderProps {\n  class?: string\n}\nexport const Preloader: Component<PreloaderProps> = props => {\n  const {PreloaderClass} = getClasses()\n\n  return (\n    <svg\n      classList={{[PreloaderClass]: true, ...(props.class && {[props.class]: true})}}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 200 200\">\n      <circle fill=\"#121212\" stroke=\"#121212\" stroke-width=\"15\" r=\"15\" cx=\"40\" cy=\"65\">\n        <animate\n          attributeName=\"cy\"\n          calcMode=\"spline\"\n          dur=\"2\"\n          values=\"65;135;65;\"\n          keySplines=\".5 0 .5 1;.5 0 .5 1\"\n          repeatCount=\"indefinite\"\n          begin=\"-.4\"></animate>\n      </circle>\n      <circle fill=\"#121212\" stroke=\"#121212\" stroke-width=\"15\" r=\"15\" cx=\"100\" cy=\"65\">\n        <animate\n          attributeName=\"cy\"\n          calcMode=\"spline\"\n          dur=\"2\"\n          values=\"65;135;65;\"\n          keySplines=\".5 0 .5 1;.5 0 .5 1\"\n          repeatCount=\"indefinite\"\n          begin=\"-.2\"></animate>\n      </circle>\n      <circle fill=\"#121212\" stroke=\"#121212\" stroke-width=\"15\" r=\"15\" cx=\"160\" cy=\"65\">\n        <animate\n          attributeName=\"cy\"\n          calcMode=\"spline\"\n          dur=\"2\"\n          values=\"65;135;65;\"\n          keySplines=\".5 0 .5 1;.5 0 .5 1\"\n          repeatCount=\"indefinite\"\n          begin=\"0\"></animate>\n      </circle>\n    </svg>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    InfoClass: css({\n      marginTop: theme.spacing.s16,\n      width: '300px',\n      maxWidth: '100%',\n      textAlign: 'center',\n    }),\n    DescriptionClass: css({\n      marginTop: theme.spacing.s8,\n    }),\n    ButtonContainerClass: css({\n      marginTop: theme.spacing.s24,\n    }),\n    StatusBlockClass: css({\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      boxSizing: 'border-box',\n    }),\n  }\n}\n","import {Heading} from '~/components/typography/heading'\nimport {Paragraph} from '~/components/typography/paragraph'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {createEffect, type Component, type JSX} from 'solid-js'\n\nimport {getClasses} from './statusBlock.styles'\n\ninterface StatusBlockProps {\n  class?: string\n  icon: JSX.Element\n  title: string\n  description: string\n  button?: JSX.Element\n}\nexport const StatusBlock: Component<StatusBlockProps> = props => {\n  const {StatusBlockClass, InfoClass, ButtonContainerClass, DescriptionClass} = getClasses()\n\n  return (\n    <div classList={{[StatusBlockClass]: true, ...(props.class && {[props.class]: true})}}>\n      {props.icon}\n      <div class={InfoClass}>\n        {props.title && <Heading size=\"l\" colorMode=\"primary\" innerHTML={sanitizeText(props.title)} />}\n        {props.description && (\n          <Paragraph\n            class={DescriptionClass}\n            size=\"l\"\n            colorMode=\"secondary\"\n            innerHTML={parseMarkdownText(props.description)}\n          />\n        )}\n      </div>\n      {props.button && <div class={ButtonContainerClass}>{props.button}</div>}\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    StatusIconClass: css({\n      padding: theme.spacing.s12,\n      borderRadius: theme.borderRadius.s16,\n      display: 'inline-block',\n      margin: '0 auto',\n    }),\n  }\n}\n","import {Icon} from '~/components/icon'\n\nimport type {IconType} from '~/components/icon'\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './statusIcon.styles'\n\ninterface StatusIconProps {\n  icon: IconType\n  color: string\n  backgroundColor: string\n}\nexport const StatusIcon: Component<StatusIconProps> = props => {\n  const {StatusIconClass} = getClasses()\n\n  return (\n    <div class={StatusIconClass} style={{'background-color': props.backgroundColor}}>\n      <Icon icon={props.icon} color={props.color} size=\"xl\" />\n    </div>\n  )\n}\n","import {DataLayer} from '~/helpers/dataLayer'\n\nimport type {FinalScreenData} from '~/helpers/dataLayer'\n\nexport const trackFinalBtnClicked = (finalData: FinalScreenData) => {\n  if (DataLayer.inappBridge) {\n    DataLayer.inappBridge.trackFinalBtnClicked({final: finalData})\n  }\n}\n","export enum FinalStatus {\n  SUCCESS = 'success',\n}\nexport interface Final {\n  status: FinalStatus\n  title: string\n  description: string\n  // TODO: remove optional after migration\n  button?: {\n    text: string\n    href: string\n  }\n}\n","import {useViewSettings} from '~/contexts/viewSettings'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {isCompact} = useViewSettings()\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      ...(!isCompact() && {margin: '42px 0'}),\n    }),\n    PreloaderContainerClass: css({\n      textAlign: 'center',\n    }),\n    PreloaderClass: css({\n      margin: `${theme.spacing.s32} auto 0`,\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {Preloader} from '~/components/preloader'\nimport {StatusBlock} from '~/components/statusBlock'\nimport {StatusIcon} from '~/components/statusIcon'\nimport {Caption} from '~/components/typography/caption'\nimport {DataLayer} from '~/helpers/dataLayer'\nimport {useTheme} from '~/helpers/theme'\nimport {trackFinalBtnClicked} from '~/helpers/trackFinalBtnClicked'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {FinalStatus} from '~/types/finals'\nimport {Show} from 'solid-js'\n\nimport type {IconType} from '~/components/icon'\nimport type {Final} from '~/types/finals'\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './thanksSheet.styles'\n\ninterface ThanksSheetProps {\n  isLoading: boolean\n  finalScreenData: {\n    data?: Final\n    error?: Response\n  }\n  onClose?(): void\n}\nexport const ThanksSheet: Component<ThanksSheetProps> = props => {\n  const {ContainerClass, PreloaderContainerClass, PreloaderClass} = getClasses()\n  const theme = useTheme()\n  const t = useTranslations()\n\n  const ICON_SETTINGS_BY_STATUS_MAP: Record<FinalStatus, {icon: IconType; color: string}> = {\n    [FinalStatus.SUCCESS]: {\n      icon: 'checkmark',\n      color: theme.colors.accent.success,\n    },\n  }\n\n  const handleButtonClick = async () => {\n    if (!props.finalScreenData.error) {\n      trackFinalBtnClicked({data: props.finalScreenData.data!})\n    } else {\n      const error = await props.finalScreenData.error.json()\n      trackFinalBtnClicked({error})\n    }\n  }\n\n  return (\n    <div class={ContainerClass}>\n      <Show\n        when={!props.isLoading}\n        fallback={\n          <div class={PreloaderContainerClass}>\n            <Caption size=\"s\" colorMode=\"secondary\">\n              {t.yourAnswersAreSending()}\n            </Caption>\n            <Preloader class={PreloaderClass} />\n          </div>\n        }>\n        <StatusBlock\n          title={props.finalScreenData.data?.title || t.thanksForYourAnswers()}\n          description={props.finalScreenData.data?.description || t.yourAnswersAreHelpful()}\n          button={\n            props.finalScreenData.data?.button?.href ? (\n              DataLayer.inappBridge ? (\n                <Button size=\"m\" colorMode=\"primary\" onClick={handleButtonClick}>\n                  {props.finalScreenData.data.button.text || props.finalScreenData.data.button.href}\n                </Button>\n              ) : (\n                <a target=\"_blank\" href={props.finalScreenData.data.button.href}>\n                  <Button size=\"m\" colorMode=\"primary\">\n                    {props.finalScreenData.data.button.text || props.finalScreenData.data.button.href}\n                  </Button>\n                </a>\n              )\n            ) : props.onClose ? (\n              <Button size=\"m\" colorMode=\"primary\" onClick={props.onClose}>\n                {props.finalScreenData.data?.button?.text || t.close()}\n              </Button>\n            ) : undefined\n          }\n          icon={\n            props.finalScreenData.data ? (\n              <StatusIcon\n                backgroundColor=\"rgba(53, 151, 53, 0.1)\"\n                {...ICON_SETTINGS_BY_STATUS_MAP[props.finalScreenData.data.status]}\n              />\n            ) : undefined\n          }\n        />\n      </Show>\n    </div>\n  )\n}\n","export class Observer<Args extends any[]> {\n  private listeners: ((...args: Args) => void)[] = []\n\n  public on(listener: (...args: Args) => void) {\n    this.listeners.push(listener)\n  }\n\n  public off(listener: (...args: Args) => void) {\n    this.listeners = this.listeners.filter((currentListener) => currentListener !== listener)\n  }\n\n  public emit(...args: Args) {\n    this.listeners.forEach((listener) => listener(...args))\n  }\n}","import type {Meta} from '../types'\n\nexport const buildMeta = (id: string): Meta => ({\n  quiz: {\n    id,\n  },\n})\n","import {Logger} from '~/helpers/logger'\n\nexport function withSafe<Args extends any[]>(fn: (...args: Args) => void) {\n  return (...args: Args) => {\n    try {\n      fn(...args)\n    } catch (error) {\n      Logger.captureException(error)\n    }\n  }\n}\n","import {Logger} from '~/helpers/logger'\nimport {Observer} from '~/helpers/observer'\nimport {initialStore} from '~/stores/initial'\n\nimport type {Meta} from '../types'\n\nimport {buildMeta} from '../helpers/buildMeta'\nimport {withSafe} from '../helpers/withSafe'\n\nconst subscribedCallbacksMap = new Map<OnCompleteCallback, OnCompleteCallback[]>()\n\ninterface OnCompleteCallbackProps {\n  data?: unknown\n  error?: unknown\n  meta?: Meta\n}\ntype OnCompleteCallback = (props: OnCompleteCallbackProps) => void\n\nconst onCompleteObserver = new Observer<[OnCompleteCallbackProps]>()\n\ntype ParamsType = [OnCompleteCallback]\n\ninterface OnCompleteProps {\n  params: unknown\n}\nexport const onComplete = async ({params}: OnCompleteProps) => {\n  try {\n    const typedParams = params as ParamsType\n    const callback = typedParams[0]\n    const safeCallback = withSafe(callback)\n\n    if (subscribedCallbacksMap.has(callback)) {\n      subscribedCallbacksMap.get(callback)?.push(safeCallback)\n    } else {\n      subscribedCallbacksMap.set(callback, [safeCallback])\n    }\n\n    onCompleteObserver.on(safeCallback)\n  } catch (error) {\n    Logger.captureException(error)\n  }\n}\n\nexport const executeCompleteListeners = (props: Omit<OnCompleteCallbackProps, 'meta'>) => {\n  const wizardInternalId = initialStore.store.internalId\n\n  if (!wizardInternalId) {\n    return\n  }\n\n  onCompleteObserver.emit({\n    ...props,\n    meta: buildMeta(wizardInternalId),\n  })\n}\n\ntype OffCompleteProps = OnCompleteProps\nexport const offComplete = ({params}: OffCompleteProps) => {\n  try {\n    const typedParams = params as ParamsType\n    const callback = typedParams[0]\n    const subscribedCallbacks = subscribedCallbacksMap.get(callback)\n\n    subscribedCallbacks?.forEach(callback => {\n      onCompleteObserver.off(callback)\n    })\n\n    subscribedCallbacksMap.delete(callback)\n  } catch (error) {\n    Logger.captureException(error)\n  }\n}\n","import {executeCompleteListeners} from '~/helpers/externalCommands/commands/onComplete'\n\nimport type {createCompleteStore} from '~/stores/createComplete'\n\nexport const trackComplete = async (completeStore: ReturnType<typeof createCompleteStore>) => {\n  if (!['ready', 'errored'].includes(completeStore.store.resource.state)) {\n    return\n  }\n\n  if (completeStore.store.resource.error) {\n    const error = await completeStore.store.resource.error.json()\n    executeCompleteListeners({error})\n\n    return\n  }\n\n  executeCompleteListeners({data: {response: completeStore.store.data()}})\n}\n","import {createFetch, withCatchAll} from '@solid-primitives/fetch'\nimport {appApiFetch} from '~/helpers/api'\nimport {getFullAnswers} from '~/helpers/getFullAnswers'\nimport {prepareSlugs} from '~/helpers/prepareSlugs'\nimport {withBaseRetry} from '~/helpers/withBaseRetry'\nimport {createSignal} from 'solid-js'\n\nimport type {Final} from '~/types/finals'\nimport type {Item} from '~/types/items'\n\nimport {quizStore} from './quiz'\n\nconst RECOMMEND_API_METHOD = '/v0/recommend' // legacy \"complete\" method\nconst COMPLETE_API_METHOD = '/v1/quizzes/answers/complete' // it doesn't work with products yet - uses only with survey\nconst getCompleteApiMethod = () =>\n  quizStore.computed.widgetType.isSuggestions ? RECOMMEND_API_METHOD : COMPLETE_API_METHOD\n\nexport interface MatcherStoreData {\n  items: Item[]\n}\n\nexport const createCompleteStore = <QuizType = 'matcher' | 'survey'>(\n  getDefaultStoreData: () => QuizType extends 'matcher' ? MatcherStoreData : Final,\n) => {\n  const [isReady, setIsReady] = createSignal(false)\n  const buildBody = () => {\n    const quiz = quizStore.store()\n    const answers = getFullAnswers()\n    const slugs = prepareSlugs(quiz?.slug ?? null, answers)\n\n    return {\n      answers,\n      ...(slugs && {slugs}),\n    }\n  }\n  const [store, {refetch, mutate}] = createFetch<QuizType extends 'matcher' ? MatcherStoreData : Final>(\n    // prevent auto fetching\n    () => (isReady() ? getCompleteApiMethod() : undefined),\n    {\n      fetch: pathname =>\n        appApiFetch(pathname as string, 'POST', {\n          body: buildBody(),\n          init: {keepalive: true},\n        }),\n    },\n    [withBaseRetry(), withCatchAll()],\n  )\n  const data = (): QuizType extends 'matcher' ? MatcherStoreData : Final => store() || getDefaultStoreData()\n\n  return {\n    store: {\n      resource: store,\n      data,\n    },\n    actions: {\n      fetch: () => {\n        if (isReady()) {\n          refetch()\n          return\n        }\n\n        setIsReady(true)\n      },\n      reset: () => {\n        // TODO: fix type\n        mutate(getDefaultStoreData())\n      },\n    },\n  }\n}\n","import {useTranslations} from '~/helpers/useTranslations'\nimport {FinalStatus} from '~/types/finals'\n\nimport type {Final} from '~/types/finals'\n\nimport {createCompleteStore} from './createComplete'\n\nconst getDefaultStoreData = (): Final => {\n  const t = useTranslations()\n\n  return {\n    status: FinalStatus.SUCCESS,\n    title: t.thanksForYourAnswers(),\n    description: t.yourAnswersAreHelpful(),\n    button: {\n      text: '',\n      href: '',\n    },\n  }\n}\n\nexport const surveyCompleteStore = createCompleteStore<'survey'>(getDefaultStoreData)\n","import {ThanksSheet} from '~/components/thanksSheet'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {trackComplete} from '~/helpers/trackComplete'\nimport {surveyCompleteStore} from '~/stores/surveyComplete'\nimport {createEffect, onCleanup, onMount} from 'solid-js'\n\nimport {useClose} from '../helpers/useClose'\n\nexport const ThanksScreen = () => {\n  let hasMounted = false\n  const {isInline} = useViewSettings()\n  const closeWidget = useClose()\n\n  onMount(() => {\n    hasMounted = true\n    surveyCompleteStore.actions.fetch()\n  })\n\n  createEffect(() => {\n    if (!hasMounted) {\n      return\n    }\n\n    trackComplete(surveyCompleteStore)\n  })\n\n  onCleanup(() => {\n    surveyCompleteStore.actions.reset()\n  })\n\n  return (\n    <ThanksSheet\n      isLoading={surveyCompleteStore.store.resource.loading}\n      finalScreenData={{\n        data: surveyCompleteStore.store.data(),\n        error: surveyCompleteStore.store.resource.error,\n      }}\n      onClose={isInline() ? undefined : closeWidget}\n    />\n  )\n}\n","import {InlineLayout} from '~/components/layouts/common/inline'\nimport {FittedOverlapLayout} from '~/components/layouts/mobile/fittedOverlap'\nimport {ViewSettingsProvider} from '~/contexts/viewSettings'\nimport {isLeadCollectingRequired} from '~/helpers/paywall'\nimport {getProgressPercent} from '~/helpers/step/utils'\nimport {useGetIsCompact} from '~/helpers/useGetIsCompact'\nimport {experimentsStore} from '~/stores/experiments'\nimport {paywallStore} from '~/stores/paywall'\nimport {questionStore} from '~/stores/question'\nimport {screenStore} from '~/stores/screen'\nimport {useResizeReset} from '~/stores/useResizeReset'\nimport {createSignal, Match, onMount, Show, Switch} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Component} from 'solid-js'\n\nimport {Container} from './components/container'\nimport {CornerPopup} from './components/cornerPopup'\nimport {InlinePopup} from './components/inlinePopup'\nimport {NavigableForm} from './components/navigableForm'\nimport {DESKTOP_WIDGET_WIDTH} from './constants'\nimport {initScreen} from './helpers/initScreen'\nimport {useClose} from './helpers/useClose'\nimport {LeadScreen} from './screens/lead'\nimport {QuizScreen} from './screens/quiz'\nimport {ThanksScreen} from './screens/thanks'\n\ninterface SurveyWidgetProps {\n  isInline: boolean\n  target: Element\n  useCompactOnly: boolean\n}\nexport const SurveyWidget: Component<SurveyWidgetProps> = props => {\n  const closeWidget = useClose()\n  const screen = () => screenStore.store.screen\n  const isNeedLeadPrerequest = experimentsStore.actions.test('paywall', ['optional'])\n  const [isLeadPrerequestOpen, setIsLeadPrerequestOpen] = createSignal(isNeedLeadPrerequest)\n  const [isLeadScreenRequired, setIsLeadScreenRequired] = createSignal(isLeadCollectingRequired(paywallStore.store))\n  const percent = () => {\n    const isLeadStepRequired = isLeadCollectingRequired(paywallStore.store)\n\n    return getProgressPercent({\n      question: screen() === 'quiz' ? questionStore.store.data : undefined,\n      extraStepsCount: isLeadStepRequired\n        ? isNeedLeadPrerequest\n          ? {max: 2, finished: isLeadPrerequestOpen() ? 0 : 1}\n          : {max: 1, finished: 0}\n        : undefined,\n    })\n  }\n  const getContainer = (isCompact: boolean) => {\n    if (props.isInline) {\n      return isCompact ? InlineLayout : InlinePopup\n    }\n\n    return isCompact ? FittedOverlapLayout : CornerPopup\n  }\n  const getIsCompact = useGetIsCompact({\n    isInline: props.isInline,\n    target: props.target,\n    breakpoint: DESKTOP_WIDGET_WIDTH,\n    useCompactOnly: props.useCompactOnly,\n  })\n\n  useResizeReset({isCompactAcc: getIsCompact, isInline: props.isInline})\n\n  onMount(() => {\n    initScreen()\n  })\n\n  return (\n    <ViewSettingsProvider value={{isCompact: getIsCompact, isInline: () => props.isInline}}>\n      {({isCompact}) => (\n        <Show when={screen()}>\n          {screen =>\n            ['quiz', 'final'].includes(screen()) && (\n              <Dynamic component={getContainer(isCompact())} onClose={closeWidget}>\n                <Container>\n                  <Switch>\n                    <Match when={screen() === 'quiz' || isLeadScreenRequired()}>\n                      <NavigableForm.Container percent={percent()}>\n                        <Switch>\n                          <Match when={screen() === 'quiz'}>\n                            <QuizScreen isLeadScreenRequired={isLeadScreenRequired()} />\n                          </Match>\n                          <Match when={isLeadScreenRequired()}>\n                            <LeadScreen\n                              isPrerequestOpen={isLeadPrerequestOpen()}\n                              setIsPrerequestOpen={setIsLeadPrerequestOpen}\n                              isNeedPrerequest={isNeedLeadPrerequest}\n                              onIsLeadRequiredChange={setIsLeadScreenRequired}\n                            />\n                          </Match>\n                        </Switch>\n                      </NavigableForm.Container>\n                    </Match>\n                    <Match when={screen() === 'final'}>\n                      <ThanksScreen />\n                    </Match>\n                  </Switch>\n                </Container>\n              </Dynamic>\n            )\n          }\n        </Show>\n      )}\n    </ViewSettingsProvider>\n  )\n}\n","export const DESKTOP_WIDGET_WIDTH = 860\n","import {actionShow} from '~/helpers/actions'\nimport {startQuiz} from '~/helpers/startQuiz'\nimport {initialStore} from '~/stores/initial'\nimport {screenStore} from '~/stores/screen'\nimport {Action} from '~/types/action'\nimport {Visibility} from '~/types/visibility'\n\ninterface InitScreenProps {\n  isInline: boolean\n  isInlineStartQuestion: boolean\n  goPromo: () => void\n  forceShow: boolean\n}\nexport const initScreen = ({isInline, isInlineStartQuestion, goPromo, forceShow}: InitScreenProps) => {\n  if (isInlineStartQuestion) {\n    return\n  }\n\n  const {action, visibility} = initialStore.store\n\n  if (action === Action.QUIZ) {\n    if (forceShow) {\n      startQuiz()\n      actionShow()\n      return\n    }\n\n    if (isInline) {\n      startQuiz()\n      actionShow()\n      return\n    }\n\n    if (Visibility.PROMO === visibility) {\n      screenStore.actions.goMinimal()\n      goPromo()\n      return\n    }\n\n    if (Visibility.COLLAPSE === visibility) {\n      screenStore.actions.goMinimal()\n      return\n    }\n  }\n}\n","import {goNext} from '~/helpers/step/goNext'\nimport {screenStore} from '~/stores/screen'\nimport {createSignal} from 'solid-js'\n\nconst PROMO_DELAY = 1500\n\nexport const useGoPromo = () => {\n  const [goPromoTimeout, setGoPromoTimeout] = createSignal<number | null>(null)\n  const cancel = () => {\n    const goPromoTimeoutVal = goPromoTimeout()\n    if (goPromoTimeoutVal) {\n      clearTimeout(goPromoTimeoutVal)\n    }\n  }\n  const go = () =>\n    setGoPromoTimeout(() =>\n      window.setTimeout(() => {\n        goNext({onQuestion: screenStore.actions.goPromo, useAutoFinish: false})\n      }, PROMO_DELAY),\n    )\n\n  return {cancel, go}\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    OverlayClass: css({\n      overflow: 'auto',\n      height: '100%',\n      width: '100%',\n      background: '#00000099',\n      // Safari support\n      '-webkit-backdrop-filter': 'blur(2px)',\n      backdropFilter: 'blur(2px)',\n      display: 'grid',\n      justifyContent: 'center',\n      alignItems: 'center',\n      overscrollBehavior: 'contain',\n      paddingTop: theme.spacing.s40,\n      paddingBottom: theme.spacing.s40,\n      boxSizing: 'border-box',\n    }),\n  }\n}\n","import {FullscreenPositioner} from '~/components/fullscreenPositioner'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './popup.styles'\n\ninterface PopupLayoutProps {\n  onClose(): void\n}\nexport const PopupLayout: ParentComponent<PopupLayoutProps> = props => {\n  let innerRef: HTMLDivElement | undefined\n  const {OverlayClass} = getClasses()\n  const handleClose = (event: MouseEvent) => {\n    if (innerRef && innerRef === event.target) {\n      props.onClose()\n    }\n  }\n\n  return (\n    <FullscreenPositioner>\n      <div class={OverlayClass} ref={innerRef} onClick={handleClose}>\n        {props.children}\n      </div>\n    </FullscreenPositioner>\n  )\n}\n","import {isLeadCollectingRequired} from '~/helpers/paywall'\nimport {experimentsStore} from '~/stores/experiments'\nimport {paywallStore} from '~/stores/paywall'\nimport {quizStore} from '~/stores/quiz'\nimport {screenStore} from '~/stores/screen'\n\nconst isLeadgenQuizCompleted = () =>\n  quizStore.computed.widgetType.isLeadgen && !isLeadCollectingRequired(paywallStore.store)\n\nexport const goMinimalOrReset = (forceShow: boolean, destroy: () => void) => {\n  if (forceShow) {\n    screenStore.actions.reset()\n    if (!experimentsStore.actions.isFeature('useInlineStartQuestion')) {\n      destroy()\n    }\n  } else {\n    if (!isLeadgenQuizCompleted()) {\n      screenStore.actions.goMinimal()\n    } else {\n      screenStore.actions.reset()\n      destroy()\n    }\n  }\n}\n","import {useAppContext} from '~/contexts/app'\nimport {previewStore} from '~/stores/preview'\nimport {screenStore} from '~/stores/screen'\n\nimport {actionClose, actionClosePromo, actionCollapse} from './actions'\nimport {goMinimalOrReset} from './goMinimalOrReset'\n\nexport const useClose = () => {\n  const {forceShow, destroy} = useAppContext()\n\n  return () => {\n    previewStore.actions.reset()\n\n    if (screenStore.store.screen === 'promo') {\n      actionClosePromo()\n\n      screenStore.actions.goMinimal()\n      return\n    }\n\n    if (screenStore.store.screen === 'minimal') {\n      actionClose()\n      screenStore.actions.reset()\n      return\n    }\n\n    actionCollapse()\n\n    goMinimalOrReset(forceShow, destroy)\n  }\n}\n","import type {StylesArg} from 'solid-styled-components'\n\nexport const buildMDesktopStyles = <Arg extends StylesArg>(stylesArg: Arg) => {\n  return {\n    '@media (min-height: 780px)': stylesArg,\n  }\n}\n","import {buildMDesktopStyles} from '~/helpers/desktop'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport {DESKTOP_WIDGET_WIDTH} from '../../constants'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    PopupClass: css({\n      borderRadius: theme.borderRadius.s32,\n      width: `${DESKTOP_WIDGET_WIDTH}px`,\n      maxWidth: '100%',\n      overflow: 'hidden',\n      boxShadow: theme.shadows.boxShadow,\n      position: 'relative',\n\n      height: '640px',\n      ...buildMDesktopStyles({height: '780px'}),\n    }),\n    PoweredByClass: css({\n      marginTop: theme.spacing.s16,\n      marginBottom: theme.spacing.s16,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    }),\n  }\n}\n","import {PoweredBy} from '~/components/poweredBy'\nimport {isPoweredByEnabled} from '~/helpers/isPoweredByEnabled'\nimport {useTheme} from '~/helpers/theme'\nimport {Show, type ParentComponent} from 'solid-js'\n\nimport {getClasses} from './popup.styles'\n\nexport const Popup: ParentComponent = props => {\n  const {PopupClass, PoweredByClass} = getClasses()\n  const theme = useTheme()\n\n  return (\n    <div>\n      <div class={PopupClass}>{props.children}</div>\n      <Show when={isPoweredByEnabled()}>\n        <PoweredBy class={PoweredByClass} color={theme.colors.text.secondaryInvert} size=\"s\" />\n      </Show>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {ColorMode, Size} from './types'\n\ninterface IconButtonClassProps {\n  colorMode: ColorMode\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    IconButtonClass: ({colorMode, size}: IconButtonClassProps) =>\n      css({\n        border: 'none',\n        transition: `background-color ${theme.animation.transition}`,\n        cursor: 'pointer',\n        boxSizing: 'border-box',\n\n        ...(colorMode === 'primary' && {\n          background: theme.colors.buttons.primary.default,\n\n          '&:hover': {\n            background: theme.colors.buttons.primary.hover,\n          },\n        }),\n        ...(colorMode === 'primaryInvert' && {\n          background: theme.colors.buttons.primaryInvert.default,\n          boxShadow: `inset 0px 0px 0px 1.5px ${theme.colors.divider.primary}`,\n\n          '&:hover': {\n            background: theme.colors.buttons.primaryInvert.hover,\n          },\n        }),\n\n        ...(size === 'm' && {\n          borderRadius: theme.borderRadius.s8,\n          padding: theme.spacing.s4,\n        }),\n        ...(size === 'l' && {\n          borderRadius: theme.borderRadius.s14,\n          padding: theme.spacing.s10,\n        }),\n      }),\n    IconClass: css({\n      display: 'block',\n    }),\n  }\n}\n\nexport const getIconButtonEdge = () => {\n  const theme = useTheme()\n\n  return {\n    m: `${parseInt(theme.typography.icon.size.m, 10) + 2 * parseInt(theme.spacing.s10, 10)}px`,\n    l: `${parseInt(theme.typography.icon.size.l, 10) + 2 * parseInt(theme.spacing.s10, 10)}px`,\n  }\n}\n","import {Icon} from '~/components/icon/icon'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {IconType} from '~/components/icon/icon'\nimport type {Size as IconSize} from '~/components/icon/types'\nimport type {Component, JSX} from 'solid-js'\n\nimport type {Size} from './types'\nimport type {ColorMode} from './types'\n\nimport {getClasses} from './iconButton.styles'\n\ninterface IconButtonProps extends JSX.HTMLAttributes<HTMLButtonElement> {\n  icon: IconType\n  colorMode: ColorMode\n  size: Size\n  onClick?(): void\n}\nexport const IconButton: Component<IconButtonProps> = props => {\n  const {IconButtonClass, IconClass} = getClasses()\n  const theme = useTheme()\n\n  const IconColorMap = {\n    primary: theme.colors.text.primaryInvert,\n    primaryInvert: theme.colors.text.primary,\n  } as const\n\n  const IconSizeMap: Record<Size, IconSize> = {\n    m: 'm',\n    l: 'l',\n  } as const\n\n  return (\n    <button\n      classList={{\n        [IconButtonClass({colorMode: props.colorMode, size: props.size})]: true,\n        ...(props.class && {[props.class]: true}),\n      }}\n      onClick={props.onClick}>\n      <Icon class={IconClass} icon={props.icon} color={IconColorMap[props.colorMode]} size={IconSizeMap[props.size]} />\n    </button>\n  )\n}\n","import {createContext, createSignal, useContext} from 'solid-js'\n\nimport type {ParentComponent, Signal} from 'solid-js'\n\nimport type {OverlayType, Size} from '../types'\n\ninterface Sheet {\n  content: {scrolled: Signal<boolean>}\n  bottom: {height: Signal<number>}\n  size(): Size\n  overlayType(): OverlayType | undefined\n}\nconst SheetContext = createContext<Sheet>({\n  size: () => 's' as const,\n  content: {scrolled: [() => false, () => {}]},\n  bottom: {height: [() => 0, () => {}]},\n  overlayType: () => undefined,\n})\n\ninterface SheetProviderProps {\n  size: Size\n  overlayType?: OverlayType\n}\nexport const SheetProvider: ParentComponent<SheetProviderProps> = props => {\n  const isContentScrolledSignal = createSignal(false)\n  const bottomHeightSignal = createSignal(0)\n\n  return (\n    <SheetContext.Provider\n      value={{\n        content: {scrolled: isContentScrolledSignal},\n        bottom: {height: bottomHeightSignal},\n        size: () => props.size,\n        overlayType: () => props.overlayType,\n      }}>\n      {props.children}\n    </SheetContext.Provider>\n  )\n}\n\nexport const useSheet = () => useContext(SheetContext)\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {Size} from '../../types'\nimport type {OverlayMode} from './types'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    BottomClass: ({size, overlayMode}: {size: Size; overlayMode: OverlayMode}) =>\n      css({\n        position: 'absolute',\n        zIndex: 1,\n        pointerEvents: 'none',\n        left: 0,\n        right: 0,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        bottom: 0,\n\n        '& > *': {\n          pointerEvents: 'all',\n        },\n\n        '&:after': {\n          content: '\"\"',\n          display: 'block',\n          position: 'absolute',\n          zIndex: -1,\n          right: 0,\n          bottom: 0,\n          left: 0,\n\n          height: overlayMode === 'fullheight' ? '100%' : '56px',\n          background: theme.gradients.bottomOverlay,\n        },\n\n        ...(size === 's' && {\n          paddingLeft: theme.spacing.s12,\n          paddingRight: theme.spacing.s12,\n        }),\n        ...(size === 'm' && {\n          paddingLeft: theme.spacing.s32,\n          paddingRight: theme.spacing.s32,\n        }),\n      }),\n  }\n}\n","import {throttle} from '@solid-primitives/scheduled'\nimport {mergeProps, onCleanup, onMount, type ParentComponent} from 'solid-js'\n\nimport type {OverlayMode} from './types'\n\nimport {useSheet} from '../../contexts/sheet'\nimport {getClasses} from './bottom.styles'\n\ninterface BottomProps {\n  class?: string\n  overlayMode?: OverlayMode\n}\nexport const Bottom: ParentComponent<BottomProps> = props => {\n  const mergedProps = mergeProps({overlayMode: 'fullheight' as const}, props)\n  let bottomRef: HTMLDivElement | undefined\n  const {\n    bottom: {\n      height: [, setHeight],\n    },\n    size,\n  } = useSheet()\n  const {BottomClass} = getClasses()\n  const updateBottomHeight = throttle(() => {\n    if (bottomRef) {\n      setHeight(bottomRef.getBoundingClientRect().height)\n    }\n  }, 100)\n  const resetBottomHeight = () => setHeight(0)\n\n  onMount(() => {\n    updateBottomHeight()\n\n    window.addEventListener('resize', updateBottomHeight)\n  })\n\n  onCleanup(() => {\n    resetBottomHeight()\n\n    window.removeEventListener('resize', updateBottomHeight)\n  })\n\n  return (\n    <div\n      ref={bottomRef}\n      classList={{\n        [BottomClass({size: size(), overlayMode: mergedProps.overlayMode})]: true,\n        ...(mergedProps.class && {[mergedProps.class]: true}),\n      }}>\n      {mergedProps.children}\n    </div>\n  )\n}\n","import {useViewSettings} from '~/contexts/viewSettings'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {OverlayType} from '../../types'\n\nexport const getClasses = () => {\n  const {isCompact} = useViewSettings()\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    OverlayClass: ({overlayType}: {overlayType?: OverlayType}) =>\n      css({\n        position: 'absolute',\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0,\n        background: theme.colors.overlay.o10,\n        // Safari support\n        '-webkit-backdrop-filter': 'blur(6px)',\n        backdropFilter: 'blur(6px)',\n        zIndex: 1,\n\n        ...(!isCompact() && {\n          // hide background artefacts when container \"border-radius\" is using\n          boxShadow: `inset 0px -17px 36px 0 #e5e5e5 ${overlayType === 'fullheight' ? `, inset 0px 17px 36px 0 #e5e5e5` : ''}`,\n        }),\n      }),\n  }\n}\n","import {useSheet} from '../../contexts/sheet'\nimport {getClasses} from './overlay.styles'\n\nexport const Overlay = () => {\n  const {overlayType} = useSheet()\n  const {OverlayClass} = getClasses()\n\n  return <div class={OverlayClass({overlayType: overlayType()})} />\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    ContainerClass: css({\n      height: '100%',\n      position: 'relative',\n      overflow: 'hidden',\n      display: 'flex',\n      flexDirection: 'column',\n      boxSizing: 'border-box',\n    }),\n  }\n}\n","import {type ParentComponent} from 'solid-js'\n\nimport type {OverlayType, Size} from '../../types'\n\nimport {SheetProvider} from '../../contexts/sheet'\nimport {Overlay} from '../overlay'\nimport {getClasses} from './container.styles'\n\ninterface ContainerProps {\n  size: Size\n  overlayType?: OverlayType\n  class?: string\n}\nexport const Container: ParentComponent<ContainerProps> = props => {\n  const {ContainerClass} = getClasses()\n  const useFullheightOverlay = () => props.overlayType === 'fullheight'\n\n  return (\n    <SheetProvider size={props.size} overlayType={props.overlayType}>\n      <div\n        classList={{[ContainerClass]: true, ...(props.class && {[props.class]: true})}}\n        inert={useFullheightOverlay()}>\n        {props.children}\n        {useFullheightOverlay() && <Overlay />}\n      </div>\n    </SheetProvider>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {Size} from '../../types'\n\ninterface InnerSizeClassProps {\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContentClass: css({\n      overflow: 'hidden',\n      height: '100%',\n      position: 'relative',\n\n      '&:after': {\n        content: '\"\"',\n        background: theme.gradients.bottomOverlay,\n        position: 'absolute',\n        display: 'block',\n        pointerEvents: 'none',\n        bottom: 0,\n        left: 0,\n        right: 0,\n        height: '40px',\n        opacity: 0,\n        transition: `opacity ${theme.animation.transition}`,\n      },\n    }),\n    ScrollContainerClass: (isContentOverlayUsed: boolean) =>\n      css({\n        overflow: isContentOverlayUsed ? 'hidden' : 'auto',\n        height: '100%',\n        position: 'relative',\n      }),\n    InnerSizeClass: ({size}: InnerSizeClassProps) =>\n      css({\n        position: 'relative',\n        minHeight: '100%',\n        boxSizing: 'border-box',\n        display: 'grid',\n        gridTemplateRows: '1fr',\n\n        ...(size === 's' && {\n          padding: `${theme.spacing.s8} ${theme.spacing.s12} ${theme.spacing.s16}`,\n        }),\n        ...(size === 'm' && {\n          padding: `${theme.spacing.s8} ${theme.spacing.s32} ${theme.spacing.s32}`,\n        }),\n      }),\n    WithBottomOverlayClass: css({'&:after': {opacity: '1 !important'}}),\n  }\n}\n","import {throttle} from '@solid-primitives/scheduled'\nimport {createSignal, onCleanup, onMount} from 'solid-js'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {useSheet} from '../../contexts/sheet'\nimport {Overlay} from '../overlay'\nimport {getClasses} from './content.styles'\n\ninterface ContentProps {\n  class?: string\n}\nexport const Content: ParentComponent<ContentProps> = props => {\n  let innerRef: HTMLDivElement | undefined\n  let contentRef: HTMLDivElement | undefined\n  const {ContentClass, InnerSizeClass, WithBottomOverlayClass, ScrollContainerClass} = getClasses()\n  const {\n    content: {\n      scrolled: [, setIsContentScrolled],\n    },\n    bottom: {\n      height: [bottomHeight],\n    },\n    size,\n    overlayType,\n  } = useSheet()\n  const useContentOverlay = () => overlayType() === 'content'\n  const [isBottomOverlayEnabled, setIsBottomOverlayEnabled] = createSignal(false)\n  const handleContentScroll = throttle(() => {\n    const contentClientRect = contentRef?.getBoundingClientRect()\n    const innerClientRect = innerRef?.getBoundingClientRect()\n\n    setIsBottomOverlayEnabled(() => {\n      if (!contentClientRect || !innerClientRect) {\n        return false\n      }\n\n      return Math.round(contentClientRect.bottom - innerClientRect.y) < Math.round(innerClientRect.height)\n    })\n\n    setIsContentScrolled(() => {\n      if (!contentClientRect || !innerClientRect) {\n        return false\n      }\n\n      return innerClientRect.y < contentClientRect.y\n    })\n  }, 10)\n\n  onMount(() => {\n    handleContentScroll()\n\n    window.addEventListener('resize', handleContentScroll)\n  })\n\n  onCleanup(() => {\n    window.removeEventListener('resize', handleContentScroll)\n  })\n\n  return (\n    <div\n      classList={{\n        [ContentClass]: true,\n        [WithBottomOverlayClass]: isBottomOverlayEnabled() && !bottomHeight(),\n      }}>\n      <div ref={contentRef} class={ScrollContainerClass(useContentOverlay())} onscroll={handleContentScroll}>\n        <div\n          inert={useContentOverlay()}\n          ref={innerRef}\n          class={InnerSizeClass({size: size()})}\n          style={bottomHeight() ? {'padding-bottom': `${bottomHeight()}px`} : {}}>\n          <div class={props.class}>{props.children}</div>\n        </div>\n        {useContentOverlay() && <Overlay />}\n      </div>\n    </div>\n  )\n}\n","import {getIconButtonEdge} from '~/components/iconButton/iconButton.styles'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {Size} from '../../types'\n\nexport const getSheetHeaderMinHeight = () => {\n  const theme = useTheme()\n\n  return {\n    s: `${parseInt(getIconButtonEdge().m, 10) + parseInt(theme.spacing.s8, 10) * 2}px`,\n    m: `${parseInt(getIconButtonEdge().l, 10) + parseInt(theme.spacing.s32, 10) + parseInt(theme.spacing.s20, 10)}px`,\n  }\n}\n\ninterface WithSizeProps {\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    HeaderClass: ({size}: WithSizeProps) =>\n      css({\n        background: theme.colors.fill.primary,\n        display: 'grid',\n        gridTemplateColumns: 'auto 1fr auto',\n        zIndex: 1,\n        transition: 'box-shadow 50ms',\n        gap: theme.spacing.s12,\n        boxSizing: 'border-box',\n        flexShrink: 0,\n\n        ...(size === 's' && {\n          padding: `${theme.spacing.s8} ${theme.spacing.s12}`,\n          minHeight: getSheetHeaderMinHeight().s,\n        }),\n        ...(size === 'm' && {\n          padding: `${theme.spacing.s32} ${theme.spacing.s32} ${theme.spacing.s20}`,\n          minHeight: getSheetHeaderMinHeight().m,\n        }),\n      }),\n    ShadowedClass: css({\n      boxShadow:\n        '0px 8px 16px 0px #0000000A, 0px 2px 4px 0px #00000005, 0px 0px 2px 0px #0000000D, 0px -0.5px 3px 0px #0000000D',\n    }),\n    CenterClass: css({\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      overflow: 'hidden',\n    }),\n    ControlClass: ({size}: WithSizeProps) =>\n      css({\n        ...(size === 's' && {\n          minWidth: getIconButtonEdge().m,\n        }),\n        ...(size === 'm' && {\n          minWidth: getIconButtonEdge().l,\n        }),\n      }),\n  }\n}\n","import {type JSX, type ParentComponent} from 'solid-js'\n\nimport {useSheet} from '../../contexts/sheet'\nimport {getClasses} from './header.styles'\n\ninterface HeaderProps {\n  class?: string\n  left?: JSX.Element\n  center?: JSX.Element\n  right?: JSX.Element\n}\nexport const Header: ParentComponent<HeaderProps> = props => {\n  const {\n    content: {\n      scrolled: [isContentScrolled],\n    },\n    size,\n    overlayType,\n  } = useSheet()\n  const {HeaderClass, CenterClass, ShadowedClass, ControlClass} = getClasses()\n\n  return (\n    <div\n      classList={{\n        [HeaderClass({size: size()})]: true,\n        [ShadowedClass]: overlayType() === 'content' || isContentScrolled(),\n        ...(props.class && {[props.class]: true}),\n      }}>\n      <div class={ControlClass({size: size()})}>{props.left}</div>\n      <div class={CenterClass}>{props.center}</div>\n      <div class={ControlClass({size: size()})}>{props.right}</div>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {Size} from '../../types'\n\ninterface WithSizeProps {\n  size: Size\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    SingleControlClass: ({size}: WithSizeProps) =>\n      css({\n        position: 'absolute',\n        zIndex: 2,\n\n        ...(size === 's' && {\n          top: theme.spacing.s8,\n          right: theme.spacing.s12,\n        }),\n        ...(size === 'm' && {\n          top: theme.spacing.s32,\n          right: theme.spacing.s32,\n        }),\n      }),\n  }\n}\n","import {type ParentComponent} from 'solid-js'\n\nimport {useSheet} from '../../contexts/sheet'\nimport {getClasses} from './singleControl.styles'\n\nexport const SingleControl: ParentComponent = props => {\n  const {size} = useSheet()\n  const {SingleControlClass} = getClasses()\n\n  return <div class={SingleControlClass({size: size()})}>{props.children}</div>\n}\n","import {Bottom} from './components/bottom'\nimport {Container} from './components/container'\nimport {Content} from './components/content'\nimport {Header} from './components/header'\nimport {SingleControl} from './components/singleControl'\n\nexport const Sheet = {\n  Container,\n  Header,\n  Content,\n  SingleControl,\n  Bottom,\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      background: theme.colors.fill.primary,\n    }),\n    ContentClass: css({\n      minHeight: '100%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n  }\n}\n","import {IconButton} from '~/components/iconButton'\nimport {Sheet} from '~/components/sheet'\nimport {ThanksSheet} from '~/components/thanksSheet'\n\nimport type {Final} from '~/types/finals'\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './leadgenFinalSheet.styles'\n\ninterface LeadgenFinalSheetProps {\n  size: 's' | 'm'\n  isLoading: boolean\n  finalScreenData: {\n    data?: Final\n    error?: Response\n  }\n  onClose?(): void\n}\nexport const LeadgenFinalSheet: Component<LeadgenFinalSheetProps> = props => {\n  const {ContainerClass, ContentClass} = getClasses()\n\n  return (\n    <Sheet.Container size={props.size} class={ContainerClass}>\n      {props.onClose && (\n        <Sheet.SingleControl>\n          <IconButton icon=\"cross\" size=\"l\" colorMode=\"primaryInvert\" onClick={props.onClose} />\n        </Sheet.SingleControl>\n      )}\n      <div class={ContentClass}>\n        <ThanksSheet isLoading={props.isLoading} finalScreenData={props.finalScreenData} onClose={props.onClose} />\n      </div>\n    </Sheet.Container>\n  )\n}\n","import {InlineLayout} from '~/components/layouts/common/inline'\nimport {PopupLayout} from '~/components/layouts/desktop/popup'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {trackComplete} from '~/helpers/trackComplete'\nimport {useClose} from '~/helpers/useClose'\nimport {surveyCompleteStore} from '~/stores/surveyComplete'\nimport {Popup} from '~/widgets/twoSides/components/popup'\nimport {createEffect, onCleanup, onMount} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Component} from 'solid-js'\n\nimport {LeadgenFinalSheet} from '../../components/leadgenFinalSheet/leadgenFinalSheet'\n\nexport const LeadgenFinalScreen: Component = () => {\n  let hasMounted = false\n  const {isInline} = useViewSettings()\n  const closeWidget = useClose()\n\n  onMount(() => {\n    hasMounted = true\n    surveyCompleteStore.actions.fetch()\n  })\n\n  createEffect(() => {\n    if (!hasMounted) {\n      return\n    }\n\n    trackComplete(surveyCompleteStore)\n  })\n\n  onCleanup(() => {\n    surveyCompleteStore.actions.reset()\n  })\n\n  return (\n    <Dynamic component={isInline() ? InlineLayout : PopupLayout} onClose={closeWidget}>\n      <Popup>\n        <LeadgenFinalSheet\n          onClose={isInline() ? undefined : closeWidget}\n          size=\"m\"\n          isLoading={surveyCompleteStore.store.resource.loading}\n          finalScreenData={{\n            data: surveyCompleteStore.store.data(),\n            error: surveyCompleteStore.store.resource.error,\n          }}\n        />\n      </Popup>\n    </Dynamic>\n  )\n}\n","import {answersStore} from '~/stores/answers'\nimport {previewStore} from '~/stores/preview'\nimport {screenStore} from '~/stores/screen'\n\nimport {actionRestart} from '../actions'\nimport {goNext} from './goNext'\n\nexport const goRestart = () => {\n  actionRestart()\n  previewStore.actions.reset()\n  answersStore.actions.reset()\n  goNext({onQuestion: screenStore.actions.goQuiz})\n}\n","export const CARD_TYPE = ['horizontal-s', 'horizontal-m', 'horizontal-l', 'vertical'] as const\nexport type CardType = (typeof CARD_TYPE)[number]\n","import {DEFAULT_LANG} from '~/constants/common'\nimport {experimentsStore} from '~/stores/experiments'\nimport {metaStore} from '~/stores/meta'\nimport {quizStore} from '~/stores/quiz'\nimport {CARD_TYPE} from '~/types/suggestions'\n\nimport type {CardType} from '~/types/suggestions'\n\nimport {DataLayer} from './dataLayer'\nimport {useTranslations} from './useTranslations'\n\nconst isValidCardType = (cardType: string): cardType is CardType => {\n  return (CARD_TYPE as ReadonlyArray<string>).includes(cardType)\n}\n\nexport const getSuggestionCardType = (): CardType => {\n  const productCardType = experimentsStore.actions.get('productCardType')\n\n  if (isValidCardType(productCardType)) {\n    return productCardType\n  }\n\n  return 'horizontal-s'\n}\n\nexport const getSuggestionsCountText = (count: number) => {\n  const t = useTranslations()\n  const rule = new Intl.PluralRules(metaStore.store.lang || DEFAULT_LANG).select(count)\n  const pluralizationForms = quizStore.store()?.products.pluralizationForms\n  const noun = pluralizationForms && pluralizationForms[rule]\n\n  return noun ? `${count} ${noun}` : t.suggestionsCount({count})\n}\n","import {createCompleteStore} from './createComplete'\n\nconst getDefaultStoreData = () => ({items: []})\n\nexport const matcherCompleteStore = createCompleteStore<'matcher'>(getDefaultStoreData)\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    ContentClass: css({\n      textAlign: 'center',\n      minHeight: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n    InnerClass: css({\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100%',\n      boxSizing: 'border-box',\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {IconButton} from '~/components/iconButton'\nimport {Sheet} from '~/components/sheet'\nimport {StatusBlock} from '~/components/statusBlock'\nimport {StatusIcon} from '~/components/statusIcon'\nimport {useTheme} from '~/helpers/theme'\nimport {useTranslations} from '~/helpers/useTranslations'\n\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './empty.styles'\n\ninterface EmptyProps {\n  onRestart(): void\n  onClose?(): void\n}\nexport const Empty: Component<EmptyProps> = props => {\n  const {ContentClass, InnerClass} = getClasses()\n  const theme = useTheme()\n  const t = useTranslations()\n\n  return (\n    <>\n      {props.onClose && (\n        <Sheet.SingleControl>\n          <IconButton icon=\"cross\" size=\"l\" colorMode=\"primaryInvert\" onClick={props.onClose} />\n        </Sheet.SingleControl>\n      )}\n      <Sheet.Content>\n        <div class={ContentClass}>\n          <StatusBlock\n            class={InnerClass}\n            title={t.cannotFindSuggestions()}\n            description={t.restartAndChangeAnswers()}\n            button={\n              <Button icon=\"refresh\" size=\"m\" colorMode=\"primary\" onClick={props.onRestart}>\n                {t.restartQuiz()}\n              </Button>\n            }\n            icon={\n              <StatusIcon\n                icon=\"face-sad\"\n                color={theme.colors.text.primary}\n                backgroundColor={theme.colors.fill.medium}\n              />\n            }\n          />\n        </div>\n      </Sheet.Content>\n    </>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    SortClass: css({\n      position: 'relative',\n    }),\n    DropdownMenuClass: css({\n      width: '240px',\n    }),\n    LabelClass: css({\n      textAlign: 'left',\n    }),\n  }\n}\n","import {useTranslations} from '~/helpers/useTranslations'\nimport {createSignal} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport {Dropdown} from '../dropdown'\nimport {IconButton} from '../iconButton'\nimport {Paragraph} from '../typography/paragraph'\nimport {getClasses} from './sort.styles'\n\nexport type SortType = 'up' | 'down'\ninterface SortProps {\n  value: SortType | null\n  onChange(sortType: SortType | null): void\n}\nexport const Sort: Component<SortProps> = props => {\n  const [isOpen, setIsOpen] = createSignal(false)\n  const handleOpen = () => setIsOpen(true)\n  const handleClose = () => setIsOpen(false)\n  const handleChange = (sortType: SortType | null) => {\n    props.onChange(sortType)\n    handleClose()\n  }\n  const {SortClass, LabelClass, DropdownMenuClass} = getClasses()\n  const t = useTranslations()\n\n  return (\n    <div class={SortClass}>\n      <IconButton icon=\"sort\" size=\"l\" colorMode=\"primaryInvert\" onClick={handleOpen} />\n      {isOpen() && (\n        <Dropdown.Menu class={DropdownMenuClass} onClickOutside={handleClose}>\n          <Dropdown.Item onClick={() => handleChange(null)} isSelected={!props.value}>\n            <Paragraph class={LabelClass} size=\"l\" colorMode=\"primary\">\n              {t.sortDownByRecommended()}\n            </Paragraph>\n          </Dropdown.Item>\n          <Dropdown.Item onClick={() => handleChange('up')} isSelected={props.value === 'up'}>\n            <Paragraph class={LabelClass} size=\"l\" colorMode=\"primary\">\n              {t.sortUpByPrice()}\n            </Paragraph>\n          </Dropdown.Item>\n          <Dropdown.Item onClick={() => handleChange('down')} isSelected={props.value === 'down'}>\n            <Paragraph class={LabelClass} size=\"l\" colorMode=\"primary\">\n              {t.sortDownByPrice()}\n            </Paragraph>\n          </Dropdown.Item>\n        </Dropdown.Menu>\n      )}\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {CardType} from '~/types/suggestions'\n\ninterface SuggestionsItemClassProps {\n  cardType: CardType\n}\n\nconst getLineClampStylesArg = (count: number) => ({\n  '-webkit-line-clamp': count /* number of lines to show */,\n  'line-clamp': count,\n})\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const CardClass = css({\n    background: theme.colors.fill.small,\n    border: `1px solid ${theme.colors.fill.small}`,\n    borderRadius: theme.borderRadius.s20,\n    padding: `${parseInt(theme.spacing.s8, 10) - 1}px`,\n    transition: `background-color ${theme.animation.transition},\n      border-color ${theme.animation.transition}`,\n    minHeight: '100%',\n    boxSizing: 'border-box',\n  })\n  const ImageContainerClass = css({\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    borderRadius: theme.borderRadius.s16,\n    overflow: 'hidden',\n    background: theme.colors.fill.primary,\n    boxSizing: 'border-box',\n  })\n  const TextOverflowClass = css({\n    display: '-webkit-box',\n    overflow: 'hidden',\n    overflowWrap: 'break-word',\n    wordBreak: 'break-word',\n    '-webkit-hyphens': 'auto',\n    '-moz-hyphens': 'auto',\n    '-ms-hyphens': 'auto',\n    '-webkit-box-orient': 'vertical',\n    hyphens: 'auto',\n  })\n  const PriceContainerClass = css({\n    display: 'grid',\n    alignItems: 'end',\n  })\n  const PriceInnerClass = css({\n    '& > *': {\n      display: 'inline-block',\n    },\n  })\n  const ContentClass = css({\n    boxSizing: 'border-box',\n    display: 'grid',\n    marginBottom: theme.spacing.s4,\n  })\n  // https://github.com/cristianbote/goober/issues/397\n  // goober may not work correctly, use dirty hack before migration from solid-styled-components (goober)\n  const NameClass = css(';;')\n  // https://github.com/cristianbote/goober/issues/397\n  // goober may not work correctly, use dirty hack before migration from solid-styled-components (goober)\n  const DescriptionClass = css(';;;')\n\n  return {\n    ImageContainerClass,\n    TextOverflowClass,\n    PriceContainerClass,\n    PriceInnerClass,\n    ContentClass,\n    NameClass,\n    DescriptionClass,\n    InfoClass: css({marginBottom: 'auto'}),\n    SuggestionItemClass: ({cardType}: SuggestionsItemClassProps) =>\n      css({\n        display: 'block',\n        textDecoration: 'none',\n\n        [`&:hover .${CardClass}`]: {\n          background: theme.colors.fill.medium,\n          borderColor: theme.colors.divider.primary,\n        },\n\n        [`& `]: {\n          ...(cardType === 'vertical' && {\n            [`.${NameClass}, .${DescriptionClass}`]: getLineClampStylesArg(2),\n            [`.${ImageContainerClass}`]: {\n              height: '200px',\n              padding: theme.spacing.s8,\n            },\n            [`.${CardClass}`]: {\n              display: 'grid',\n              gridTemplateRows: 'auto 1fr',\n            },\n            [`.${PriceContainerClass}`]: {\n              marginTop: theme.spacing.s12,\n            },\n            [`.${ContentClass}`]: {\n              marginTop: theme.spacing.s8,\n              padding: `0 ${theme.spacing.s4}`,\n              minHeight: '120px',\n            },\n          }),\n          ...(cardType === 'horizontal-s' && {\n            [`.${NameClass}`]: getLineClampStylesArg(2),\n            [`.${DescriptionClass}`]: getLineClampStylesArg(2),\n          }),\n          ...(cardType === 'horizontal-m' && {\n            [`.${NameClass}`]: getLineClampStylesArg(3),\n            [`.${DescriptionClass}`]: getLineClampStylesArg(3),\n          }),\n          ...(['horizontal-s', 'horizontal-m'].includes(cardType) && {\n            [`.${ImageContainerClass}`]: {\n              height: cardType === 'horizontal-s' ? '120px' : '160px',\n              width: '120px',\n              padding: theme.spacing.s6,\n            },\n            [`.${CardClass}`]: {\n              display: 'grid',\n              gridTemplateColumns: 'auto 1fr',\n              gap: theme.spacing.s12,\n            },\n            [`.${PriceContainerClass}`]: {\n              marginTop: theme.spacing.s12,\n            },\n            [`.${ContentClass}`]: {\n              height: '100%',\n              padding: `${theme.spacing.s4} ${theme.spacing.s6} 0 0`,\n            },\n          }),\n          ...(cardType === 'horizontal-l' && {\n            [`.${NameClass}`]: getLineClampStylesArg(3),\n            [`.${DescriptionClass}`]: getLineClampStylesArg(2),\n            [`.${ImageContainerClass}`]: {\n              height: '176px',\n              padding: theme.spacing.s12,\n            },\n            [`.${CardClass}`]: {\n              display: 'grid',\n              gridTemplateRows: 'auto 1fr',\n            },\n            [`.${PriceContainerClass}`]: {\n              marginTop: theme.spacing.s12,\n            },\n            [`.${ContentClass}`]: {\n              marginTop: theme.spacing.s12,\n              padding: `0 ${theme.spacing.s4}`,\n            },\n          }),\n        },\n      }),\n    NoPriceSuggestionsItemClass: ({cardType}: SuggestionsItemClassProps) =>\n      css({\n        ['& ']: {\n          [`.${NameClass}`]: getLineClampStylesArg(3),\n          [`.${ContentClass}`]: {\n            marginBottom: theme.spacing.s8,\n\n            ...(cardType === 'vertical' && {minHeight: 'auto'}),\n          },\n\n          ...(cardType === 'horizontal-m' && {\n            [`.${DescriptionClass}`]: getLineClampStylesArg(4),\n          }),\n          ...(['vertical', 'horizontal-l'].includes(cardType) && {\n            [`.${DescriptionClass}`]: getLineClampStylesArg(3),\n          }),\n        },\n      }),\n    CardClass,\n    ImageClass: css({\n      objectFit: 'contain',\n      maxHeight: '100%',\n      maxWidth: '100%',\n    }),\n    NewPriceClass: css({\n      color: theme.colors.accent.success,\n\n      ['&:not(:last-child)']: {\n        marginRight: theme.spacing.s4,\n      },\n    }),\n    OldPriceClass: css({\n      position: 'relative',\n\n      '&:after': {\n        content: '\"\"',\n        background: theme.colors.accent.error,\n        height: '1px',\n        width: '100%',\n        position: 'absolute',\n        left: '0',\n        top: '50%',\n        transform: 'translate(0, -50%)',\n      },\n    }),\n  }\n}\n","import {Image} from '~/components/image'\nimport {Caption} from '~/components/typography/caption'\nimport {Heading} from '~/components/typography/heading'\nimport {Paragraph} from '~/components/typography/paragraph'\nimport {sanitizeText} from '~/helpers/sanitizeText'\nimport {type Component} from 'solid-js'\n\nimport type {CardType} from '~/types/suggestions'\n\nimport {getClasses} from './suggestionItem.styles'\n\ninterface SuggestionItemProps {\n  link: string\n  name: string\n  image: string\n  description?: string\n  price: string\n  oldPrice?: string\n  cardType: CardType\n  onClick(): void\n}\nexport const SuggestionItem: Component<SuggestionItemProps> = props => {\n  const {\n    SuggestionItemClass,\n    NoPriceSuggestionsItemClass,\n    NameClass,\n    DescriptionClass,\n    CardClass,\n    ImageContainerClass,\n    TextOverflowClass,\n    ImageClass,\n    InfoClass,\n    ContentClass,\n    PriceContainerClass,\n    PriceInnerClass,\n    NewPriceClass,\n    OldPriceClass,\n  } = getClasses()\n\n  return (\n    <a\n      classList={{\n        [SuggestionItemClass({cardType: props.cardType})]: true,\n        [NoPriceSuggestionsItemClass({cardType: props.cardType})]: !props.price,\n      }}\n      href={props.link}\n      title={props.name}\n      target=\"_blank\"\n      onClick={props.onClick}>\n      <div class={CardClass}>\n        <div class={ImageContainerClass}>\n          <Image class={ImageClass} src={props.image} title={props.name} />\n        </div>\n        <div class={ContentClass}>\n          <div class={InfoClass}>\n            <Heading\n              classList={{[TextOverflowClass]: true, [NameClass]: true}}\n              size=\"s\"\n              colorMode=\"primary\"\n              innerHTML={sanitizeText(props.name)}\n            />\n            {props.description && (\n              <Paragraph\n                classList={{[TextOverflowClass]: true, [DescriptionClass]: true}}\n                size=\"l\"\n                colorMode=\"secondary\"\n                innerHTML={sanitizeText(props.description)}\n              />\n            )}\n          </div>\n          {props.price ? (\n            <div class={PriceContainerClass}>\n              <div class={PriceInnerClass}>\n                <Heading\n                  size=\"s\"\n                  colorMode=\"primary\"\n                  classList={{[NewPriceClass]: Boolean(props.oldPrice)}}\n                  innerHTML={sanitizeText(props.price)}\n                />\n                {props.oldPrice && (\n                  <Caption\n                    class={OldPriceClass}\n                    size=\"s\"\n                    colorMode=\"secondary\"\n                    innerHTML={sanitizeText(props.oldPrice)}\n                  />\n                )}\n              </div>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </a>\n  )\n}\n","export type Size = 's' | 'm'\nexport enum GridType {\n  ONE_COLUMN = 'one-column',\n  TWO_COLUMNS = 'two-columns',\n  MIN_160PX_COLUMNS = 'min-160px-columns',\n}\n","import {useViewSettings} from '~/contexts/viewSettings'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport {GridType} from './types'\n\ninterface WithListSizeProps {\n  gridType: GridType\n}\n\nexport const getClasses = () => {\n  const {isCompact} = useViewSettings()\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    TitleClass: css({\n      textAlign: 'center',\n    }),\n    CountClass: css({\n      marginTop: theme.spacing.s2,\n      textAlign: 'center',\n    }),\n    ItemsClass: ({gridType}: WithListSizeProps) =>\n      css({\n        paddingTop: theme.spacing.s8,\n        gap: theme.spacing.s6,\n        display: 'grid',\n\n        ...(gridType === GridType.TWO_COLUMNS && {\n          gridTemplateColumns: '1fr 1fr',\n        }),\n        ...(gridType === GridType.MIN_160PX_COLUMNS && {\n          gridTemplateColumns: 'repeat(auto-fill, minmax(160px, 1fr))',\n        }),\n      }),\n    BottomClass: css({\n      ...(isCompact()\n        ? {\n            paddingTop: theme.spacing.s16,\n            paddingBottom: theme.spacing.s16,\n          }\n        : {\n            paddingTop: theme.spacing.s16,\n            paddingBottom: theme.spacing.s32,\n          }),\n    }),\n  }\n}\n","import {IconButton} from '~/components/iconButton'\nimport {Sheet} from '~/components/sheet'\nimport {Sort} from '~/components/sort'\nimport {SuggestionItem} from '~/components/suggestionItem'\nimport {Caption} from '~/components/typography/caption'\nimport {Heading} from '~/components/typography/heading'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {createMemo, For, mergeProps} from 'solid-js'\n\nimport type {IconType} from '~/components/icon/icon'\nimport type {SortType} from '~/components/sort/sort'\nimport type {Item} from '~/types/items'\nimport type {CardType} from '~/types/suggestions'\nimport type {Component, JSX} from 'solid-js'\n\nimport type {Size} from './types'\n\nimport {getClasses} from './list.styles'\nimport {GridType} from './types'\n\ninterface ListProps {\n  size: Size\n  cardType: CardType\n  suggestions: Item[]\n  closeIcon?: IconType\n  sortType?: SortType | null\n  bottom?: JSX.Element\n  headerClass?: string\n  getSuggestionsCountText(count: number): string\n  title: string\n  onSort?(sortType: SortType | null): void\n  onClose?(): void\n  onGoToItemPage(item: Item): void\n}\nexport const List: Component<ListProps> = props => {\n  const gridType = (): GridType =>\n    props.cardType === 'vertical'\n      ? GridType.MIN_160PX_COLUMNS\n      : props.size === 'm'\n        ? GridType.TWO_COLUMNS\n        : GridType.ONE_COLUMN\n  const {isCompact} = useViewSettings()\n  const mergedProps = mergeProps({closeIcon: 'cross' as const, sortType: null}, props)\n  const sortedSuggestions = createMemo(() => {\n    if (!mergedProps.sortType) {\n      return mergedProps.suggestions\n    }\n\n    return [...mergedProps.suggestions].sort((itemA, itemB) => {\n      const result = itemB.price_raw - itemA.price_raw\n\n      if (mergedProps.sortType === 'down') {\n        return result\n      }\n\n      return -1 * result\n    })\n  })\n  const {CountClass, ItemsClass, TitleClass, BottomClass} = getClasses()\n\n  return (\n    <>\n      <Sheet.Header\n        class={mergedProps.headerClass}\n        left={mergedProps.onSort ? <Sort value={mergedProps.sortType} onChange={mergedProps.onSort} /> : undefined}\n        right={\n          mergedProps.onClose ? (\n            <IconButton icon={mergedProps.closeIcon} size=\"l\" colorMode=\"primaryInvert\" onClick={mergedProps.onClose} />\n          ) : undefined\n        }\n        center={\n          <div>\n            <Heading class={TitleClass} size=\"s\" colorMode=\"primary\">\n              {mergedProps.title}\n            </Heading>\n            <Caption class={CountClass} size=\"m\" colorMode=\"secondary\">\n              {mergedProps.getSuggestionsCountText(sortedSuggestions().length)}\n            </Caption>\n          </div>\n        }\n      />\n      <Sheet.Content>\n        <div class={ItemsClass({gridType: gridType()})}>\n          <For each={sortedSuggestions()}>\n            {suggestionItem => (\n              <SuggestionItem\n                image={suggestionItem.image}\n                cardType={props.cardType}\n                link={suggestionItem.link}\n                name={suggestionItem.name}\n                description={suggestionItem.description}\n                oldPrice={suggestionItem.old_price}\n                price={suggestionItem.price}\n                onClick={() => mergedProps.onGoToItemPage(suggestionItem)}\n              />\n            )}\n          </For>\n        </div>\n      </Sheet.Content>\n      {mergedProps.bottom && (\n        <Sheet.Bottom class={BottomClass} overlayMode={isCompact() ? 'fullheight' : 'cutted'}>\n          {mergedProps.bottom}\n        </Sheet.Bottom>\n      )}\n    </>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nimport type {PreloaderSize} from './types'\n\ninterface ContentClassProps {\n  size: PreloaderSize\n}\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContentClass: ({size}: ContentClassProps) =>\n      css({\n        minHeight: '100%',\n        boxSizing: 'border-box',\n        padding: theme.spacing.s12,\n\n        ...(size === 's' && {paddingTop: '92px'}),\n        ...(size === 'm' && {paddingTop: '200px'}),\n      }),\n    CaptionClass: css({\n      textAlign: 'center',\n    }),\n    IconClass: css({\n      margin: '122px auto 0',\n    }),\n  }\n}\n","import {IconButton} from '~/components/iconButton'\nimport {Preloader as BasePreloader} from '~/components/preloader'\nimport {Sheet} from '~/components/sheet'\nimport {Caption} from '~/components/typography/caption'\nimport {useTranslations} from '~/helpers/useTranslations'\n\nimport type {Component} from 'solid-js'\n\nimport type {PreloaderSize} from './types'\n\nimport {getClasses} from './preloader.styles'\n\ninterface PreloaderProps {\n  size: PreloaderSize\n  onClose?(): void\n}\nexport const Preloader: Component<PreloaderProps> = props => {\n  const {ContentClass, CaptionClass, IconClass} = getClasses()\n  const t = useTranslations()\n\n  return (\n    <>\n      {props.onClose && (\n        <Sheet.SingleControl>\n          <IconButton icon=\"cross\" size=\"l\" colorMode=\"primaryInvert\" onClick={props.onClose} />\n        </Sheet.SingleControl>\n      )}\n      <Sheet.Content>\n        <div class={ContentClass({size: props.size})}>\n          <Caption class={CaptionClass} size=\"s\" colorMode=\"secondary\">\n            {t.prepareTheFinalSuggestions()}\n          </Caption>\n          <BasePreloader class={IconClass} />\n        </div>\n      </Sheet.Content>\n    </>\n  )\n}\n","import {Empty} from './components/empty'\nimport {List} from './components/list'\nimport {Preloader} from './components/preloader'\n\nexport const SuggestionsSheet = {\n  List,\n  Preloader,\n  Empty,\n}\n","import type {StylesArg} from 'solid-styled-components'\n\nexport const buildMMobileStyles = <Arg extends StylesArg>(stylesArg: Arg) => {\n  return {\n    '@media (min-width: 360px)': stylesArg,\n  }\n}\n","import {buildMMobileStyles} from '~/helpers/mobile'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    BodyClass: css({\n      marginTop: theme.spacing.s16,\n\n      ...buildMMobileStyles({\n        marginTop: theme.spacing.s24,\n      }),\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './body.styles'\n\ninterface BodyProps {\n  class?: string\n}\nexport const Body: ParentComponent<BodyProps> = props => {\n  const {BodyClass} = getClasses()\n\n  return <div classList={{[BodyClass]: true, ...(props.class && {[props.class]: true})}}>{props.children}</div>\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    FooterClass: css({\n      marginTop: theme.spacing.s12,\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './footer.styles'\n\ninterface FooterProps {\n  class?: string\n}\nexport const Footer: ParentComponent<FooterProps> = props => {\n  const {FooterClass} = getClasses()\n\n  return <div classList={{[FooterClass]: true, ...(props.class && {[props.class]: true})}}>{props.children}</div>\n}\n","import type {ParentComponent} from 'solid-js'\n\nexport const Header: ParentComponent = props => {\n  return <div>{props.children}</div>\n}\n","import {Body} from './components/body'\nimport {Footer} from './components/footer'\nimport {Header} from './components/header'\n\nexport const Dialog = {\n  Header,\n  Body,\n  Footer,\n}\n","import {buildMMobileStyles} from '~/helpers/mobile'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    FooterClass: ({hasSkipButton}: {hasSkipButton: boolean}) =>\n      css({\n        display: 'grid',\n        gap: theme.spacing.s6,\n        gridTemplateColumns: '1fr',\n\n        ...buildMMobileStyles({\n          ...(hasSkipButton && {gridTemplateColumns: '1fr 1fr'}),\n        }),\n      }),\n    SkipButtonClass: css({\n      ...buildMMobileStyles({\n        order: -1,\n      }),\n    }),\n    CheckboxesFieldsClass: css({\n      marginTop: theme.spacing.s12,\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {Dialog} from '~/components/dialog'\nimport {LeadForm as BaseLeadForm} from '~/components/leadForm'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {type Component} from 'solid-js'\n\nimport type {Values} from '~/components/leadForm/types'\nimport type {PaywallStore} from '~/stores/paywall'\n\nimport {getClasses} from './leadForm.styles'\n\ninterface LeadFormProps {\n  paywallExp: string\n  paywall: PaywallStore\n  onSkip?(): void\n  onSubmit(values: Values): void\n}\nexport const LeadForm: Component<LeadFormProps> = props => {\n  const {FooterClass, SkipButtonClass, CheckboxesFieldsClass} = getClasses()\n  const t = useTranslations()\n\n  return (\n    <BaseLeadForm.Form paywall={props.paywall} paywallExp={props.paywallExp} onSubmit={props.onSubmit}>\n      <Dialog.Body>\n        <BaseLeadForm.Fields phoneCountries={props.paywall.phoneCountries} />\n      </Dialog.Body>\n      <Dialog.Footer class={FooterClass({hasSkipButton: Boolean(props.onSkip)})}>\n        <Button size=\"m\" colorMode=\"primary\" fullWidth type=\"submit\">\n          {t.accept()}\n        </Button>\n        {props.onSkip && (\n          <Button class={SkipButtonClass} size=\"m\" colorMode=\"secondary\" fullWidth type=\"submit\" onClick={props.onSkip}>\n            {t.skip()}\n          </Button>\n        )}\n      </Dialog.Footer>\n      <BaseLeadForm.CheckboxesFields class={CheckboxesFieldsClass} />\n    </BaseLeadForm.Form>\n  )\n}\n","import {buildMMobileStyles} from '~/helpers/mobile'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    TitleClass: css({\n      textAlign: 'center',\n    }),\n    TitleMClass: css({\n      display: 'none',\n\n      ...buildMMobileStyles({display: 'block'}),\n    }),\n    TitleSClass: css({\n      ...buildMMobileStyles({display: 'none'}),\n    }),\n    DescriptionClass: css({\n      marginTop: theme.spacing.s12,\n      textAlign: 'center',\n    }),\n  }\n}\n","import {useViewSettings} from '~/contexts/viewSettings'\nimport {buildMMobileStyles} from '~/helpers/mobile'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {isCompact} = useViewSettings()\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    PopupClass: css({\n      background: theme.colors.fill.primary,\n      borderRadius: theme.borderRadius.s32,\n      boxShadow: theme.shadows.boxShadow,\n      boxSizing: 'border-box',\n      width: '446px',\n\n      ...(isCompact()\n        ? {\n            maxWidth: '100%',\n            padding: theme.spacing.s16,\n\n            ...buildMMobileStyles({\n              padding: theme.spacing.s24,\n            }),\n          }\n        : {\n            padding: theme.spacing.s40,\n          }),\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './popup.styles'\n\nexport const Popup: ParentComponent = props => {\n  const {PopupClass} = getClasses()\n\n  return (\n    <div class={PopupClass} inert={false}>\n      {props.children}\n    </div>\n  )\n}\n","import {Dialog} from '~/components/dialog'\nimport {Caption} from '~/components/typography/caption'\nimport {Heading} from '~/components/typography/heading'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {LeadForm} from '~/widgets/twoSides/components/leadForm'\n\nimport type {Values} from '~/components/leadForm/types'\nimport type {PaywallStore} from '~/stores/paywall'\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './leadCollector.styles'\nimport {Popup} from './popup'\n\ninterface LeadCollectorProps {\n  title: string\n  description: string\n  paywallExp: string\n  paywall: PaywallStore\n  onSkip?(): void\n  onClose(): void\n  onSubmit(values: Values): void\n}\nexport const LeadCollector: Component<LeadCollectorProps> = props => {\n  const {TitleClass, TitleMClass, TitleSClass, DescriptionClass} = getClasses()\n  const t = useTranslations()\n  const inputYourLeadData = () =>\n    props.title ||\n    (props.paywallExp === 'optional' ? t.inputYourLeadDataAndGetOffers() : t.inputYourLeadDataAndSeeSuggestions())\n  const handleSubmit = (values: Values) => {\n    props.onSubmit(values)\n    props.onClose()\n  }\n\n  return (\n    <Popup>\n      <Dialog.Header>\n        <Heading\n          classList={{[TitleClass]: true, [TitleMClass]: true}}\n          size=\"m\"\n          colorMode=\"primary\"\n          innerHTML={sanitizeText(inputYourLeadData())}\n        />\n        <Heading\n          classList={{[TitleClass]: true, [TitleSClass]: true}}\n          size=\"s\"\n          colorMode=\"primary\"\n          innerHTML={sanitizeText(inputYourLeadData())}\n        />\n      </Dialog.Header>\n      {props.description && (\n        <Caption\n          class={DescriptionClass}\n          size=\"m\"\n          colorMode=\"secondary\"\n          innerHTML={parseMarkdownText(props.description)}\n        />\n      )}\n      <LeadForm paywall={props.paywall} paywallExp={props.paywallExp} onSkip={props.onSkip} onSubmit={handleSubmit} />\n    </Popup>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      background: theme.colors.fill.primary,\n    }),\n    LeadCollectorContainerClass: css({\n      position: 'absolute',\n      display: 'flex',\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      alignItems: 'center',\n      justifyContent: 'center',\n      padding: theme.spacing.s12,\n      zIndex: 2,\n      pointerEvents: 'none',\n\n      '& > *': {\n        pointerEvents: 'all',\n      },\n    }),\n  }\n}\n","import {Sheet} from '~/components/sheet'\nimport {SuggestionsSheet} from '~/components/suggestionsSheet'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {experimentsStore} from '~/stores/experiments'\nimport {quizStore} from '~/stores/quiz'\nimport {createSignal, Show} from 'solid-js'\n\nimport type {SortType} from '~/components/sort/sort'\nimport type {PaywallStore} from '~/stores/paywall'\nimport type {Item} from '~/types/items'\nimport type {CardType} from '~/types/suggestions'\nimport type {Component, JSX} from 'solid-js'\n\nimport {LeadCollector} from '../leadCollector'\nimport {getClasses} from './matcherFinalSheet.styles'\n\ninterface MatcherFinalSheetProps {\n  size: 's' | 'm'\n  suggestions: Item[]\n  isLoading: boolean\n  cardType: CardType\n  paywall: PaywallStore\n  paywallExp: string\n  isLeadCollectorOpen: boolean\n  getSuggestionsCountText(count: number): string\n  renderRestartButton(): JSX.Element\n  onLeadCollectorClose(): void\n  onClose?(): void\n  onRestart(): void\n  onGoToItemPage(item: Item): void\n  onSkipPaywall(): void\n  onSavePaywall({name, email, phone}: {name?: string; email?: string; phone?: string}): void\n}\nexport const MatcherFinalSheet: Component<MatcherFinalSheetProps> = props => {\n  const {ContainerClass, LeadCollectorContainerClass} = getClasses()\n  const [sortType, setSortType] = createSignal<SortType | null>(null)\n  const handleSkipLeadCollector = () => {\n    props.onLeadCollectorClose()\n    props.onSkipPaywall()\n  }\n  const t = useTranslations()\n\n  return (\n    <Show\n      when={!props.isLoading}\n      fallback={\n        <Sheet.Container size={props.size} class={ContainerClass}>\n          <SuggestionsSheet.Preloader onClose={props.onClose} size={props.size} />\n        </Sheet.Container>\n      }>\n      <Show\n        when={props.suggestions.length}\n        fallback={\n          <Sheet.Container size={props.size} class={ContainerClass}>\n            <SuggestionsSheet.Empty onClose={props.onClose} onRestart={props.onRestart} />\n          </Sheet.Container>\n        }>\n        <Sheet.Container\n          size={props.size}\n          class={ContainerClass}\n          overlayType={\n            props.isLeadCollectorOpen\n              ? props.paywallExp === 'required'\n                ? 'content'\n                : props.paywallExp === 'optional'\n                  ? 'fullheight'\n                  : undefined\n              : undefined\n          }>\n          <SuggestionsSheet.List\n            cardType={props.cardType}\n            size={props.size}\n            getSuggestionsCountText={props.getSuggestionsCountText}\n            title={t.suggestedForYou()}\n            suggestions={props.suggestions}\n            sortType={sortType()}\n            onSort={\n              experimentsStore.computed.features.disableSorting ||\n              (props.isLeadCollectorOpen && props.paywallExp === 'required')\n                ? undefined\n                : setSortType\n            }\n            bottom={!props.isLeadCollectorOpen && props.renderRestartButton()}\n            onClose={props.onClose}\n            onGoToItemPage={props.onGoToItemPage}\n          />\n        </Sheet.Container>\n        {props.isLeadCollectorOpen && (\n          <div class={LeadCollectorContainerClass}>\n            <LeadCollector\n              title={quizStore.store()?.lead.title || ''}\n              description={quizStore.store()?.lead.description || ''}\n              paywallExp={props.paywallExp}\n              paywall={props.paywall}\n              onSubmit={props.onSavePaywall}\n              onClose={props.onLeadCollectorClose}\n              onSkip={props.paywallExp === 'optional' ? handleSkipLeadCollector : undefined}\n            />\n          </div>\n        )}\n      </Show>\n    </Show>\n  )\n}\n","import {useAppContext} from '~/contexts/app'\nimport {actionClosePaywall, actionCollapse} from '~/helpers/actions'\nimport {isLeadCollectingRequired} from '~/helpers/paywall'\nimport {experimentsStore} from '~/stores/experiments'\nimport {previewStore} from '~/stores/preview'\nimport {screenStore} from '~/stores/screen'\nimport {createSignal} from 'solid-js'\n\nimport type {PaywallStore} from '~/stores/paywall'\n\nexport const useCloseFinal = () => {\n  const {forceShow, destroy} = useAppContext()\n\n  return (isLeadCollectorOpen?: boolean) => {\n    previewStore.actions.reset()\n\n    if (isLeadCollectorOpen) {\n      actionClosePaywall()\n    } else {\n      actionCollapse()\n    }\n\n    if (forceShow) {\n      screenStore.actions.reset()\n      if (!experimentsStore.actions.isFeature('useInlineStartQuestion')) {\n        destroy()\n      }\n    } else {\n      screenStore.actions.goMinimal()\n    }\n  }\n}\n\nexport const useIsLeadCollectorOpen = (paywall: PaywallStore) => {\n  const [isLeadCollectorOpen, setIsLeadCollectorOpen] = createSignal(isLeadCollectingRequired(paywall))\n\n  return {isLeadCollectorOpen, onLeadCollectorClose: () => setIsLeadCollectorOpen(false)}\n}\n","import {Button} from '~/components/button'\nimport {InlineLayout} from '~/components/layouts/common/inline'\nimport {PopupLayout} from '~/components/layouts/desktop/popup'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {actionSavePaywall, actionSkipPaywall} from '~/helpers/actions'\nimport {goRestart} from '~/helpers/step/goRestart'\nimport {goToItemPage} from '~/helpers/step/utils'\nimport {getSuggestionCardType, getSuggestionsCountText} from '~/helpers/suggestions'\nimport {trackComplete} from '~/helpers/trackComplete'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {experimentsStore} from '~/stores/experiments'\nimport {matcherCompleteStore} from '~/stores/matcherComplete'\nimport {paywallStore} from '~/stores/paywall'\nimport {Popup} from '~/widgets/twoSides/components/popup'\nimport {createEffect, onCleanup, onMount} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Item} from '~/types/items'\nimport type {Component} from 'solid-js'\n\nimport {MatcherFinalSheet} from '../../components/matcherFinalSheet'\nimport {useCloseFinal, useIsLeadCollectorOpen} from '../../helpers'\n\nexport const MatcherFinalScreen: Component = () => {\n  let hasMounted = false\n  const closeFinal = useCloseFinal()\n  const {onLeadCollectorClose, isLeadCollectorOpen} = useIsLeadCollectorOpen(paywallStore.store)\n  const handleClose = () => {\n    closeFinal(isLeadCollectorOpen())\n  }\n  const goToItemPageFromFinal = (item: Item) => goToItemPage(item, matcherCompleteStore.store.data().items, 'final')\n  const {isInline} = useViewSettings()\n  const t = useTranslations()\n\n  onMount(() => {\n    hasMounted = true\n    matcherCompleteStore.actions.fetch()\n  })\n\n  createEffect(() => {\n    if (!hasMounted) {\n      return\n    }\n\n    trackComplete(matcherCompleteStore)\n  })\n\n  onCleanup(() => {\n    matcherCompleteStore.actions.reset()\n  })\n\n  return (\n    <Dynamic component={isInline() ? InlineLayout : PopupLayout} onClose={handleClose}>\n      <Popup>\n        <MatcherFinalSheet\n          cardType={getSuggestionCardType()}\n          size=\"m\"\n          getSuggestionsCountText={getSuggestionsCountText}\n          isLoading={matcherCompleteStore.store.resource.loading}\n          suggestions={matcherCompleteStore.store.data().items}\n          paywall={paywallStore.store}\n          paywallExp={experimentsStore.actions.get('paywall')}\n          renderRestartButton={() => (\n            <Button icon=\"refresh\" size=\"m\" colorMode=\"primary\" onClick={goRestart}>\n              {t.restartQuiz()}\n            </Button>\n          )}\n          isLeadCollectorOpen={isLeadCollectorOpen()}\n          onLeadCollectorClose={onLeadCollectorClose}\n          onClose={isInline() ? undefined : handleClose}\n          onRestart={goRestart}\n          onGoToItemPage={goToItemPageFromFinal}\n          onSavePaywall={actionSavePaywall}\n          onSkipPaywall={actionSkipPaywall}\n        />\n      </Popup>\n    </Dynamic>\n  )\n}\n","import {quizStore} from '~/stores/quiz'\nimport {Match, Switch} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport {LeadgenFinalScreen} from './quizTypes/leadgen'\nimport {MatcherFinalScreen} from './quizTypes/matcher'\n\nexport const FinalScreen: Component = () => {\n  return (\n    <Switch>\n      <Match when={quizStore.computed.widgetType.isSuggestions}>\n        <MatcherFinalScreen />\n      </Match>\n      <Match when={quizStore.computed.widgetType.isLeadgen}>\n        <LeadgenFinalScreen />\n      </Match>\n    </Switch>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const theme = useTheme()\n  const {css} = useStyledUtils()\n\n  return {\n    FixedHeightLayoutClass: css({\n      minHeight: '600px',\n      position: 'relative',\n      display: 'grid',\n      background: theme.colors.fill.primary,\n    }),\n  }\n}\n","import type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './fixedHeight.styles'\n\nexport const FixedHeightLayout: ParentComponent = props => {\n  const {FixedHeightLayoutClass} = getClasses()\n\n  return <div class={FixedHeightLayoutClass}>{props.children}</div>\n}\n","import {useAppContext} from '~/contexts/app'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const isInInapp = useAppContext().isInInapp\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    InnerClass: css({\n      overflow: 'auto',\n      width: '100%',\n      height: '100%',\n      background: theme.colors.fill.primary,\n      position: 'relative',\n      ...(isInInapp && {\n        boxSizing: 'border-box',\n        paddingTop: 'max(env(safe-area-inset-top, 0px), var(--safe-area-inset-top, 0px))',\n        paddingBottom: 'max(env(safe-area-inset-bottom, 0px), var(--safe-area-inset-bottom, 0px))',\n        paddingLeft: 'max(env(safe-area-inset-left, 0px), var(--safe-area-inset-left, 0px))',\n        paddingRight: 'max(env(safe-area-inset-right, 0px), var(--safe-area-inset-right, 0px))',\n      }),\n    }),\n  }\n}\n","import {FullscreenPositioner} from '~/components/fullscreenPositioner'\nimport {type ParentComponent} from 'solid-js'\n\nimport {getClasses} from './fullscreen.styles'\n\nexport const FullscreenLayout: ParentComponent = props => {\n  const {InnerClass} = getClasses()\n\n  return (\n    <FullscreenPositioner>\n      <div class={InnerClass}>{props.children}</div>\n    </FullscreenPositioner>\n  )\n}\n","import {FixedHeightLayout} from '~/components/layouts/mobile/fixedHeight'\nimport {FullscreenLayout} from '~/components/layouts/mobile/fullscreen'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {trackComplete} from '~/helpers/trackComplete'\nimport {useClose} from '~/helpers/useClose'\nimport {surveyCompleteStore} from '~/stores/surveyComplete'\nimport {createEffect, onCleanup, onMount} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Component} from 'solid-js'\n\nimport {LeadgenFinalSheet} from '../../components/leadgenFinalSheet/leadgenFinalSheet'\n\nexport const LeadgenFinalScreen: Component = () => {\n  let hasMounted = false\n  const {isInline} = useViewSettings()\n  const closeWidget = useClose()\n\n  onMount(() => {\n    hasMounted = true\n    surveyCompleteStore.actions.fetch()\n  })\n\n  createEffect(() => {\n    if (!hasMounted) {\n      return\n    }\n\n    trackComplete(surveyCompleteStore)\n  })\n\n  onCleanup(() => {\n    surveyCompleteStore.actions.reset()\n  })\n\n  return (\n    <Dynamic component={isInline() ? FixedHeightLayout : FullscreenLayout}>\n      <LeadgenFinalSheet\n        onClose={isInline() ? undefined : closeWidget}\n        size=\"s\"\n        isLoading={surveyCompleteStore.store.resource.loading}\n        finalScreenData={{\n          data: surveyCompleteStore.store.data(),\n          error: surveyCompleteStore.store.resource.error,\n        }}\n      />\n    </Dynamic>\n  )\n}\n","import {Button} from '~/components/button'\nimport {FixedHeightLayout} from '~/components/layouts/mobile/fixedHeight'\nimport {FullscreenLayout} from '~/components/layouts/mobile/fullscreen'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {actionSavePaywall, actionSkipPaywall} from '~/helpers/actions'\nimport {goRestart} from '~/helpers/step/goRestart'\nimport {goToItemPage} from '~/helpers/step/utils'\nimport {getSuggestionCardType, getSuggestionsCountText} from '~/helpers/suggestions'\nimport {trackComplete} from '~/helpers/trackComplete'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {experimentsStore} from '~/stores/experiments'\nimport {matcherCompleteStore} from '~/stores/matcherComplete'\nimport {paywallStore} from '~/stores/paywall'\nimport {createEffect, onCleanup, onMount} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Item} from '~/types/items'\nimport type {Component} from 'solid-js'\n\nimport {MatcherFinalSheet} from '../../components/matcherFinalSheet'\nimport {useCloseFinal, useIsLeadCollectorOpen} from '../../helpers'\n\nexport const MatcherFinalScreen: Component = () => {\n  const closeFinal = useCloseFinal()\n  let hasMounted = false\n  const {onLeadCollectorClose, isLeadCollectorOpen} = useIsLeadCollectorOpen(paywallStore.store)\n  const handleClose = () => {\n    closeFinal(isLeadCollectorOpen())\n  }\n  const goToItemPageFromFinal = (item: Item) => goToItemPage(item, matcherCompleteStore.store.data().items, 'final')\n  const {isInline} = useViewSettings()\n  const t = useTranslations()\n\n  onMount(() => {\n    hasMounted = true\n    matcherCompleteStore.actions.fetch()\n  })\n\n  createEffect(() => {\n    if (!hasMounted) {\n      return\n    }\n\n    trackComplete(matcherCompleteStore)\n  })\n\n  onCleanup(() => {\n    matcherCompleteStore.actions.reset()\n  })\n\n  return (\n    <Dynamic component={isInline() ? FixedHeightLayout : FullscreenLayout}>\n      <MatcherFinalSheet\n        cardType={getSuggestionCardType()}\n        size=\"s\"\n        isLoading={matcherCompleteStore.store.resource.loading}\n        getSuggestionsCountText={getSuggestionsCountText}\n        suggestions={matcherCompleteStore.store.data().items}\n        paywall={paywallStore.store}\n        paywallExp={experimentsStore.actions.get('paywall')}\n        renderRestartButton={() => (\n          <Button icon=\"refresh\" size=\"s\" colorMode=\"primary\" onClick={goRestart}>\n            {t.restartQuiz()}\n          </Button>\n        )}\n        isLeadCollectorOpen={isLeadCollectorOpen()}\n        onLeadCollectorClose={onLeadCollectorClose}\n        onClose={isInline() ? undefined : handleClose}\n        onRestart={goRestart}\n        onGoToItemPage={goToItemPageFromFinal}\n        onSavePaywall={actionSavePaywall}\n        onSkipPaywall={actionSkipPaywall}\n      />\n    </Dynamic>\n  )\n}\n","import {quizStore} from '~/stores/quiz'\nimport {Match, Switch} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport {LeadgenFinalScreen} from './quizTypes/leadgen'\nimport {MatcherFinalScreen} from './quizTypes/matcher'\n\nexport const FinalScreen: Component = () => {\n  return (\n    <Switch>\n      <Match when={quizStore.computed.widgetType.isSuggestions}>\n        <MatcherFinalScreen />\n      </Match>\n      <Match when={quizStore.computed.widgetType.isLeadgen}>\n        <LeadgenFinalScreen />\n      </Match>\n    </Switch>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    DialogContainerClass: css({\n      width: '400px',\n      maxWidth: '100%',\n    }),\n    SheetContentClass: css({\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      overflow: 'auto',\n    }),\n    DescriptionClass: css({\n      marginTop: theme.spacing.s12,\n      textAlign: 'center',\n    }),\n  }\n}\n","import {Dialog} from '~/components/dialog'\nimport {Sheet} from '~/components/sheet'\nimport {Caption} from '~/components/typography/caption'\nimport {Heading} from '~/components/typography/heading'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {paywallStore} from '~/stores/paywall'\nimport {LeadForm} from '~/widgets/twoSides/components/leadForm'\n\nimport type {Values} from '~/components/leadForm/types'\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './leadSheet.styles'\n\ninterface LeadSheetProps {\n  title: string\n  description: string\n  paywallExp: string\n  onSubmit(values: Values): void\n  onSkip?(): void\n}\nexport const LeadSheet: Component<LeadSheetProps> = props => {\n  const {DialogContainerClass, SheetContentClass, DescriptionClass} = getClasses()\n  const t = useTranslations()\n\n  return (\n    <Sheet.Content class={SheetContentClass}>\n      <div class={DialogContainerClass}>\n        <Dialog.Header>\n          <Heading\n            size=\"m\"\n            colorMode=\"primary\"\n            textAlign=\"center\"\n            innerHTML={sanitizeText(props.title || t.inputYourLeadDataAndGetOffers())}\n          />\n        </Dialog.Header>\n        {props.description && (\n          <Caption\n            class={DescriptionClass}\n            size=\"m\"\n            colorMode=\"secondary\"\n            innerHTML={parseMarkdownText(props.description)}\n          />\n        )}\n        <LeadForm\n          paywall={paywallStore.store}\n          paywallExp={props.paywallExp}\n          onSubmit={props.onSubmit}\n          onSkip={props.onSkip}\n        />\n      </div>\n    </Sheet.Content>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      background: theme.colors.fill.primary,\n    }),\n  }\n}\n","import {IconButton} from '~/components/iconButton'\nimport {InlineLayout} from '~/components/layouts/common/inline'\nimport {PopupLayout} from '~/components/layouts/desktop/popup'\nimport {Sheet} from '~/components/sheet'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {actionSavePaywall} from '~/helpers/actions'\nimport {useClose} from '~/helpers/useClose'\nimport {experimentsStore} from '~/stores/experiments'\nimport {quizStore} from '~/stores/quiz'\nimport {screenStore} from '~/stores/screen'\nimport {Popup} from '~/widgets/twoSides/components/popup'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Values} from '~/components/leadForm/types'\nimport type {Component} from 'solid-js'\n\nimport {LeadSheet} from '../components/leadSheet'\nimport {getClasses} from './lead.styles'\n\nexport const LeadScreen: Component = () => {\n  const {ContainerClass} = getClasses()\n  const paywallExp = () => experimentsStore.actions.get('paywall')\n  const isOptional = () => paywallExp() === 'optional'\n  const handleSubmit = (values: Values) => {\n    actionSavePaywall(values)\n    screenStore.actions.goFinal()\n  }\n  const {isInline} = useViewSettings()\n  const closeWidget = useClose()\n\n  return (\n    <Dynamic component={isInline() ? InlineLayout : PopupLayout} onClose={closeWidget}>\n      <Popup>\n        <Sheet.Container class={ContainerClass} size=\"m\">\n          {!isInline() && (\n            <Sheet.SingleControl>\n              <IconButton icon=\"cross\" size=\"l\" colorMode=\"primaryInvert\" onClick={closeWidget} />\n            </Sheet.SingleControl>\n          )}\n          <LeadSheet\n            title={quizStore.store()?.lead.title || ''}\n            description={quizStore.store()?.lead.description || ''}\n            paywallExp={paywallExp()}\n            onSubmit={handleSubmit}\n            onSkip={isOptional() ? screenStore.actions.goFinal : undefined}\n          />\n        </Sheet.Container>\n      </Popup>\n    </Dynamic>\n  )\n}\n","import {IconButton} from '~/components/iconButton'\nimport {FixedHeightLayout} from '~/components/layouts/mobile/fixedHeight'\nimport {FullscreenLayout} from '~/components/layouts/mobile/fullscreen'\nimport {Sheet} from '~/components/sheet'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {actionSavePaywall} from '~/helpers/actions'\nimport {useClose} from '~/helpers/useClose'\nimport {experimentsStore} from '~/stores/experiments'\nimport {quizStore} from '~/stores/quiz'\nimport {screenStore} from '~/stores/screen'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Values} from '~/components/leadForm/types'\nimport type {Component} from 'solid-js'\n\nimport {LeadSheet} from '../components/leadSheet'\n\nexport const LeadScreen: Component = () => {\n  const paywallExp = () => experimentsStore.actions.get('paywall')\n  const isOptional = () => paywallExp() === 'optional'\n  const handleSubmit = (values: Values) => {\n    actionSavePaywall(values)\n    screenStore.actions.goFinal()\n  }\n  const {isInline} = useViewSettings()\n  const closeWidget = useClose()\n\n  return (\n    <Dynamic component={isInline() ? FixedHeightLayout : FullscreenLayout}>\n      <Sheet.Container size=\"s\">\n        {!isInline() && (\n          <Sheet.SingleControl>\n            <IconButton icon=\"cross\" size=\"l\" colorMode=\"primaryInvert\" onClick={closeWidget} />\n          </Sheet.SingleControl>\n        )}\n        <LeadSheet\n          title={quizStore.store()?.lead.title || ''}\n          description={quizStore.store()?.lead.description || ''}\n          paywallExp={paywallExp()}\n          onSubmit={handleSubmit}\n          onSkip={isOptional() ? screenStore.actions.goFinal : undefined}\n        />\n      </Sheet.Container>\n    </Dynamic>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    StartButtonClass: css({\n      display: 'grid',\n      gridTemplateColumns: 'auto auto',\n      alignItems: 'center',\n      boxSizing: 'border-box',\n      boxShadow: `${theme.shadows.boxShadow}, inset 0px 0px 0px 1px #FFFFFF40`,\n      '-webkit-backdrop-filter': 'blur(100px)',\n      backdropFilter: 'blur(100px)',\n      background: theme.colors.buttons.start.default,\n      border: 'none',\n      padding: `${theme.spacing.s14} ${theme.spacing.s16} ${theme.spacing.s14} ${theme.spacing.s14}`,\n      borderRadius: theme.borderRadius.s16,\n      fontSize: theme.typography.button.fontSize,\n      lineHeight: theme.typography.button.lineHeight,\n      gap: theme.spacing.s4,\n      cursor: 'pointer',\n      transition: `all ${theme.animation.transition}`,\n      width: 'max-content',\n      maxWidth: '100%',\n\n      '&:hover': {\n        background: theme.colors.buttons.start.hover,\n        boxShadow: `${theme.shadows.boxShadow}, inset 0px 0px 0px 1px ${theme.colors.divider.primary}`,\n      },\n    }),\n    TextClass: css({\n      color: theme.colors.text.primaryInvert,\n    }),\n  }\n}\n","import {Icon} from '~/components/icon'\nimport {sanitizeText} from '~/helpers/sanitizeText'\nimport {useTheme} from '~/helpers/theme'\nimport {useTranslations} from '~/helpers/useTranslations'\n\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './startButton.styles'\n\ninterface StartButtonProps {\n  class?: string\n  label?: string\n  onClick(): void\n}\nexport const StartButton: Component<StartButtonProps> = props => {\n  const {StartButtonClass, TextClass} = getClasses()\n  const theme = useTheme()\n  const t = useTranslations()\n\n  return (\n    <button\n      type=\"button\"\n      classList={{[StartButtonClass]: true, ...(props.class && {[props.class]: true})}}\n      onClick={props.onClick}>\n      <Icon icon=\"magic-search\" color={theme.colors.text.primaryInvert} size=\"m\" />\n      <span class={TextClass} innerHTML={sanitizeText(props.label || t.suggestProduct())} />\n    </button>\n  )\n}\n","import type {DesktopPlacement} from '~/types/placement'\nimport type {CSSAttribute} from 'solid-styled-components'\n\nexport const calcDesktopPlacementStyles = (placement: DesktopPlacement): CSSAttribute => {\n  if (placement.position === 'right') {\n    return {\n      right: `${placement.offset.horizontal}px`,\n      bottom: `${placement.offset.vertical}px`,\n    }\n  }\n\n  return {\n    left: `${placement.offset.horizontal}px`,\n    bottom: `${placement.offset.vertical}px`,\n  }\n}\n","import {calcDesktopPlacementStyles} from '~/helpers/calcPlacementStyles'\nimport {useStyledUtils} from '~/helpers/styledUtils'\n\nimport type {DesktopPlacement} from '~/types/placement'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    CornerPositionerClass: ({placement}: {placement: DesktopPlacement}) =>\n      css({\n        position: 'fixed',\n        ...calcDesktopPlacementStyles(placement),\n      }),\n  }\n}\n","import type {DesktopPlacement} from '~/types/placement'\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './cornerPositioner.styles'\n\ninterface CornerPositionerProps {\n  placement: DesktopPlacement\n}\nexport const CornerPositioner: ParentComponent<CornerPositionerProps> = props => {\n  const {CornerPositionerClass} = getClasses()\n\n  return <div class={CornerPositionerClass({placement: props.placement})}>{props.children}</div>\n}\n","import {CornerPositioner} from '~/components/cornerPositioner'\nimport {useTheme} from '~/helpers/theme'\nimport {metaStore} from '~/stores/meta'\n\nimport type {DesktopPlacement} from '~/types/placement'\nimport type {ParentComponent} from 'solid-js'\n\nexport const CornerLayout: ParentComponent = props => {\n  const theme = useTheme()\n  const defaultPlacement: DesktopPlacement = {\n    position: 'left',\n    offset: {horizontal: parseInt(theme.spacing.s24, 10), vertical: parseInt(theme.spacing.s24, 10)},\n  }\n\n  return (\n    <CornerPositioner placement={metaStore.store.widget?.desktop?.placement || defaultPlacement}>\n      {props.children}\n    </CornerPositioner>\n  )\n}\n","import {actionExpand, actionShow} from '~/helpers/actions'\nimport {startQuiz} from '~/helpers/startQuiz'\nimport {integrationsStore} from '~/stores/integrations'\nimport {onMount} from 'solid-js'\n\ninterface UseCommonHandlersProps {\n  cancelPromo: () => void\n}\nexport const useCommonHandlers = ({cancelPromo}: UseCommonHandlersProps) => {\n  const handleStartQuiz = () => {\n    cancelPromo()\n    actionExpand()\n    startQuiz()\n  }\n\n  onMount(() => {\n    actionShow('minimal')\n    integrationsStore.actions.show()\n  })\n\n  return {\n    handleStartQuiz,\n  }\n}\n","import {StartButton} from '~/components/startButton/startButton'\nimport {quizStore} from '~/stores/quiz'\n\nimport {CornerLayout} from '../../../components/cornerLayout'\nimport {useCommonHandlers} from '../hooks/useCommonHandlers'\n\ninterface MinimalScreenProps {\n  cancelPromo: () => void\n}\nexport const MinimalScreen = ({cancelPromo}: MinimalScreenProps) => {\n  const {handleStartQuiz} = useCommonHandlers({cancelPromo})\n\n  return (\n    <CornerLayout>\n      <StartButton label={quizStore.store().minimalTitle} onClick={handleStartQuiz} />\n    </CornerLayout>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    BottomPositionerClass: ({bottom}: {bottom: number}) =>\n      css({\n        position: 'fixed',\n        bottom: `${bottom}px`,\n      }),\n  }\n}\n","import {useTheme} from '~/helpers/theme'\nimport {metaStore} from '~/stores/meta'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './bottomPositioner.styles'\n\ninterface BottomPositionerProps {\n  extraOffset?: number\n  class?: string\n}\nexport const BottomPositioner: ParentComponent<BottomPositionerProps> = props => {\n  const {BottomPositionerClass} = getClasses()\n  const extraOffset = props.extraOffset || 0\n  const theme = useTheme()\n  const bottomOffset = metaStore.store.widget?.mobile?.placement?.offset.vertical || parseInt(theme.spacing.s12, 10)\n\n  return (\n    <div\n      classList={{\n        [BottomPositionerClass({\n          bottom: bottomOffset + extraOffset,\n        })]: true,\n        ...(props.class && {[props.class]: true}),\n      }}>\n      {props.children}\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n\n  return {\n    BottomPositionerClass: css({\n      left: '50%',\n      transform: 'translate(-50%, 0)',\n    }),\n  }\n}\n","import {StartButton} from '~/components/startButton/startButton'\nimport {quizStore} from '~/stores/quiz'\nimport {BottomPositioner} from '~/widgets/twoSides/components/bottomPositioner'\n\nimport {useCommonHandlers} from '../hooks/useCommonHandlers'\nimport {getClasses} from './minimal.styles'\n\ninterface MinimalScreenProps {\n  cancelPromo: () => void\n}\nexport const MinimalScreen = ({cancelPromo}: MinimalScreenProps) => {\n  const {BottomPositionerClass} = getClasses()\n  const {handleStartQuiz} = useCommonHandlers({cancelPromo})\n\n  return (\n    <BottomPositioner class={BottomPositionerClass}>\n      <StartButton label={quizStore.store().minimalTitle} onClick={handleStartQuiz} />\n    </BottomPositioner>\n  )\n}\n","import {actionExpand} from '~/helpers/actions'\nimport {showQuiz} from '~/helpers/showQuiz'\nimport {goNext} from '~/helpers/step/goNext'\nimport {answersStore} from '~/stores/answers'\nimport {previewStore} from '~/stores/preview'\n\nimport type {Question, QuestionOption} from '~/types/question'\n\nexport const selectAnswer = (question: Question, option: QuestionOption) => {\n  answersStore.actions.push({\n    question: question.name,\n    answer: option.value,\n  })\n\n  goNext({\n    next: option.next,\n    onQuestion: () => {\n      actionExpand()\n      showQuiz()\n    },\n  })\n  previewStore.actions.fetch()\n}\n","import {actionShow} from '~/helpers/actions'\nimport {onMount} from 'solid-js'\n\nexport const useCommonHandlers = () => {\n  onMount(() => {\n    actionShow('promo')\n  })\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    HideButtonClass: css({\n      boxShadow: theme.shadows.boxShadow,\n    }),\n    PopupClass: ({position}: {position?: 'left' | 'right'}) =>\n      css({\n        borderRadius: theme.borderRadius.s24,\n        padding: theme.spacing.s24,\n        background: theme.colors.fill.primary,\n        boxShadow: theme.shadows.boxShadow,\n        position: 'absolute',\n        marginBottom: theme.spacing.s6,\n        bottom: '100%',\n        width: '420px',\n        zIndex: -1,\n        boxSizing: 'border-box',\n        border: `1px solid ${theme.colors.divider.primary}`,\n\n        ...(position === 'right' ? {right: 0} : {left: 0}),\n      }),\n    DescriptionClass: css({\n      marginTop: theme.spacing.s8,\n    }),\n    OptionsClass: css({\n      marginTop: '32px',\n      marginBottom: `-${theme.spacing.s6}`,\n\n      '& > *': {\n        marginBottom: theme.spacing.s6,\n        marginRight: theme.spacing.s6,\n      },\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {Heading} from '~/components/typography/heading'\nimport {Paragraph} from '~/components/typography/paragraph'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {getAvailableOptions} from '~/helpers/step/utils'\nimport {useClose} from '~/helpers/useClose'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {metaStore} from '~/stores/meta'\nimport {questionStore} from '~/stores/question'\nimport {CornerLayout} from '~/widgets/twoSides/components/cornerLayout'\nimport {For, Show} from 'solid-js'\n\nimport {selectAnswer} from '../helpers/selectAnswer'\nimport {useCommonHandlers} from '../hooks/useCommonHandlers'\nimport {getClasses} from './promo.styles'\n\nexport const PromoScreen = () => {\n  const {HideButtonClass, PopupClass, DescriptionClass, OptionsClass} = getClasses()\n  const t = useTranslations()\n  const closeWidget = useClose()\n\n  useCommonHandlers()\n\n  return (\n    <Show when={questionStore.store.data}>\n      {question => (\n        <CornerLayout>\n          <Button class={HideButtonClass} size=\"s\" colorMode=\"primaryInvert\" onClick={closeWidget}>\n            {t.hide()}\n          </Button>\n          <div class={PopupClass({position: metaStore.store.widget?.desktop?.placement?.position})}>\n            <Heading size=\"l\" colorMode=\"primary\" innerHTML={sanitizeText(question().label)} />\n            <Show when={question().description}>\n              {description => (\n                <Paragraph\n                  class={DescriptionClass}\n                  size=\"l\"\n                  colorMode=\"secondary\"\n                  innerHTML={parseMarkdownText(description())}\n                />\n              )}\n            </Show>\n            <div class={OptionsClass}>\n              <For each={getAvailableOptions(question())}>\n                {option => (\n                  <Button\n                    size=\"m\"\n                    colorMode=\"primary\"\n                    onClick={() => selectAnswer(question(), option)}\n                    innerHTML={sanitizeText(option.label)}\n                  />\n                )}\n              </For>\n            </div>\n          </div>\n        </CornerLayout>\n      )}\n    </Show>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  const innerVerticalPadding = theme.spacing.s6\n  const scrollbarOverflowSpacing = '50px'\n\n  return {\n    ScrollHiderClass: css({\n      overflow: 'hidden',\n      position: 'relative',\n\n      '&:after': {\n        position: 'absolute',\n        content: '\"\"',\n        zIndex: 1,\n        display: 'block',\n        height: '40px',\n        width: '32px',\n        pointerEvents: 'none',\n        top: innerVerticalPadding,\n        opacity: 0,\n        transition: 'opacity 100ms',\n        right: 0,\n        background: 'linear-gradient(270deg, rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 82.81%)',\n      },\n    }),\n    OverlayClass: css({\n      '&:after': {\n        opacity: 1,\n      },\n    }),\n    ScrollableContainerClass: css({\n      position: 'relative',\n      overflowX: 'scroll',\n      padding: `${scrollbarOverflowSpacing} 0`,\n      margin: `-${scrollbarOverflowSpacing} 0`,\n      scrollBehavior: 'smooth',\n    }),\n    InnerClass: css({\n      display: 'inline-block',\n      padding: `${innerVerticalPadding} ${theme.spacing.s12}`,\n      whiteSpace: 'nowrap',\n\n      '& > *:not(:last-child)': {\n        marginRight: theme.spacing.s6,\n      },\n    }),\n  }\n}\n","import {throttle} from '@solid-primitives/scheduled'\nimport {useTheme} from '~/helpers/theme'\nimport {createSignal, onCleanup, onMount, type ParentComponent} from 'solid-js'\n\nimport {getClasses} from './optionsContainer.styles'\n\nexport const OptionsContainer: ParentComponent = props => {\n  let innerRef: HTMLDivElement | undefined\n  let scrollableContainerRef: HTMLDivElement | undefined\n  const [isOverlayEnabled, setIsOverlayEnabled] = createSignal(false)\n  const {ScrollHiderClass, ScrollableContainerClass, InnerClass, OverlayClass} = getClasses()\n  const theme = useTheme()\n\n  const updateOverlays = throttle(() => {\n    if (innerRef) {\n      const innerClientRect = innerRef.getBoundingClientRect()\n\n      if (scrollableContainerRef) {\n        setIsOverlayEnabled(\n          () =>\n            scrollableContainerRef.getBoundingClientRect().width <\n            innerClientRect.width + innerClientRect.left - parseInt(theme.spacing.s12, 10),\n        )\n      }\n    }\n  }, 100)\n\n  onMount(() => {\n    updateOverlays()\n\n    window.addEventListener('resize', updateOverlays)\n  })\n\n  onCleanup(() => {\n    window.removeEventListener('resize', updateOverlays)\n  })\n\n  return (\n    <div\n      classList={{\n        [ScrollHiderClass]: true,\n        [OverlayClass]: isOverlayEnabled(),\n      }}>\n      <div class={ScrollableContainerClass} onscroll={updateOverlays} ref={scrollableContainerRef}>\n        <div class={InnerClass} ref={innerRef}>\n          {props.children}\n        </div>\n      </div>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    BottomPositionerClass: css({\n      left: theme.spacing.s8,\n      right: theme.spacing.s8,\n    }),\n    ContainerClass: css({\n      border: `1px solid ${theme.colors.divider.primary}`,\n      borderRadius: theme.borderRadius.s20,\n      background: theme.colors.fill.primary,\n      paddingBottom: theme.spacing.s6,\n      boxShadow: theme.shadows.boxShadow,\n    }),\n    HeaderClass: css({\n      padding: `${theme.spacing.s12} ${theme.spacing.s12} ${theme.spacing.s6}`,\n      display: 'grid',\n      gridTemplateColumns: '1fr auto',\n      gridGap: theme.spacing.s12,\n    }),\n    LabelClass: css({\n      display: 'grid',\n      alignItems: 'center',\n      wordBreak: 'break-word',\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {IconButton} from '~/components/iconButton/iconButton'\nimport {Heading} from '~/components/typography/heading/heading'\nimport {sanitizeText} from '~/helpers/sanitizeText'\nimport {getAvailableOptions} from '~/helpers/step/utils'\nimport {useTheme} from '~/helpers/theme'\nimport {useClose} from '~/helpers/useClose'\nimport {questionStore} from '~/stores/question'\nimport {BottomPositioner} from '~/widgets/twoSides/components/bottomPositioner'\nimport {For, Show} from 'solid-js'\n\nimport {selectAnswer} from '../helpers/selectAnswer'\nimport {useCommonHandlers} from '../hooks/useCommonHandlers'\nimport {OptionsContainer} from './components/optionsContainer'\nimport {getClasses} from './promo.styles'\n\nexport const PromoScreen = () => {\n  const {BottomPositionerClass, ContainerClass, HeaderClass, LabelClass} = getClasses()\n  const theme = useTheme()\n  const closeWidget = useClose()\n\n  useCommonHandlers()\n\n  return (\n    <Show when={questionStore.store.data}>\n      {question => (\n        <BottomPositioner class={BottomPositionerClass} extraOffset={-1 * parseInt(theme.spacing.s4, 10)}>\n          <div class={ContainerClass}>\n            <div class={HeaderClass}>\n              <div class={LabelClass}>\n                <Heading size=\"s\" colorMode=\"primary\" innerHTML={sanitizeText(question().label)} />\n              </div>\n              <div>\n                <IconButton icon=\"cross\" colorMode=\"primaryInvert\" onClick={closeWidget} size=\"m\" />\n              </div>\n            </div>\n            <OptionsContainer>\n              <For each={getAvailableOptions(question())}>\n                {option => (\n                  <Button\n                    size=\"s\"\n                    colorMode=\"primary\"\n                    onClick={() => selectAnswer(question(), option)}\n                    innerHTML={sanitizeText(option.label)}\n                  />\n                )}\n              </For>\n            </OptionsContainer>\n          </div>\n        </BottomPositioner>\n      )}\n    </Show>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContentClass: css({\n      minHeight: '100%',\n      boxSizing: 'border-box',\n      padding: theme.spacing.s12,\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n    }),\n    IconClass: css({\n      margin: '0 auto',\n    }),\n  }\n}\n","import {Preloader as BasePreloader} from '~/components/preloader'\n\nimport type {Component} from 'solid-js'\n\nimport {getClasses} from './centeredPreloader.styles'\n\nexport const CenteredPreloader: Component = () => {\n  const {ContentClass, IconClass} = getClasses()\n\n  return (\n    <div class={ContentClass}>\n      <BasePreloader class={IconClass} />\n    </div>\n  )\n}\n","import {goNext} from '~/helpers/step/goNext'\nimport {goNextAfterQuestionConfirm} from '~/helpers/step/goNextAfterQuestionConfirm'\nimport {goToItemPage} from '~/helpers/step/utils'\nimport {answersStore} from '~/stores/answers'\nimport {previewStore} from '~/stores/preview'\nimport {questionStore} from '~/stores/question'\n\nimport type {Item} from '~/types/items'\nimport type {OptionValue, Question, SingleOutputQuestion} from '~/types/question'\nimport type {Accessor} from 'solid-js'\n\nexport const hasSingleNext = (questionAccessor: () => Question): questionAccessor is Accessor<SingleOutputQuestion> => {\n  return 'next' in questionAccessor()\n}\n\nexport const goToItemPageFromPreview = (item: Item) =>\n  goToItemPage(item, previewStore.store.data().items, 'suggestions')\n\nexport const goNextWithSkipAnswer = (answer: OptionValue) => {\n  questionStore.actions.setAnswers([answer])\n  goNextAfterQuestionConfirm()\n}\n\nexport const goNextDirectly = (answers: OptionValue[]) => {\n  const question = questionStore.store.data\n\n  if (!question) {\n    return\n  }\n\n  const option = question.options.find(option => option.value === answers[0])\n\n  if (!option) {\n    return\n  }\n\n  answersStore.actions.push({\n    question: question.name,\n    answer: option.value,\n  })\n\n  goNext({next: option.next})\n  previewStore.actions.fetch()\n}\n","import {getSheetHeaderMinHeight} from '~/components/sheet/components/header/header.styles'\nimport {buildMDesktopStyles} from '~/helpers/desktop'\nimport {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContentInnerClass: css({\n      display: 'flex',\n      flexDirection: 'column',\n\n      marginTop: theme.spacing.s12,\n      ...buildMDesktopStyles({\n        marginTop: theme.spacing.s28,\n      }),\n    }),\n    QuestionLabelClass: css({\n      textAlign: 'center',\n    }),\n    ContainerClass: ({isOneSide}: {isOneSide: boolean}) =>\n      css({\n        display: 'grid',\n        gridTemplateColumns: isOneSide ? '1fr' : '1fr 1fr',\n        height: '100%',\n      }),\n    OptionsContainerClass: css({\n      marginTop: theme.spacing.s24,\n\n      '&:not(:last-child)': {\n        marginBottom: theme.spacing.s32,\n      },\n    }),\n    ImageClass: css({\n      objectFit: 'cover',\n      objectPosition: 'center',\n      minWidth: '100%',\n      minHeight: '100%',\n      width: '100%',\n      height: '100%',\n    }),\n    ProgressBarClass: css({\n      maxWidth: '100%',\n    }),\n    QuestionContainerClass: css({\n      background: theme.colors.fill.primary,\n    }),\n    QuestionContentClass: ({isHeaderUsed, isOneSide}: {isHeaderUsed: boolean; isOneSide: boolean}) =>\n      css({\n        minHeight: '100%',\n        display: 'grid',\n        boxSizing: 'border-box',\n        ...(!isHeaderUsed && {paddingTop: getSheetHeaderMinHeight().m}),\n        ...(isOneSide && {width: '50%', marginLeft: 'auto', marginRight: 'auto'}),\n      }),\n    FilledRightSheetContainer: css({\n      background: theme.colors.fill.primary,\n      borderLeft: `1px solid ${theme.colors.divider.primary}`,\n    }),\n    DescriptionClass: css({\n      marginTop: 'auto',\n      textAlign: 'center',\n    }),\n    UpperDescriptionClass: css({\n      marginTop: theme.spacing.s8,\n      textAlign: 'center',\n    }),\n    NextButtonClass: ({isOneSide}: {isOneSide: boolean}) =>\n      css({\n        marginTop: theme.spacing.s16,\n        marginBottom: theme.spacing.s32,\n        ...(isOneSide && {width: '50%', marginLeft: 'auto', marginRight: 'auto'}),\n      }),\n    QuestionTransitionClass: css({\n      display: 'grid',\n      gridTemplateRows: '1fr',\n      minHeight: '100%',\n      boxSizing: 'border-box',\n    }),\n  }\n}\n","import {Answer} from '~/components/answer'\nimport {Button} from '~/components/button'\nimport {CenteredPreloader} from '~/components/centeredPreloader'\nimport {IconButton} from '~/components/iconButton'\nimport {Image} from '~/components/image'\nimport {InlineLayout} from '~/components/layouts/common/inline'\nimport {PopupLayout} from '~/components/layouts/desktop/popup'\nimport {ProgressBar} from '~/components/progressBar'\nimport {QuestionTransition} from '~/components/questionTransition'\nimport {Sheet} from '~/components/sheet'\nimport {SuggestionsSheet} from '~/components/suggestionsSheet'\nimport {Caption} from '~/components/typography/caption'\nimport {Heading} from '~/components/typography/heading'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {isAnswerReady} from '~/helpers/answer'\nimport {getQuestionContinueLabel} from '~/helpers/getQuestionContinueLabel'\nimport {getOptionsMap} from '~/helpers/options'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {goNextAfterQuestionConfirm} from '~/helpers/step/goNextAfterQuestionConfirm'\nimport {goPrev} from '~/helpers/step/goPrev'\nimport {isStartQuestion} from '~/helpers/step/isStartQuestion'\nimport {getProgressPercent} from '~/helpers/step/utils'\nimport {getSuggestionCardType, getSuggestionsCountText} from '~/helpers/suggestions'\nimport {useClose} from '~/helpers/useClose'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {experimentsStore} from '~/stores/experiments'\nimport {previewStore} from '~/stores/preview'\nimport {questionStore} from '~/stores/question'\nimport {quizStore} from '~/stores/quiz'\nimport {Popup} from '~/widgets/twoSides/components/popup'\nimport {Show} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {Component} from 'solid-js'\n\nimport {goNextDirectly, goNextWithSkipAnswer, goToItemPageFromPreview, hasSingleNext} from '../helpers'\nimport {getClasses} from './quiz.styles'\n\nexport const QuizScreen: Component = () => {\n  const {\n    ContainerClass,\n    OptionsContainerClass,\n    QuestionLabelClass,\n    ProgressBarClass,\n    ImageClass,\n    QuestionContainerClass,\n    ContentInnerClass,\n    FilledRightSheetContainer,\n    NextButtonClass,\n    QuestionTransitionClass,\n    QuestionContentClass,\n    UpperDescriptionClass,\n  } = getClasses()\n  const isReady = () =>\n    questionStore.store.data ? isAnswerReady(questionStore.store.data, questionStore.store.answers) : false\n  const {isInline} = useViewSettings()\n  const t = useTranslations()\n  const closeWidget = useClose()\n  const isSuggestions = () =>\n    !experimentsStore.computed.features.disablePreview &&\n    quizStore.computed.widgetType.isSuggestions &&\n    previewStore.store.data().items.length\n\n  const isSuggestionsPreviewLoading = () => {\n    return (\n      previewStore.store.resource.loading &&\n      !experimentsStore.computed.features.disablePreview &&\n      quizStore.computed.widgetType.isSuggestions\n    )\n  }\n\n  const isOneSide = () => !isSuggestions() && experimentsStore.computed.features.hideQuestionImage\n\n  return (\n    <Show when={questionStore.store.data}>\n      {question => (\n        <Show when={getOptionsMap(question())}>\n          {optionsMap => (\n            <Dynamic component={isInline() ? InlineLayout : PopupLayout} onClose={closeWidget}>\n              <Popup>\n                <div class={ContainerClass({isOneSide: isOneSide()})}>\n                  <Sheet.Container class={QuestionContainerClass} size=\"m\">\n                    {(!isStartQuestion() || isOneSide()) && (\n                      <>\n                        <Sheet.Header\n                          left={\n                            !isStartQuestion() && (\n                              <IconButton size=\"l\" icon=\"left-arrow\" colorMode=\"primaryInvert\" onClick={goPrev} />\n                            )\n                          }\n                          center={\n                            !isStartQuestion() && (\n                              <ProgressBar\n                                class={ProgressBarClass}\n                                percent={getProgressPercent({question: question()})}\n                                text={quizStore.store()?.progressBar.text}\n                              />\n                            )\n                          }\n                          right={\n                            isOneSide() &&\n                            !isInline() && (\n                              <IconButton size=\"l\" icon=\"cross\" colorMode=\"primaryInvert\" onClick={closeWidget} />\n                            )\n                          }\n                        />\n                      </>\n                    )}\n\n                    <Sheet.Content>\n                      <div\n                        class={QuestionContentClass({\n                          isHeaderUsed: !isStartQuestion() || isOneSide(),\n                          isOneSide: isOneSide(),\n                        })}>\n                        <QuestionTransition question={question} class={QuestionTransitionClass}>\n                          {questionVal => (\n                            <div class={ContentInnerClass}>\n                              <Heading\n                                class={QuestionLabelClass}\n                                size=\"m\"\n                                colorMode=\"primary\"\n                                innerHTML={sanitizeText(questionVal.label)}\n                              />\n                              {questionVal.description && (\n                                <Caption\n                                  class={UpperDescriptionClass}\n                                  size=\"m\"\n                                  colorMode=\"secondary\"\n                                  innerHTML={parseMarkdownText(questionVal.description)}\n                                />\n                              )}\n                              <div class={OptionsContainerClass}>\n                                <Answer\n                                  options={optionsMap().main}\n                                  answers={questionStore.store.answers}\n                                  question={question()}\n                                  onWithConfirmationChange={questionStore.actions.setAnswers}\n                                  onWithoutConfirmationChange={goNextDirectly}\n                                />\n                              </div>\n                            </div>\n                          )}\n                        </QuestionTransition>\n                      </div>\n                    </Sheet.Content>\n                    {hasSingleNext(question) &&\n                      (isReady() || (optionsMap().skip && !questionStore.store.answers.length)) && (\n                        <QuestionTransition question={question}>\n                          {() => (\n                            <Sheet.Bottom>\n                              <Show\n                                when={\n                                  optionsMap().skip && !questionStore.store.answers.length\n                                    ? optionsMap().skip\n                                    : undefined\n                                }\n                                fallback={\n                                  <Button\n                                    class={NextButtonClass({isOneSide: isOneSide()})}\n                                    size=\"m\"\n                                    fullWidth\n                                    colorMode=\"primary\"\n                                    onClick={goNextAfterQuestionConfirm}>\n                                    {getQuestionContinueLabel()}\n                                  </Button>\n                                }>\n                                {skipOption => (\n                                  <Button\n                                    class={NextButtonClass({isOneSide: isOneSide()})}\n                                    size=\"m\"\n                                    fullWidth\n                                    colorMode=\"primary\"\n                                    onClick={() => goNextWithSkipAnswer(skipOption().value)}>\n                                    {skipOption().label}\n                                  </Button>\n                                )}\n                              </Show>\n                            </Sheet.Bottom>\n                          )}\n                        </QuestionTransition>\n                      )}\n                  </Sheet.Container>\n                  <Show\n                    when={isSuggestions() && !isSuggestionsPreviewLoading()}\n                    fallback={\n                      !isOneSide() && (\n                        <Sheet.Container size=\"m\" class={FilledRightSheetContainer}>\n                          {!isInline() && (\n                            <Sheet.SingleControl>\n                              <IconButton size=\"l\" icon=\"cross\" colorMode=\"primaryInvert\" onClick={closeWidget} />\n                            </Sheet.SingleControl>\n                          )}\n                          {isSuggestionsPreviewLoading() ? (\n                            <CenteredPreloader />\n                          ) : (\n                            <Show when={question().image}>{image => <Image class={ImageClass} src={image()} />}</Show>\n                          )}\n                        </Sheet.Container>\n                      )\n                    }>\n                    <Sheet.Container size=\"m\" class={FilledRightSheetContainer}>\n                      <SuggestionsSheet.List\n                        getSuggestionsCountText={getSuggestionsCountText}\n                        title={t.alreadyRecommend()}\n                        suggestions={previewStore.store.data().items}\n                        cardType={getSuggestionCardType()}\n                        size=\"s\"\n                        onClose={isInline() ? undefined : closeWidget}\n                        onGoToItemPage={goToItemPageFromPreview}\n                      />\n                    </Sheet.Container>\n                  </Show>\n                </div>\n              </Popup>\n            </Dynamic>\n          )}\n        </Show>\n      )}\n    </Show>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ContainerClass: css({\n      borderRadius: `${theme.borderRadius.s20} ${theme.borderRadius.s20} 0 0`,\n      background: theme.colors.fill.primary,\n    }),\n    OverlapLayoutClass: css({\n      paddingTop: '50px',\n      background: theme.colors.overlay.o80,\n      boxSizing: 'border-box',\n      overflow: 'hidden',\n      position: 'absolute',\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0,\n      zIndex: 1,\n    }),\n  }\n}\n","import {Sheet} from '~/components/sheet'\n\nimport type {ParentComponent} from 'solid-js'\n\nimport {getClasses} from './overlap.styles'\n\nexport const OverlapLayout: ParentComponent = props => {\n  const {ContainerClass, OverlapLayoutClass} = getClasses()\n\n  return (\n    <div class={OverlapLayoutClass}>\n      <Sheet.Container size=\"s\" class={ContainerClass}>\n        {props.children}\n      </Sheet.Container>\n    </div>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    HeaderClass: css({\n      paddingTop: theme.spacing.s16,\n      paddingBottom: theme.spacing.s12,\n    }),\n  }\n}\n","import {Button} from '~/components/button'\nimport {OverlapLayout} from '~/components/layouts/mobile/overlap'\nimport {SuggestionsSheet} from '~/components/suggestionsSheet'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {onMount, type Component} from 'solid-js'\n\nimport type {SortType} from '~/components/sort/sort'\nimport type {Item} from '~/types/items'\nimport type {CardType} from '~/types/suggestions'\n\nimport {getClasses} from './preview.styles'\n\ninterface PreviewProps {\n  cardType: CardType\n  suggestions: Item[]\n  sortType: SortType | null\n  getSuggestionsCountText(count: number): string\n  onSort?(sortType: SortType | null): void\n  onMount(): void\n  onClose(): void\n  onGoToItemPage(item: Item): void\n}\nexport const Preview: Component<PreviewProps> = props => {\n  const {HeaderClass} = getClasses()\n  const t = useTranslations()\n\n  onMount(() => {\n    props.onMount()\n  })\n\n  return (\n    <OverlapLayout>\n      <SuggestionsSheet.List\n        cardType={props.cardType}\n        getSuggestionsCountText={props.getSuggestionsCountText}\n        title={t.alreadyRecommend()}\n        headerClass={HeaderClass}\n        suggestions={props.suggestions}\n        size=\"s\"\n        sortType={props.sortType}\n        onSort={props.onSort}\n        closeIcon=\"down-chevron\"\n        bottom={\n          <Button size=\"s\" colorMode=\"primary\" onClick={props.onClose}>\n            {t.returnToQuiz()}\n          </Button>\n        }\n        onClose={props.onClose}\n        onGoToItemPage={props.onGoToItemPage}\n      />\n    </OverlapLayout>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    ButtonClass: css({\n      width: '100%',\n      pointerEvents: 'all',\n      border: 'none',\n      background: theme.colors.overlay.o80,\n      padding: `${theme.spacing.s8} ${theme.spacing.s14} ${theme.spacing.s8}`,\n      borderRadius: theme.borderRadius.s20,\n      boxShadow: theme.shadows.boxShadow,\n      display: 'grid',\n      gridTemplateColumns: 'auto 1fr auto',\n      gap: theme.spacing.s10,\n      alignItems: 'center',\n    }),\n    ImageContainerBackdropClass: css({\n      padding: '3px',\n\n      '&:before': {\n        content: '\"\"',\n        position: 'absolute',\n        zIndex: 0,\n        width: '49px',\n        height: '49px',\n        display: 'block',\n        borderRadius: '7px',\n        transform: 'rotate(-7deg)',\n        background: '#F3F3F3',\n        boxShadow: theme.shadows.boxShadow,\n      },\n    }),\n    ImageContainerClass: css({\n      width: '49px',\n      height: '49px',\n      padding: theme.spacing.s4,\n      background: theme.colors.fill.primary,\n      boxSizing: 'border-box',\n      borderRadius: '7px',\n      transform: 'rotate(7deg)',\n      boxShadow: theme.shadows.boxShadow,\n      overflow: 'hidden',\n    }),\n    ImageClass: css({\n      maxWidth: '100%',\n      maxHeight: '100%',\n      objectFit: 'contain',\n    }),\n    InfoClass: css({\n      textAlign: 'left',\n      padding: `${theme.spacing.s8} 0`,\n    }),\n  }\n}\n","import {Icon} from '~/components/icon'\nimport {Image} from '~/components/image'\nimport {Heading} from '~/components/typography/heading'\nimport {Paragraph} from '~/components/typography/paragraph'\nimport {useTheme} from '~/helpers/theme'\nimport {useTranslations} from '~/helpers/useTranslations'\nimport {type Component} from 'solid-js'\n\nimport type {Item} from '~/types/items'\n\nimport {getClasses} from './previewTooltip.styles'\n\ninterface PreviewTooltipProps {\n  suggestions: Item[]\n  class?: string\n  getSuggestionsCountText(count: number): string\n  onClick(): void\n}\nexport const PreviewTooltip: Component<PreviewTooltipProps> = props => {\n  const {ButtonClass, ImageContainerBackdropClass, ImageContainerClass, ImageClass, InfoClass} = getClasses()\n  const theme = useTheme()\n  const t = useTranslations()\n\n  return (\n    <button classList={{[ButtonClass]: true, ...(props.class && {[props.class]: true})}} onClick={props.onClick}>\n      <div class={ImageContainerBackdropClass}>\n        <div class={ImageContainerClass}>\n          <Image class={ImageClass} src={props.suggestions[0].image} dummyType=\"small\" />\n        </div>\n      </div>\n      <div class={InfoClass}>\n        <Heading size=\"s\" colorMode=\"primaryInvert\">\n          {t.alreadyRecommend()}\n        </Heading>\n        <Paragraph size=\"l\" colorMode=\"secondaryInvert\">\n          {props.getSuggestionsCountText(props.suggestions.length)}\n        </Paragraph>\n      </div>\n      <div>\n        <Icon icon=\"right-chevron\" color={theme.colors.text.secondaryInvert} size=\"l\" />\n      </div>\n    </button>\n  )\n}\n","import {useStyledUtils} from '~/helpers/styledUtils'\nimport {useTheme} from '~/helpers/theme'\n\nexport const getClasses = () => {\n  const {css} = useStyledUtils()\n  const theme = useTheme()\n\n  return {\n    QuestionLabelClass: css({\n      textAlign: 'center',\n      marginTop: '72px',\n    }),\n    OptionsContainerClass: css({\n      marginTop: theme.spacing.s24,\n\n      '&:not(:last-child)': {\n        marginBottom: theme.spacing.s20,\n      },\n    }),\n    ProgressBarClass: css({\n      maxWidth: '100%',\n    }),\n    DescriptionClass: css({\n      marginTop: 'auto',\n      textAlign: 'center',\n    }),\n    UpperDescriptionClass: css({\n      marginTop: theme.spacing.s8,\n      textAlign: 'center',\n    }),\n    NextButtonClass: css({\n      marginTop: theme.spacing.s16,\n      marginBottom: theme.spacing.s16,\n    }),\n    PreviewTooltipClass: css({\n      marginTop: theme.spacing.s12,\n      marginBottom: theme.spacing.s12,\n    }),\n    QuestionTransitionClass: css({\n      display: 'flex',\n      flexDirection: 'column',\n      minHeight: '100%',\n      boxSizing: 'border-box',\n    }),\n  }\n}\n","import {Answer} from '~/components/answer'\nimport {Button} from '~/components/button'\nimport {IconButton} from '~/components/iconButton'\nimport {FixedHeightLayout} from '~/components/layouts/mobile/fixedHeight'\nimport {FullscreenLayout} from '~/components/layouts/mobile/fullscreen'\nimport {ProgressBar} from '~/components/progressBar'\nimport {QuestionTransition} from '~/components/questionTransition'\nimport {Sheet} from '~/components/sheet'\nimport {Heading} from '~/components/typography/heading'\nimport {Paragraph} from '~/components/typography/paragraph'\nimport {useViewSettings} from '~/contexts/viewSettings'\nimport {actionGoSuggestions} from '~/helpers/actions'\nimport {isAnswerReady} from '~/helpers/answer'\nimport {getQuestionContinueLabel} from '~/helpers/getQuestionContinueLabel'\nimport {getOptionsMap} from '~/helpers/options'\nimport {parseMarkdownText, sanitizeText} from '~/helpers/sanitizeText'\nimport {goNextAfterQuestionConfirm} from '~/helpers/step/goNextAfterQuestionConfirm'\nimport {goPrev} from '~/helpers/step/goPrev'\nimport {isStartQuestion} from '~/helpers/step/isStartQuestion'\nimport {getProgressPercent} from '~/helpers/step/utils'\nimport {getSuggestionCardType, getSuggestionsCountText} from '~/helpers/suggestions'\nimport {useClose} from '~/helpers/useClose'\nimport {experimentsStore} from '~/stores/experiments'\nimport {previewStore} from '~/stores/preview'\nimport {questionStore} from '~/stores/question'\nimport {quizStore} from '~/stores/quiz'\nimport {createSignal, Show} from 'solid-js'\nimport {Dynamic} from 'solid-js/web'\n\nimport type {SortType} from '~/components/sort/sort'\nimport type {Component} from 'solid-js'\n\nimport {goNextDirectly, goNextWithSkipAnswer, goToItemPageFromPreview, hasSingleNext} from '../helpers'\nimport {Preview} from './components/preview'\nimport {PreviewTooltip} from './components/previewTooltip'\nimport {getClasses} from './quiz.styles'\n\nexport const QuizScreen: Component = () => {\n  const [sortType, setSortType] = createSignal<SortType | null>(null)\n  const {\n    QuestionLabelClass,\n    OptionsContainerClass,\n    ProgressBarClass,\n    UpperDescriptionClass,\n    NextButtonClass,\n    PreviewTooltipClass,\n    QuestionTransitionClass,\n  } = getClasses()\n  const [isPreviewOpen, setIsPreviewOpen] = createSignal(false)\n  const openPreview = () => setIsPreviewOpen(true)\n  const closePreview = () => setIsPreviewOpen(false)\n  const previewSuggestions = () => previewStore.store.data().items\n  const isReady = () =>\n    questionStore.store.data ? isAnswerReady(questionStore.store.data, questionStore.store.answers) : false\n  const {isInline} = useViewSettings()\n  const closeWidget = useClose()\n\n  return (\n    <Show when={questionStore.store.data}>\n      {question => (\n        <Show when={getOptionsMap(question())}>\n          {optionsMap => (\n            <Dynamic component={isInline() ? FixedHeightLayout : FullscreenLayout}>\n              <Sheet.Container size=\"s\">\n                <Sheet.Header\n                  left={\n                    !isStartQuestion() && (\n                      <IconButton icon=\"left-arrow\" size=\"l\" colorMode=\"primaryInvert\" onClick={goPrev} />\n                    )\n                  }\n                  right={\n                    !isInline() && <IconButton icon=\"cross\" size=\"l\" colorMode=\"primaryInvert\" onClick={closeWidget} />\n                  }\n                  center={\n                    !isStartQuestion() && (\n                      <ProgressBar\n                        class={ProgressBarClass}\n                        percent={getProgressPercent({question: question()})}\n                        text={quizStore.store()?.progressBar.text}\n                      />\n                    )\n                  }\n                />\n                <Sheet.Content>\n                  <QuestionTransition question={question} class={QuestionTransitionClass}>\n                    {questionVal => (\n                      <>\n                        <Heading\n                          class={QuestionLabelClass}\n                          size=\"m\"\n                          colorMode=\"primary\"\n                          innerHTML={sanitizeText(questionVal.label)}\n                        />\n                        {questionVal.description && (\n                          <Paragraph\n                            class={UpperDescriptionClass}\n                            size=\"l\"\n                            colorMode=\"secondary\"\n                            innerHTML={parseMarkdownText(questionVal.description)}\n                          />\n                        )}\n                        <div class={OptionsContainerClass}>\n                          <Answer\n                            options={optionsMap().main}\n                            answers={questionStore.store.answers}\n                            question={question()}\n                            onWithConfirmationChange={questionStore.actions.setAnswers}\n                            onWithoutConfirmationChange={goNextDirectly}\n                          />\n                        </div>\n                      </>\n                    )}\n                  </QuestionTransition>\n                </Sheet.Content>\n                {hasSingleNext(question) &&\n                (isReady() || (optionsMap().skip && !questionStore.store.answers.length)) ? (\n                  <QuestionTransition question={question}>\n                    {() => (\n                      <Sheet.Bottom>\n                        <Show\n                          when={\n                            optionsMap().skip && !questionStore.store.answers.length ? optionsMap().skip : undefined\n                          }\n                          fallback={\n                            <Button\n                              class={NextButtonClass}\n                              size=\"s\"\n                              fullWidth\n                              colorMode=\"primary\"\n                              onClick={goNextAfterQuestionConfirm}>\n                              {getQuestionContinueLabel()}\n                            </Button>\n                          }>\n                          {skipOption => (\n                            <Button\n                              class={NextButtonClass}\n                              size=\"s\"\n                              fullWidth\n                              colorMode=\"primary\"\n                              onClick={() => goNextWithSkipAnswer(skipOption().value)}>\n                              {skipOption().label}\n                            </Button>\n                          )}\n                        </Show>\n                      </Sheet.Bottom>\n                    )}\n                  </QuestionTransition>\n                ) : (\n                  !experimentsStore.computed.features.disablePreview &&\n                  quizStore.computed.widgetType.isSuggestions &&\n                  previewSuggestions().length && (\n                    <Sheet.Bottom>\n                      <PreviewTooltip\n                        getSuggestionsCountText={getSuggestionsCountText}\n                        suggestions={previewSuggestions()}\n                        class={PreviewTooltipClass}\n                        onClick={openPreview}\n                      />\n                    </Sheet.Bottom>\n                  )\n                )}\n              </Sheet.Container>\n              {quizStore.computed.widgetType.isSuggestions && isPreviewOpen() && (\n                <Preview\n                  cardType={getSuggestionCardType()}\n                  getSuggestionsCountText={getSuggestionsCountText}\n                  suggestions={previewSuggestions()}\n                  sortType={sortType()}\n                  onSort={experimentsStore.computed.features.disableSorting ? undefined : setSortType}\n                  onClose={closePreview}\n                  onGoToItemPage={goToItemPageFromPreview}\n                  onMount={actionGoSuggestions}\n                />\n              )}\n            </Dynamic>\n          )}\n        </Show>\n      )}\n    </Show>\n  )\n}\n","import {ViewSettingsProvider} from '~/contexts/viewSettings'\nimport {useGetIsCompact} from '~/helpers/useGetIsCompact'\nimport {screenStore} from '~/stores/screen'\nimport {useResizeReset} from '~/stores/useResizeReset'\nimport {Match, onCleanup, onMount, Show, Switch} from 'solid-js'\n\nimport type {Component} from 'solid-js'\n\nimport {DESKTOP_WIDGET_WIDTH} from './constants'\nimport {initScreen} from './helpers/initScreen'\nimport {useGoPromo} from './hooks/useGoPromo'\nimport {FinalScreen as DesktopFinalScreen} from './screens/final/desktop'\nimport {FinalScreen as MobileFinalScreen} from './screens/final/mobile'\nimport {LeadScreen as DesktopLeadScreen} from './screens/lead/desktop'\nimport {LeadScreen as MobileLeadScreen} from './screens/lead/mobile'\nimport {MinimalScreen as DesktopMinimalScreen} from './screens/minimal/desktop'\nimport {MinimalScreen as MobileMinimalScreen} from './screens/minimal/mobile'\nimport {PromoScreen as DesktopPromoScreen} from './screens/promo/desktop'\nimport {PromoScreen as MobilePromoScreen} from './screens/promo/mobile'\nimport {QuizScreen as DesktopQuizScreen} from './screens/quiz/desktop'\nimport {QuizScreen as MobileQuizScreen} from './screens/quiz/mobile'\n\ninterface TwoSidesWidgetProps {\n  isInline: boolean\n  useCompactOnly: boolean\n  target: Element\n  forceShow: boolean\n  isInlineStartQuestion: boolean\n}\nexport const TwoSidesWidget: Component<TwoSidesWidgetProps> = props => {\n  const {go: goPromo, cancel: cancelPromo} = useGoPromo()\n  const screen = () => screenStore.store.screen\n  const getIsCompact = useGetIsCompact({\n    isInline: props.isInline,\n    target: props.target,\n    breakpoint: DESKTOP_WIDGET_WIDTH,\n    useCompactOnly: props.useCompactOnly,\n  })\n\n  useResizeReset({isCompactAcc: getIsCompact, isInline: props.isInline})\n\n  onMount(() => {\n    initScreen({\n      isInline: props.isInline,\n      isInlineStartQuestion: props.isInlineStartQuestion,\n      goPromo,\n      forceShow: props.forceShow,\n    })\n  })\n\n  onCleanup(() => {\n    cancelPromo()\n  })\n\n  if (props.isInlineStartQuestion) {\n    return (\n      <ViewSettingsProvider value={{isCompact: getIsCompact, isInline: () => props.isInline}}>\n        {({isCompact}) => (\n          <Show\n            when={isCompact()}\n            fallback={\n              <Switch>\n                <Match when={screen() === 'quiz'}>\n                  <DesktopQuizScreen />\n                </Match>\n                <Match when={screen() === 'final'}>\n                  <DesktopFinalScreen />\n                </Match>\n                <Match when={screen() === 'lead'}>\n                  <DesktopLeadScreen />\n                </Match>\n              </Switch>\n            }>\n            <Switch>\n              <Match when={screen() === 'quiz'}>\n                <MobileQuizScreen />\n              </Match>\n              <Match when={screen() === 'final'}>\n                <MobileFinalScreen />\n              </Match>\n              <Match when={screen() === 'lead'}>\n                <MobileLeadScreen />\n              </Match>\n            </Switch>\n          </Show>\n        )}\n      </ViewSettingsProvider>\n    )\n  }\n\n  return (\n    <ViewSettingsProvider value={{isCompact: getIsCompact, isInline: () => props.isInline}}>\n      {({isCompact}) => (\n        <Show\n          when={isCompact()}\n          fallback={\n            <Switch>\n              <Match when={screen() === 'minimal'}>\n                <DesktopMinimalScreen cancelPromo={cancelPromo} />\n              </Match>\n              <Match when={screen() === 'quiz'}>\n                <DesktopQuizScreen />\n              </Match>\n              <Match when={screen() === 'final'}>\n                <DesktopFinalScreen />\n              </Match>\n              <Match when={screen() === 'promo'}>\n                <DesktopPromoScreen />\n              </Match>\n              <Match when={screen() === 'lead'}>\n                <DesktopLeadScreen />\n              </Match>\n            </Switch>\n          }>\n          <Switch>\n            <Match when={screen() === 'minimal'}>\n              <MobileMinimalScreen cancelPromo={cancelPromo} />\n            </Match>\n            <Match when={screen() === 'quiz'}>\n              <MobileQuizScreen />\n            </Match>\n            <Match when={screen() === 'final'}>\n              <MobileFinalScreen />\n            </Match>\n            <Match when={screen() === 'promo'}>\n              <MobilePromoScreen />\n            </Match>\n            <Match when={screen() === 'lead'}>\n              <MobileLeadScreen />\n            </Match>\n          </Switch>\n        </Show>\n      )}\n    </ViewSettingsProvider>\n  )\n}\n","import {AppContext} from '~/contexts/app'\nimport {StylingContext} from '~/contexts/styling'\nimport {initStateStores, resetStateStores} from '~/helpers/stateStores'\nimport {useTheme} from '~/helpers/theme'\nimport {quizStore} from '~/stores/quiz'\nimport {Match, mergeProps, onCleanup, Switch, Show} from 'solid-js'\nimport {Portal} from 'solid-js/web'\n\nimport type {InitStateStoresProps} from '~/helpers/stateStores'\nimport type {Component} from 'solid-js'\n\nimport type {DataLayerInappBridge} from './helpers/dataLayer'\n\nimport {InlineStartQuestionWidget} from './widgets/inlineStartQuestion'\nimport {SurveyWidget} from './widgets/survey'\nimport {TwoSidesWidget} from './widgets/twoSides'\n\ninterface AppProps {\n  destroy: () => void\n  isInline: boolean\n  useCompactOnly: boolean\n  target: Element\n  root: ShadowRoot\n  initialCombined: InitStateStoresProps\n  inlineStartQuestionTarget?: Element\n  inlineStartQuestionRoot?: ShadowRoot\n  forceShow?: boolean\n  inappBridge?: DataLayerInappBridge\n}\nexport const App: Component<AppProps> = props => {\n  const theme = useTheme()\n  const mergedProps = mergeProps({forceShow: false}, props)\n  const isInInapp = Boolean(props.inappBridge)\n\n  initStateStores(props.initialCombined)\n\n  onCleanup(() => {\n    resetStateStores()\n  })\n\n  const globalStyles = `\n    * {\n      font-family: ${theme.typography.fontFamily};\n      color: ${theme.colors.text.primary};\n    }\n    ${\n      isInInapp\n        ? `\n      * {\n        -webkit-tap-highlight-color: transparent;\n        tap-highlight-color: transparent;\n      }\n      *:not(input), *:not(textarea) {\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n      }\n    `\n        : ''\n    }\n  `\n\n  return (\n    <AppContext.Provider\n      value={{\n        embeddingRoot: mergedProps.root,\n        inlineStartQuestionRoot: mergedProps.inlineStartQuestionRoot,\n        destroy: mergedProps.destroy,\n        forceShow: mergedProps.forceShow,\n        isInInapp,\n      }}>\n      <style>{globalStyles}</style>\n      <StylingContext.Provider value={{root: mergedProps.root}}>\n        <Switch>\n          <Match when={quizStore.computed.widgetType.isSuggestions}>\n            <TwoSidesWidget\n              forceShow={mergedProps.forceShow}\n              isInline={mergedProps.isInline}\n              target={mergedProps.target}\n              useCompactOnly={mergedProps.useCompactOnly}\n              isInlineStartQuestion={!!mergedProps.inlineStartQuestionRoot}\n            />\n          </Match>\n          <Match when={quizStore.computed.widgetType.isLeadgen}>\n            <TwoSidesWidget\n              forceShow={mergedProps.forceShow}\n              isInline={mergedProps.isInline}\n              target={mergedProps.target}\n              useCompactOnly={mergedProps.useCompactOnly}\n              isInlineStartQuestion={!!mergedProps.inlineStartQuestionRoot}\n            />\n          </Match>\n          <Match when={quizStore.computed.widgetType.isSurvey}>\n            <SurveyWidget\n              isInline={mergedProps.isInline}\n              target={mergedProps.target}\n              useCompactOnly={mergedProps.useCompactOnly}\n            />\n          </Match>\n        </Switch>\n      </StylingContext.Provider>\n      <Show when={mergedProps.inlineStartQuestionRoot}>\n        {root => (\n          <Portal mount={root()}>\n            <StylingContext.Provider value={{root: root()}}>\n              <Show when={mergedProps.inlineStartQuestionTarget}>\n                {target => <InlineStartQuestionWidget target={target()} />}\n              </Show>\n            </StylingContext.Provider>\n            <style>{globalStyles}</style>\n          </Portal>\n        )}\n      </Show>\n    </AppContext.Provider>\n  )\n}\n","import {answersShakerStore} from '~/stores/answersShaker'\nimport {experimentsStore} from '~/stores/experiments'\nimport {initialStore, type InitialStore} from '~/stores/initial'\nimport {metaStore} from '~/stores/meta'\nimport {systemStore} from '~/stores/system'\nimport {translationsStore} from '~/stores/translations'\nimport {uatraitsStore} from '~/stores/uatraits'\n\nimport type {SystemStore} from '~/stores/system'\nimport type {AnswersShaker} from '~/types/answersShaker'\nimport type {Experiments} from '~/types/experiments'\nimport type {Meta} from '~/types/meta'\nimport type {Uatraits} from '~/types/uatraits'\n\nexport interface InitDataStoresProps {\n  answersShaker: AnswersShaker\n  experiments: Experiments\n  initial: InitialStore\n  system: SystemStore\n  uatraits: Uatraits\n  meta: Meta\n}\n\nexport const initDataStores = ({initial, system, uatraits, answersShaker, experiments, meta}: InitDataStoresProps) => {\n  systemStore.actions.init(system)\n  initialStore.actions.init(initial)\n  uatraitsStore.actions.init(uatraits)\n  experimentsStore.actions.init(experiments)\n  answersShakerStore.actions.init(answersShaker)\n  metaStore.actions.init(meta)\n  translationsStore.actions.init(meta.lang)\n}\n","import {App} from '~/app'\nimport {initDataStores} from '~/helpers/dataStores'\nimport {embedContainerElement, getTargetElement} from '~/helpers/dom'\nimport {applyTheme} from '~/helpers/theme'\nimport {type InitialStore} from '~/stores/initial'\nimport {render} from 'solid-js/web'\n\nimport type {SystemStore} from '~/stores/system'\nimport type {AnswersShaker} from '~/types/answersShaker'\nimport type {Experiments} from '~/types/experiments'\nimport type {Meta} from '~/types/meta'\nimport type {Paywall} from '~/types/paywall'\nimport type {Quiz} from '~/types/quiz'\nimport type {Uatraits} from '~/types/uatraits'\n\nimport type {DataLayerInappBridge} from './helpers/dataLayer'\n\nimport {CONTAINER_ID, INLINE_START_QUESTION_CONTAINER_ID} from './constants/common'\nimport {experimentsStore} from './stores/experiments'\n\nexport interface InitialCombined {\n  answersShaker: AnswersShaker\n  experiments: Experiments\n  paywall: Paywall\n  initial: InitialStore\n  quiz: Quiz\n  system: SystemStore\n  uatraits: Uatraits\n  meta: Meta\n}\n\ninterface RenderAppProps {\n  initialCombined: InitialCombined\n  destroy: () => void\n  forceShow?: boolean\n  inappBridge?: DataLayerInappBridge\n}\nexport const renderApp = ({initialCombined, destroy, forceShow, inappBridge}: RenderAppProps) => {\n  initDataStores(initialCombined)\n\n  let isCancelled = false\n  const isInline = experimentsStore.actions.test('containerMode', ['embedded'])\n  const useCompactOnly = experimentsStore.actions.test('templateMode', ['compact'])\n  const useInlineStartQuestion = experimentsStore.actions.isFeature('useInlineStartQuestion')\n  const renderPromise = (async () => {\n    // make this cancelable\n    const target = await getTargetElement(isInline)\n\n    if (isCancelled) {\n      return\n    }\n\n    const {root, container} = embedContainerElement(target, CONTAINER_ID)\n\n    applyTheme(container)\n\n    let inlineStartQuestionRoot: ShadowRoot | undefined\n    let inlineStartQuestionTarget: Element | undefined\n\n    if (useInlineStartQuestion) {\n      inlineStartQuestionTarget = await getTargetElement(true)\n      const {root, container} = embedContainerElement(inlineStartQuestionTarget, INLINE_START_QUESTION_CONTAINER_ID)\n      inlineStartQuestionRoot = root\n      applyTheme(container)\n    }\n\n    return render(\n      () => (\n        <App\n          inappBridge={inappBridge}\n          forceShow={forceShow}\n          destroy={destroy}\n          initialCombined={initialCombined}\n          target={target}\n          root={root}\n          isInline={isInline}\n          useCompactOnly={useCompactOnly}\n          inlineStartQuestionRoot={inlineStartQuestionRoot}\n          inlineStartQuestionTarget={inlineStartQuestionTarget}\n        />\n      ),\n      root,\n    )\n  })()\n\n  return {\n    promise: renderPromise,\n    cancel: () => {\n      isCancelled = true\n    },\n  }\n}\n","import {Logger} from '~/helpers/logger'\nimport {Observer} from '~/helpers/observer'\n\nimport type {WizardsRenderer} from '~/helpers/WizardsRenderer'\n\nimport type {Meta} from '../types'\n\nimport {buildMeta} from '../helpers/buildMeta'\nimport {withSafe} from '../helpers/withSafe'\n\ntype Callback = (props: {meta: Meta}) => void\ninterface Options {\n  id: string\n}\n\ntype OnReadyToShowParams = [Callback] | [Options, Callback]\n\ninterface ListenerProps {\n  internalId: string\n}\n\nconst onReadyToShowObserver = new Observer<[ListenerProps]>()\n\ninterface OnReadyToShowProps {\n  params: unknown\n  wizardsRenderer: WizardsRenderer\n}\nexport const onReadyToShow = ({params, wizardsRenderer}: OnReadyToShowProps) => {\n  const typedParams = params as OnReadyToShowParams\n\n  try {\n    const internalId = typeof typedParams[0] === 'object' ? typedParams[0].id : undefined\n    const fallbackId = internalId || wizardsRenderer.firstWizardInternalId\n    const callback = typeof typedParams[0] === 'object' ? typedParams[1] : typedParams[0]\n\n    if (!callback || !fallbackId) {\n      return\n    }\n\n    const handleChange = (internalId: string) => {\n      withSafe(callback)({meta: buildMeta(internalId)})\n    }\n\n    if (wizardsRenderer.isItemReadyToShow(fallbackId)) {\n      handleChange(fallbackId)\n    }\n\n    onReadyToShowObserver.on(({internalId: currentInternalId}) => {\n      if (fallbackId === currentInternalId) {\n        handleChange(currentInternalId)\n      }\n    })\n  } catch (error) {\n    // cannot control \"params\" type, so we need to catch the error\n    Logger.captureException(error)\n  }\n}\n\nexport const executeReadyToShowListener = ({internalId}: {internalId: string}) => {\n  onReadyToShowObserver.emit({internalId})\n}\n","import {Logger} from '~/helpers/logger'\n\nimport type {WizardsRenderer} from '~/helpers/WizardsRenderer'\n\ninterface DestroyProps {\n  wizardsRenderer: WizardsRenderer\n}\nexport const destroy = async ({wizardsRenderer}: DestroyProps) => {\n  try {\n    wizardsRenderer.resetItemsWithFormInternalId()\n  } catch (error) {\n    Logger.captureException(error)\n  }\n}\n","import {Logger} from '~/helpers/logger'\n\nimport type {WizardsRenderer} from '~/helpers/WizardsRenderer'\n\ninterface ShowOptions {\n  id?: string\n  force?: boolean // internal usage only\n}\n\ntype ParamsType = [ShowOptions] | undefined\n\ninterface ShowProps {\n  params: unknown\n  wizardsRenderer: WizardsRenderer\n}\nexport const show = async ({params, wizardsRenderer}: ShowProps) => {\n  try {\n    const typedParams = params as ParamsType\n    const options = typedParams?.[0]\n    wizardsRenderer.renderItem({id: options?.id, force: options?.force ?? true})\n  } catch (error) {\n    Logger.captureException(error)\n  }\n}\n","import type {ExternalCommand} from '~/types/common'\n\nimport type {WizardsRenderer} from '../WizardsRenderer'\n\nimport {getParentTracker} from '../getParentTracker'\nimport {destroy} from './commands/destroy'\nimport {onComplete, offComplete} from './commands/onComplete'\nimport {onReadyToShow} from './commands/onReadyToShow'\nimport {show} from './commands/show'\n\nexport const execute = (wizardsRenderer: WizardsRenderer) => {\n  const tracker = getParentTracker()\n\n  if (!tracker) {\n    return\n  }\n\n  let queue: ExternalCommand[] = []\n\n  try {\n    queue = tracker.quizzes.queue\n  } catch (_error) {\n    // ignore error, there is tracker incorrect version\n  }\n\n  while (queue.length) {\n    const command = queue.shift()\n\n    if (command) {\n      executeCommand(command, wizardsRenderer)\n    }\n  }\n\n  try {\n    tracker.quizzes.queue = {push: (command: ExternalCommand) => executeCommand(command, wizardsRenderer)}\n  } catch (_error) {\n    // ignore error, there is incorret version tracker\n  }\n}\n\nconst executeCommand = ({name, params}: ExternalCommand, wizardsRenderer: WizardsRenderer) => {\n  switch (name) {\n    case 'show':\n      show({params: params as any, wizardsRenderer})\n      break\n    case 'onReadyToShow':\n      onReadyToShow({params: params as any, wizardsRenderer})\n      break\n    case 'onComplete':\n      onComplete({params: params as any})\n      break\n    case 'offComplete':\n      offComplete({params: params as any})\n      break\n    case 'destroy':\n      destroy({wizardsRenderer})\n      break\n    default:\n      return\n  }\n}\n","import {removeContainersElements} from '~/helpers/dom'\nimport {renderApp} from '~/renderApp'\nimport {Visibility} from '~/types/visibility'\n\nimport type {TaskActionType} from '~/types/task'\nimport type {Wizard} from '~/types/wizard'\n\nimport type {DataLayerInappBridge} from './dataLayer'\nimport type {InitialData} from './loadInitialData'\n\nimport {DataLayer} from './dataLayer'\nimport {isFeature} from './experiments'\nimport {executeReadyToShowListener} from './externalCommands/commands/onReadyToShow'\nimport {execute as executeExternalCommands} from './externalCommands/execute'\n\ninterface ItemProps {\n  wizard: Wizard\n  taskAction: TaskActionType\n  deviceUuid: string\n  endpointId: string\n  sessionUuid: string\n  traceUuid: string\n  apiEndpoint: string\n  initialData: InitialData\n  inappBridge?: DataLayerInappBridge\n}\n\nclass Item {\n  public wizard: Wizard\n  private taskAction: TaskActionType\n  private deviceUuid: string\n  private endpointId: string\n  private sessionUuid: string\n  private traceUuid: string\n  private apiEndpoint: string\n  private initialData: InitialData\n  private inappBridge?: DataLayerInappBridge\n\n  public rendered: (() => void) | undefined\n  public cancelRendering: (() => void) | undefined\n\n  public isRendering = false\n\n  public constructor({\n    wizard,\n    taskAction,\n    deviceUuid,\n    endpointId,\n    sessionUuid,\n    traceUuid,\n    apiEndpoint,\n    initialData,\n    inappBridge,\n  }: ItemProps) {\n    this.wizard = wizard\n    this.taskAction = taskAction\n    this.deviceUuid = deviceUuid\n    this.endpointId = endpointId\n    this.sessionUuid = sessionUuid\n    this.traceUuid = traceUuid\n    this.apiEndpoint = apiEndpoint\n    this.initialData = initialData\n    this.inappBridge = inappBridge\n  }\n\n  public async render(force?: boolean) {\n    this.isRendering = true\n\n    try {\n      const appRendering = renderApp({\n        forceShow: force,\n        inappBridge: this.inappBridge,\n        initialCombined: {\n          answersShaker: this.wizard.answersShaker,\n          experiments: this.wizard.experiments,\n          paywall: this.wizard.paywall,\n          initial: {\n            action: this.wizard.action,\n            deviceUuid: this.deviceUuid,\n            endpointId: this.endpointId,\n            intent: this.taskAction,\n            sessionUuid: this.sessionUuid,\n            traceUuid: this.traceUuid,\n            visibility: this.wizard.visibility,\n            internalId: this.wizard.internalId,\n          },\n          quiz: this.wizard.quiz!,\n          system: {\n            apiEndpoint: this.apiEndpoint,\n          },\n          uatraits: this.initialData.uatraits,\n          meta: this.wizard.meta,\n        },\n        destroy: () => this.destroy(),\n      })\n\n      this.cancelRendering = () => appRendering.cancel()\n      this.rendered = await appRendering.promise\n    } catch (error) {\n      throw Error(`Failed to render wizard ${this.wizard.internalId}`, {cause: error})\n    } finally {\n      this.isRendering = false\n    }\n  }\n\n  public destroy() {\n    if (this.cancelRendering) {\n      this.cancelRendering()\n      this.cancelRendering = undefined\n    }\n\n    if (this.rendered) {\n      this.rendered()\n      this.rendered = undefined\n    }\n\n    this.isRendering = false\n    removeContainersElements()\n  }\n}\n\ninterface WizardsRendererProps {\n  taskAction: TaskActionType\n  deviceUuid: string\n  endpointId: string\n  sessionUuid: string\n  traceUuid: string\n  apiEndpoint: string\n  initialData: InitialData | null\n  inappBridge?: DataLayerInappBridge\n}\n\nexport class WizardsRenderer {\n  public items: Item[] = []\n\n  public firstWizardInternalId?: string\n\n  public constructor({\n    deviceUuid,\n    endpointId,\n    sessionUuid,\n    traceUuid,\n    apiEndpoint,\n    taskAction,\n    initialData,\n  }: WizardsRendererProps) {\n    if (!initialData) {\n      DataLayer.inappBridge?.rejectReadyToShow({message: 'there is no initial data'})\n      return\n    }\n\n    const {wizards = [initialData]} = initialData\n\n    this.firstWizardInternalId = wizards[0]?.internalId\n\n    const availableWizards: Wizard[] = []\n\n    wizards.forEach(wizard => {\n      if (isFeature('showWidget', wizard.experiments) && isFeature('ready', wizard.experiments) && wizard.quiz) {\n        availableWizards.push(wizard)\n        executeReadyToShowListener({internalId: wizard.internalId})\n        DataLayer.inappBridge?.resolveReadyToShow()\n        return\n      }\n\n      DataLayer.inappBridge?.rejectReadyToShow({message: 'there is no available wizard'})\n    })\n\n    this.items = availableWizards.map(\n      wizard =>\n        new Item({\n          wizard,\n          taskAction,\n          deviceUuid,\n          endpointId,\n          sessionUuid,\n          traceUuid,\n          apiEndpoint,\n          initialData,\n          inappBridge: DataLayer.inappBridge,\n        }),\n    )\n\n    executeExternalCommands(this)\n\n    if (\n      this.firstWizardItem &&\n      !this.firstWizardItem.wizard.formInternalId &&\n      !isFeature('manualShowing', this.firstWizardItem.wizard.experiments)\n    ) {\n      this.renderItem({ id: this.firstWizardItem.wizard.internalId })\n    }\n  }\n\n  private get firstWizardItem() {\n    // there is old logic - maybe improve it?\n    return this.items.find(({wizard}) => wizard.internalId === this.firstWizardInternalId)\n  }\n\n  private get renderedItem() {\n    return this.items.find(item => item.isRendering || item.rendered)\n  }\n\n  public renderItem({id, force}: {id?: string; force?: boolean}) {\n    const item = id ? this.items.find(item => item.wizard.internalId === id) : this.firstWizardItem\n\n    if (!item) {\n      return\n    }\n\n    if (!force && item.wizard.visibility === Visibility.HIDDEN) {\n      return\n    }\n\n    if (this.renderedItem) {\n      if (this.renderedItem.wizard.internalId === item.wizard.internalId) {\n        return\n      }\n\n      this.renderedItem.destroy()\n    }\n\n    item.render(force)\n  }\n\n  public isItemReadyToShow(internalId: string) {\n    return this.items.some(item => item.wizard.internalId === internalId)\n  }\n\n  public resetItemsWithFormInternalId() {\n    this.items = this.items.filter(item => {\n      if (item.wizard.formInternalId) {\n        item.destroy()\n      }\n\n      return !item.wizard.formInternalId\n    })\n  }\n\n  public reset() {\n    this.items.forEach(item => item.destroy())\n    this.items = []\n  }\n}\n","import {initExperimentsCookie} from '~/helpers/experiments'\nimport {loadInitialData} from '~/helpers/loadInitialData'\nimport {init as initSession} from '~/helpers/session'\nimport {v4 as uuidv4} from 'uuid'\n\nimport type {InitialData} from '~/helpers/loadInitialData'\nimport type {TaskType} from '~/types/task'\n\nimport {DataLayer} from './dataLayer'\nimport {initTokenCookie} from './token'\nimport {WizardsRenderer} from './WizardsRenderer'\n\nexport const taskInitApp = async (endpointId: string, task: TaskType) => {\n  const [action, additional] = task\n\n  const apiEndpoint = additional?.apiEndpoint\n  const traceUuid = additional?.traceUuid ?? uuidv4()\n  const sessionUuid = additional?.sessionUuid ?? initSession(traceUuid)\n  const deviceUuid = DataLayer.deviceUUID\n  const wizardId = DataLayer.wizardId\n\n  initExperimentsCookie()\n  initTokenCookie()\n\n  const initialData =\n    (window.QZ_INITIAL_DATA as InitialData) ||\n    (additional?.initialData\n      ? additional.initialData\n      : await loadInitialData({\n          endpointId,\n          apiEndpoint,\n          deviceUuid,\n          sessionUuid,\n          traceUuid,\n          ...(wizardId && {wizardId}),\n        }))\n\n  DataLayer.setWizardsRenderer(\n    new WizardsRenderer({\n      initialData,\n      taskAction: action,\n      deviceUuid,\n      endpointId,\n      sessionUuid,\n      traceUuid,\n      apiEndpoint,\n    }),\n  )\n\n  return {\n    initialData,\n    deviceUuid,\n    sessionUuid,\n    traceUuid,\n  }\n}\n","import {getParentTracker} from '../getParentTracker'\n\nexport const reset = () => {\n  const tracker = getParentTracker()\n\n  try {\n    tracker.quizzes.queue = []\n  } catch (_error) {\n    // ignore error, there is tracker incorrect version\n  }\n}\n","import {TASK_EXECUTOR_INTERVAL} from '~/constants/common'\nimport {compareInitialData} from '~/helpers/compareInitialData'\nimport {DataLayer} from '~/helpers/dataLayer'\nimport {locationObserver} from '~/helpers/locationObserver'\nimport {Logger} from '~/helpers/logger'\nimport {taskInitApp} from '~/helpers/tasks'\n\nimport type {TaskType} from '~/types/task'\n\nimport {reset as resetExternalCommands} from './externalCommands'\n\ntype OnTaskTickType = (\n  taskResult: Exclude<Awaited<ReturnType<typeof executeTask>>, null>,\n  previousTaskState: TaskType,\n) => Promise<void>\n\nconst internalTaskQueue: TaskType[] = []\n\nconst getTaskQueue = function () {\n  if (internalTaskQueue.length) {\n    return internalTaskQueue\n  }\n\n  return DataLayer.tasks\n}\n\nconst getNextTask = function () {\n  const taskQueue = getTaskQueue()\n  const task = taskQueue.shift()\n  if (!task) {\n    return null\n  }\n\n  return task\n}\n\nconst executeTask = async function (task: TaskType) {\n  const [action, params] = task\n\n  switch (action) {\n    case 'init':\n      await DataLayer.onInit(params)\n\n      return await taskInitApp(DataLayer.endpointId, task).catch(Logger.captureException)\n    case 'reInit':\n      return await taskInitApp(DataLayer.endpointId, task).catch(Logger.captureException)\n    default:\n      return null\n  }\n}\n\nexport function pushTask(task: TaskType) {\n  const taskQueue = getTaskQueue()\n  taskQueue.push(task)\n  return taskQueue\n}\n\nexport function taskExecutor(onTick?: OnTaskTickType) {\n  DataLayer.timers.setTaskExecutor(\n    window.setInterval(\n      (function taskExecutorTick() {\n        ;(async () => {\n          const task = getNextTask()\n          if (!task || task.length < 1 || task.length > 2) {\n            return\n          }\n\n          const taskResult = await executeTask(task).catch(Logger.captureException)\n          if (taskResult) {\n            if (onTick) {\n              await onTick(taskResult, task).catch(Logger.captureException)\n              return\n            }\n          }\n        })()\n        return taskExecutorTick\n      })(),\n      TASK_EXECUTOR_INTERVAL,\n    ),\n  )\n}\n\nexport function initTaskExecutor() {\n  taskExecutor(async taskResult => {\n    if (DataLayer.isSpa && taskResult) {\n      const {initialData, deviceUuid, traceUuid, sessionUuid} = taskResult\n\n      locationObserver(async destroyLocationObserver => {\n        await compareInitialData({\n          endpointId: DataLayer.endpointId,\n          apiEndpoint: DataLayer.params.apiEndpoint,\n          initialData,\n          deviceUuid,\n          traceUuid,\n          sessionUuid: 'rest',\n          onError: nextInitialData => {\n            destroyLocationObserver()\n\n            DataLayer.wizardsRenderer?.reset()\n            DataLayer.setWizardsRenderer(undefined)\n            resetExternalCommands()\n\n            pushTask([\n              'reInit',\n              {\n                apiEndpoint: DataLayer.params.apiEndpoint,\n                initialData: nextInitialData,\n                deviceUuid,\n                traceUuid,\n                sessionUuid,\n              },\n            ])\n          },\n        }).catch(Logger.captureException)\n      })\n    }\n  })\n}\n","import {debounce} from '@solid-primitives/scheduled'\nimport {TASK_EXECUTOR_INTERVAL} from '~/constants/common'\nimport {DataLayer} from '~/helpers/dataLayer'\nimport {Logger} from '~/helpers/logger'\nimport {initTaskExecutor} from '~/helpers/taskExecutor'\n\n// import 'solid-devtools'\n\ntry {\n  if (!DataLayer.appRunner) {\n    DataLayer.setAppRunner(\n      debounce(async function runQuizzes() {\n        if (DataLayer.ready) {\n          return\n        }\n\n        DataLayer.beforeInit()\n        initTaskExecutor()\n      }, TASK_EXECUTOR_INTERVAL),\n    )\n  }\n\n  DataLayer.appRunner!()\n} catch (error) {\n  Logger.captureException(error)\n}\n"],"names":["sharedConfig","getContextId","count","num","len","equalFn","a","b","$PROXY","SUPPORTS_PROXY","$TRACK","signalOptions","runEffects","runQueue","STALE","PENDING","UNOWNED","NO_INIT","Owner","Transition","ExternalSourceConfig","Listener","Updates","Effects","ExecCount","createRoot","fn","detachedOwner","listener","owner","unowned","current","root","updateFn","untrack","cleanNode","runUpdates","createSignal","value","options","s","setter","writeSignal","readSignal","createComputed","c","createComputation","updateComputation","createRenderEffect","createEffect","runUserEffects","createMemo","isPromise","v","createResource","pSource","pFetcher","pOptions","source","fetcher","pr","initP","scheduled","resolved","dynamic","contexts","setValue","error","setError","track","trigger","state","setState","loadEnd","p","key","completeLoad","err","read","SuspenseContext","load","refetching","lookup","castError","e","batch","onMount","onCleanup","getListener","getOwner","runWithOwner","o","prev","prevListener","handleError","startTransition","l","t","transPending","setTransPending","useTransition","createContext","defaultValue","id","createProvider","useContext","context","children","memo","resolveChildren","updates","lookUpstream","sSlot","node","isComp","i","TransitionRunning","markDownstream","time","runComputation","nextValue","init","pure","runTop","ancestors","wait","res","completeUpdates","queue","userLength","ignore","index","obs","n","results","result","props","FALLBACK","dispose","d","mapArray","list","mapFn","items","mapped","disposers","indexes","newItems","newLen","j","newIndices","newIndicesNext","temp","tempdisposers","tempIndexes","start","end","newEnd","item","disposer","mapper","set","indexArray","signals","createComponent","Comp","trueFn","propTraps","_","property","receiver","resolveSource","resolveSources","length","mergeProps","sources","proxy","keys","sourcesMap","defined","sourceKeys","desc","target","definedKeys","splitProps","blocked","k","otherObject","objects","propName","isDefaultDesc","objectIndex","narrowedError","name","For","fallback","Index","Show","keyed","condition","child","Switch","equals","conditions","evalConditions","conds","when","cond","Match","booleans","Properties","ChildProperties","Aliases","PropAliases","getPropAlias","prop","tagName","DelegatedEvents","SVGElements","SVGNamespace","reconcileArrays","parentNode","bLength","aEnd","bEnd","aStart","bStart","after","map","sequence","$$EVENTS","render","code","element","insert","template","html","isImportNode","isSVG","create","delegateEvents","eventNames","document","eventHandler","setAttribute","setAttributeNS","namespace","setBoolAttribute","className","addEventListener","handler","delegate","handlerFn","classList","classKeys","prevKeys","toggleClassKey","classValue","style","nodeStyle","spread","skipChildren","prevProps","insertExpression","use","assign","arg","parent","accessor","marker","initial","skipRef","assignProp","toPropertyName","w","classNames","nameLen","isCE","isProp","isChildProp","propAlias","forceProp","h","ns","oriTarget","oriCurrentTarget","retarget","handleNode","data","walkUpTree","path","unwrapArray","multi","cleanChildren","array","currentArray","normalizeIncomingArray","appendNodes","normalized","unwrap","replacement","inserted","el","isParent","SVG_NAMESPACE","createElement","Portal","useShadow","mount","content","hydrating","clean","setClean","cleanup","container","renderRoot","Dynamic","others","cached","component","isSvg","debounce","callback","timeoutId","clear","args","throttle","isThrottled","lastArgs","throttled","Subdivision","TrackerName","TASK_EXECUTOR_INTERVAL","LOCATION_OBSERVER_INTERVAL","SUBDIVISION","TRACKER_NAME_MAP","TRACKER_NAME","URL_SEARCH_PARAM_PREFIX","COOKIE_SETTINGS","COOKIE_QZ_SESSION_NAME","COOKIE_QZ_AB_NAME","COOKIE_QZ_TOKEN_NAME","SEARCH_PARAM_QZ_AB","SEARCH_PARAM_TOKEN","HEADER_QZ_AB","HEADER_QZ_TOKEN","INLINE_TARGET_ID","CONTAINER_ID","INLINE_START_QUESTION_CONTAINER_ID","DEFAULT_LANG","getParentTracker","getTrackerVariable","method","resolve","reject","parentTracker","getDeviceUuid","getEndpointId","dataLayerRef","_taskExecutor","_locationObserver","Timers","__privateGet","timer","__privateSet","__privateAdd","_init","_reInit","Events","initEvent","reInitEvent","_endpointId","_deviceUUID","_wizardId","_params","_appRunner","_isSpa","_lastLocationHref","_wizardsRenderer","_DataLayer_static","setReady_fn","setEndpointId_fn","setWizardId_fn","setDeviceUUID_fn","setParams_fn","_setSpaMark","_inappBridge","_DataLayer","wizardsRenderer","sdkBridge","resolveReadyToShow","rejectReadyToShow","_error","_payload","respond","endpointId","wizardId","deviceUUID","params","mark","locationHref","_a","_b","_c","_d","_e","_f","config","getConfigFromBridgeResolve","_config","getConfigFromBridge","sdkBridgeConfig","__privateMethod","locationObserverTimer","taskExecutorTimer","DataLayer","Logger","abortControllerRegistry","useAbortController","abortController","newAbortController","Action","Visibility","$RAW","$NODE","$HAS","$SELF","wrap$1","proxyTraps$1","isWrappable","obj","proto","unwrapped","getNodes","symbol","nodes","getNode","proxyDescriptor$1","trackSelf","ownKeys","tracked","setProperty","deleting","mergeStoreNode","updateArray","next","updatePath","traversed","part","partType","isArray","from","to","by","createStore","store","unwrappedStore","wrappedStore","setStore","$ROOT","applyState","merge","previous","keyVal","targetKeys","previousKeys","reconcile","byteToHex","unsafeStringify","arr","offset","getRandomValues","rnds8","rng","randomUUID","native","v4","buf","rnds","getDefaultStore","createAnswersStore","answer","prevAnswers","answers","questionName","questionIndex","removedAnswers","answersStore","createInitialStore","lastAnswersCount","answersCount","prevInitial","initialStore","AppContext","useAppContext","StylingContext","useStylingContext","r","u","f","useStyledUtils","css","createUatraits","uatraits","prevStore","uatraitsStore","isMobile","deepMerge","sourceValue","targetValue","defaultTheme","createMetaStore","metaStore","DEFAULT_Z_INDEX","applyTheme","zIndex","useTheme","getClasses","maxLines","theme","LabelFilledStyles","LabelClass","InputClass","TextField","localProps","restProps","multiline","Number","rows","TextFieldClass","FilledClass","InvalidClass","TextareaClass","_el$","_tmpl$","_el$2","firstChild","_el$3","_$insert","_c$","_$memo","_el$4","_tmpl$2","$$input","onChange","event","currentTarget","_$p","_$classList","_el$5","_tmpl$3","_$className","label","required","Boolean","isInvalid","_$delegateEvents","FreeformAnswer","handleChange","onWithConfirmationChange","_$createComponent","question","placeholder","size","colorMode","textAlign","Heading","HeadingClass","_$spread","_$mergeProps","class","innerHTML","AVAILABLE_SYMBOLS","sanitizeText","text","regexp","parseMarkdownLinks","parseMarkdownText","sanitizedText","Checkmark","_$effect","_p$","_v$","_v$2","color","_$setAttribute","undefined","Cross","DownChevron","FaceSad","LeftArrow","MagicSearch","nextSibling","_v$3","_v$4","Picture","Refresh","RightArrow","RightChevron","Sort","iconComponentsMap","cross","refresh","sort","picture","checkmark","Icon","IconClass","ImageComponent","icon","Caption","CaptionClass","FakeClass","CheckboxCheckedClass","Checkbox","mergedProps","asInput","CheckboxClass","TextClass","checked","type","colors","primaryInvert","BaseOption","BaseOptionClass","_$addEventListener","onClick","ImageOption","ImageOptionClass","image","TextImageOption","TextImageOptionClass","RadioRoundClass","img","Option","InnerClass","SelectedClass","RadioClass","ImageTextInnerClass","ImageClass","ImageTextSwitcherClass","isSelected","_el$6","_el$7","_el$8","Template","Options","OptionsClass","Grid2Class","values","includes","some","option","primaryImage","Grid2","Base","each","optionType","Paragraph","ParagraphClass","noop","noopTransition","done","createSwitchTransition","initSource","initReturned","onEnter","onExit","returned","setReturned","isTransitionPending","isExiting","exitTransition","enterTransition","triggerTransitions","defaultElementPredicate","getFirstChild","predicate","resolveFirst","serverPredicate","children2","createClassnames","nextFrame","classes","events","onBeforeEnter","onAfterEnter","endTransition","onBeforeExit","onAfterExit","TRANSITION_MODE_MAP","classnames","THROTTLE_TIMEOUT","useThrottledOption","throttledOption","setThrottledOption","lastUpdateTs","updateTimeout","prevOption","lastTsDiff","ENTER_TRANSITION","EXIT_TRANSITION","EXIT_STYLES","opacity","transform","ENTER_STYLES","ActiveOption","handleEnter","animate","duration","easing","finished","then","handleExit","getCoords","center","radius","angle1","angle2","x1","y1","x2","y2","SVG_PADDING","BUTTON_POS_RADIUS","TEXT_POS_RADIUS","MAX_SEGMENTS_COUNT","SVG_WIDTH","START_ANGLE","Math","PI","CENTER_COORDS","x","y","INNER_ANGLE","Sectors","SvgClass","GrayButtonClass","ButtonLabelClass","BlueButtonClass","GrayButtonLabelClass","BlueButtonLabelClass","BackgropImageClass","VisibleClass","isActiveOptionIndex","hoveredIndex","selectedIndex","sectors","textCoords","buttonCoords","push","midX","mixY","button","angle","atan2","sector","_el$9","onHover","$$click","onSelect","_v$5","_v$6","_v$7","_v$8","_v$9","_v$10","RadialInput","setHoveredIndex","ActiveOptionClass","RadialInputClass","LabelsClass","SvgContainer","getSelectedIndex","findIndex","getActiveOption","selectedOptionIndex","minLabel","maxLabel","_c$2","_c$3","RatingButton","RatingButtonClass","RatingInput","RatingInputClass","MinLabelClass","MaxLabelClass","ScaleAnswer","getOptions","onWithoutConfirmationChange","viewType","SingleAnswer","MultipleOptions","newValue","newValues","filter","selectedValue","MultipleAnswer","Answer","getQuestionMethods","Component","QUESTIONS_PREFIX","parseSearchParamsAnswers","prefix","sanitizeAnswers","dirtyAnswers","quiz","validQuestion","answerMethods","validAnswers","createPredefinedAnswersStore","searchParamsAnswers","sanitizedSearchParamsAnswers","predefinedAnswersStore","createAnswersShakerStore","answersShakerStore","generateHash","str","hash","sendGa","trackerEvent","quizSlug","quizStore","CLIENT_21VEKBY_HASH","CLIENT_21VEKBY_INTEGRATIONS","product","createIntegrationsStore","integrations","integration","integrationsStore","createMetricsStore","screen","metricsStore","createPaywallStore","paywall","paywallStore","createScreen","screenStore","createSystemStore","paramDebug","system","systemStore","ActionToCompetence","saveCompetence","restPayload","isDebug","action","payload","response","appApiFetch","actionReducer","actionExpand","actionClose","actionBack","actionCollapse","actionRestart","actionClosePromo","actionGoSuggestions","actionClosePaywall","actionShow","actionShowInlineStartQuestion","actionGoItem","position","actionSkipPaywall","updateSkippedField","field","prevFields","actionSavePaywall","fields","filledField","maxStepsToFinish","questions","startDepth","startQuestion","acc","stepsToFinishCache","dfs","depth","stack","maxDepth","getAvailableOptions","currentDepth","generateCombinations","input","currentCombination","currentItem","newCombination","flattenAndSortArrayOfArrays","inputArray","flattenedArray","prefferedLastItem","subArray","existingItem","answersShaker","answersPaths","pathOptions","currentNodePointer","answerMap","currentOptionKeys","filteredOptions","goToItemPage","suggestions","_id","getProgressPercent","extraStepsCount","maxStepsCount","finishedStepsCount","getSkipInfo","startQuestionName","predefinedAnswers","extractOptions","questionMethods","allOption","questionPredefinedAnswers","getNextQuestion","defaultGetSkipInfo","defaultGetQuestionMethods","nextQuestion","skippedQuestionAnswer","getFreeformMethods","isReady","arrayToValue","optionToValue","optionValue","isValid","parse","getNext","hasNextQuestion","getMultipleMethods","isSkippableByAll","getOptionNext","getAnswersArr","getScaleMethods","getSingleMethods","getSystemMethods","QuizType","WidgetType","createQuizStore","getWidgetType","isDict","isRecordDict","visitDict","flat_dict","dict","key_path","flatten","resolveTemplate","string","identityResolveTemplate","translator","resolveTemplate2","chainedTranslator","init_dict","translate","DICTIONARIES","enI18n","ruI18n","FLATTEN_DICTIONARIES","flattenDictionaries","dictionaryKey","getTranslationGetter","lang","pluralizedKeyPath","flattenDictionary","rule","expectedPluralizedKey","getDictionaryLang","langs","findLang","currentLang","lowerCaseLang","mostFittedLang","lowerCaseShortLang","initTranslations","fittedLang","createTranslationsStore","translationsStore","defaultConverter","converter","defaultAttributes","attributes","stringifiedAttributes","attributeName","get","cookies","jar","parts","found","api","QzCookies","Cookies","setExperimentsCookie","experiments","parseAb","getExperimentsCookie","fromCookie","packExperimentsHeader","queryExperiment","getExperiment","testExperiment","testValue","isFeature","initExperimentsCookie","ab","getExperimentsHeader","initTokenCookie","token","setTokenCookie","getTokenHeader","apiFetch","pathname","apiEndpoint","userData","body","headers","traceUuid","deviceUuid","sessionUuid","actUuid","loadInitialData","characterSet","getSignal","fastDeepEqual","equal","compareInitialData","initialData","onSuccess","onError","nextInitialData","isEqual","locationObserver","currentLocationHref","session","globalObserver","waitForElement","selector","observer","getTargetElement","isInline","embedContainerElement","containerId","removeContainersElements","containers","inlineStartQuestionContainers","fetchFallback","fetchRequest","fetchFn","requestContext","requestData","contentType","isOptions","fetcherArgsFromArgs","info","createFetch","urlAccessor","fetcherArgs","modifiers","fetchContext","modifier","wrapFetcher","wrapper","originalFetcher","withCatchAll","originalResource","defaultWait","attempt","withRetry","retries","verify","waitForAttempt","wrappedFetcher","withAggregation","dataFilter","getFullAnswers","slug","prepareSlugs","baseSlug","slugs","START_TIMEOUT","withBaseRetry","retryIndex","PREVIEW_API_METHOD","DEFAULT_STORE_DATA","createPreviewStore","setIsReady","buildBody","intent","refetch","mutate","previewStore","createQuestionStore","questionStore","initStateStores","resetStateStores","Button","ButtonClass","FullWidthClass","WithIconClass","IconColorMap","primary","secondary","fullWidth","useTranslations","translations","Image","NoImageClass","NoImageLabelClass","PreloaderOverlayClass","ImageContainerClass","isLoading","setIsLoading","finishLoad","hasError","setHasError","dummyType","getOptionsMap","optionsMap","useGetWidthMode","mediumBreakpoint","compactBreakpoint","calcWidthMode","width","widthMode","setWidthMode","handleResize","getHostStyles","Layout","LAYOUT_BREAKPOINTS","createExperimentsStore","experimentsStore","isPaywallFieldRequired","paywallExp","isLeadCollectingRequired","email","phone","goFinish","goNext","onQuestion","useAutoFinish","initWidget","showQuiz","selectAnswer","InlineStartQuestionWidget","computed","ContainerClass","TitleClass","DescriptionClass","ContentClass","getWidthMode","MEDIUM","COMPACT","imageUrl","images","widget","inlineStartQuestion","full","description","src","ViewSettingsContext","isCompact","ViewSettingsProvider","Provider","useViewSettings","InlineLayout","isInInapp","FullscreenPositioner","PositionerClass","SimpleCloseButton","SimpleCloseButtonClass","FittedOverlapLayout","PositionerInnerClass","CloseClass","OverlayClass","onClose","MOBILE_BREAKPOINT","useGetIsCompact","useCompactOnly","breakpoint","calcIsCompact","setIsCompact","startQuiz","useResizeReset","isCompactAcc","prevIsCompact","Container","calcPopupDesktopPlacementStyles","placement","PopupPositioner","PopupPositionerClass","DESKTOP_WIDGET_WIDTH","hasClose","Popup","PopupClass","CornerPopup","defaultPlacement","horizontal","parseInt","spacing","s20","vertical","desktop","InlinePopup","Body","BodyClass","MaestraLogo","MindboxLogo","FONT_SIZE","PoweredBy","PoweredByClass","MaestraLogoClass","MindboxLogoClass","poweredBy","Maestra","Mindbox","PERCENT_REG","calcText","percentStr","replace","ProgressBar","ProgressBarClass","Bar","percent","caption","suggestionsReadyForPercent","FillClass","removeProperty","isPoweredByEnabled","Description","Navs","NavsClass","Title","NavigableForm","initScreen","useClose","destroy","getPhoneNumbers","useField","validator","stateVal","prevState","getNumbersMask","mask","char","isCountryPhoneValid","countryCode","countries","masks","FormContext","phoneCountries","checkboxesFields","phoneCountryCode","Form","checkboxes","phoneCountryCodeSignal","present","getValues","Object","reduce","fieldName","hasUncheckedCheckbox","hasCheckboxesTouched","isTouched","hasTouched","canSubmitted","handleSubmit","preventDefault","forEach","actions","setTouched","onSubmit","useFormContext","CheckboxesFields","CheckboxesFieldsClass","checkbox","onFocus","resetError","onBlur","stringMaskRegExp","stringMaskToArray","regexps","regexMaskToFn","regex","replacer","selection","maskArrayToFn","maskArray","pos","maskItem","match","anyMaskToFn","createInputMask","maskFn","ev","ref","Item","ItemClass","clickOutside","handleClickOutside","Menu","MenuClass","ItemsClass","onClickOutside","Dropdown","getCountryFlagEmoji","flagEmoji","getFittedMask","valueNumbers","maskNumbers","findMasksCommonPrefix","HEIGHT","PhoneField","inputRef","isCountriesListOpen","setIsCountriesListOpen","openCountriesList","closeCountriesList","country","find","PhoneFieldClass","ListToggleClass","DividerClass","FlagContainerClass","CountriesListClass","CountryLabelClass","DropdownItemInnerClass","handleCountryCodeChange","onCountryCodeChange","focus","handleFocus","handleInput","maskedValue","_ref$","_$use","Fields","FieldsClass","setPhoneCountryCode","yourName","yourEmail","LeadForm","getPrevQuestion","lastAnswer","prevQuestion","shouldSkip","goPrev","goLast","LeadScreen","isNeedLeadForm","setIsNeedLeadForm","toggleIsNeedLeadForm","prevValue","handleAcceptPrerequest","setIsPrerequestOpen","onIsLeadRequiredChange","handleLeadFormBack","isNeedPrerequest","lead","title","inputYourLeadDataAndGetOffers","yourOpinionIsHelpful","isPrerequestOpen","canToGetMyContacts","back","continue","disabled","send","EXIT_OPACITY","ENTER_OPACITY","QuestionTransition","AnimationIsRunningClass","isAnimationRunning","setIsAnimationRunning","mode","isAnswerReady","hasNextQuestions","hasNextQuestionAfterConfirmation","getLastQuestionContunueLabel","getQuestionContinueLabel","goNextAfterQuestionConfirm","answerValue","isStartQuestion","QuizScreen","goNextWithSkipAnswer","setAnswers","main","skip","skipOption","Preloader","PreloaderClass","StatusBlock","StatusBlockClass","InfoClass","ButtonContainerClass","StatusIcon","StatusIconClass","backgroundColor","trackFinalBtnClicked","finalData","FinalStatus","ThanksSheet","PreloaderContainerClass","ICON_SETTINGS_BY_STATUS_MAP","SUCCESS","accent","success","handleButtonClick","finalScreenData","json","yourAnswersAreSending","thanksForYourAnswers","yourAnswersAreHelpful","href","inappBridge","close","status","Observer","currentListener","buildMeta","withSafe","subscribedCallbacksMap","onCompleteObserver","onComplete","safeCallback","executeCompleteListeners","wizardInternalId","offComplete","subscribedCallbacks","trackComplete","completeStore","RECOMMEND_API_METHOD","COMPLETE_API_METHOD","getCompleteApiMethod","createCompleteStore","getDefaultStoreData","surveyCompleteStore","ThanksScreen","hasMounted","closeWidget","fetch","reset","resource","loading","SurveyWidget","isNeedLeadPrerequest","test","isLeadPrerequestOpen","setIsLeadPrerequestOpen","isLeadScreenRequired","setIsLeadScreenRequired","isLeadStepRequired","max","getContainer","getIsCompact","isInlineStartQuestion","goPromo","forceShow","visibility","PROMO_DELAY","useGoPromo","goPromoTimeout","setGoPromoTimeout","goPromoTimeoutVal","PopupLayout","innerRef","handleClose","isLeadgenQuizCompleted","goMinimalOrReset","buildMDesktopStyles","stylesArg","secondaryInvert","getIconButtonEdge","IconButton","IconButtonClass","IconSizeMap","m","SheetContext","scrolled","bottom","height","overlayType","SheetProvider","isContentScrolledSignal","bottomHeightSignal","useSheet","overlayMode","Bottom","bottomRef","setHeight","BottomClass","updateBottomHeight","getBoundingClientRect","resetBottomHeight","removeEventListener","Overlay","useFullheightOverlay","inert","isContentOverlayUsed","Content","contentRef","InnerSizeClass","WithBottomOverlayClass","ScrollContainerClass","setIsContentScrolled","bottomHeight","useContentOverlay","isBottomOverlayEnabled","setIsBottomOverlayEnabled","handleContentScroll","contentClientRect","innerClientRect","round","_ref$2","_$style","getSheetHeaderMinHeight","Header","isContentScrolled","HeaderClass","CenterClass","ShadowedClass","ControlClass","left","right","SingleControl","SingleControlClass","Sheet","LeadgenFinalSheet","LeadgenFinalScreen","goRestart","CARD_TYPE","isValidCardType","cardType","getSuggestionCardType","productCardType","getSuggestionsCountText","pluralizationForms","noun","matcherCompleteStore","Empty","cannotFindSuggestions","restartAndChangeAnswers","onRestart","restartQuiz","fill","medium","isOpen","setIsOpen","handleOpen","sortType","SortClass","DropdownMenuClass","sortDownByRecommended","sortUpByPrice","sortDownByPrice","getLineClampStylesArg","CardClass","TextOverflowClass","PriceContainerClass","PriceInnerClass","NameClass","SuggestionItem","SuggestionItemClass","NoPriceSuggestionsItemClass","NewPriceClass","OldPriceClass","price","oldPrice","link","GridType","gridType","List","MIN_160PX_COLUMNS","TWO_COLUMNS","ONE_COLUMN","closeIcon","sortedSuggestions","itemA","itemB","price_raw","CountClass","headerClass","onSort","suggestionItem","old_price","onGoToItemPage","prepareTheFinalSuggestions","BasePreloader","SuggestionsSheet","buildMMobileStyles","Footer","FooterClass","Dialog","hasSkipButton","SkipButtonClass","BaseLeadForm","onSkip","accept","LeadCollector","TitleMClass","TitleSClass","inputYourLeadData","inputYourLeadDataAndSeeSuggestions","MatcherFinalSheet","LeadCollectorContainerClass","setSortType","handleSkipLeadCollector","onLeadCollectorClose","onSkipPaywall","isLeadCollectorOpen","suggestedForYou","features","disableSorting","renderRestartButton","onSavePaywall","useCloseFinal","useIsLeadCollectorOpen","setIsLeadCollectorOpen","MatcherFinalScreen","closeFinal","goToItemPageFromFinal","FinalScreen","widgetType","isSuggestions","isLeadgen","FixedHeightLayout","FixedHeightLayoutClass","FullscreenLayout","LeadSheet","DialogContainerClass","SheetContentClass","isOptional","goFinal","StartButton","StartButtonClass","suggestProduct","calcDesktopPlacementStyles","CornerPositioner","CornerPositionerClass","CornerLayout","s24","useCommonHandlers","cancelPromo","handleStartQuiz","MinimalScreen","minimalTitle","BottomPositioner","BottomPositionerClass","extraOffset","bottomOffset","mobile","s12","PromoScreen","HideButtonClass","hide","innerVerticalPadding","scrollbarOverflowSpacing","OptionsContainer","scrollableContainerRef","isOverlayEnabled","setIsOverlayEnabled","ScrollHiderClass","ScrollableContainerClass","updateOverlays","s4","CenteredPreloader","hasSingleNext","questionAccessor","goToItemPageFromPreview","goNextDirectly","isOneSide","isHeaderUsed","OptionsContainerClass","QuestionLabelClass","QuestionContainerClass","ContentInnerClass","FilledRightSheetContainer","NextButtonClass","QuestionTransitionClass","QuestionContentClass","UpperDescriptionClass","disablePreview","isSuggestionsPreviewLoading","hideQuestionImage","progressBar","questionVal","alreadyRecommend","OverlapLayout","OverlapLayoutClass","Preview","returnToQuiz","PreviewTooltip","ImageContainerBackdropClass","PreviewTooltipClass","isPreviewOpen","setIsPreviewOpen","openPreview","closePreview","previewSuggestions","TwoSidesWidget","go","cancel","DesktopQuizScreen","DesktopFinalScreen","DesktopLeadScreen","MobileQuizScreen","MobileFinalScreen","MobileLeadScreen","DesktopMinimalScreen","DesktopPromoScreen","MobileMinimalScreen","MobilePromoScreen","App","initialCombined","globalStyles","typography","fontFamily","embeddingRoot","inlineStartQuestionRoot","isSurvey","inlineStartQuestionTarget","initDataStores","meta","renderApp","isCancelled","useInlineStartQuestion","promise","onReadyToShowObserver","onReadyToShow","typedParams","fallbackId","internalId","currentInternalId","executeReadyToShowListener","show","execute","tracker","command","executeCommand","wizard","taskAction","force","appRendering","WizardsRenderer","wizards","availableWizards","executeExternalCommands","taskInitApp","task","additional","uuidv4","initSession","internalTaskQueue","getTaskQueue","getNextTask","executeTask","pushTask","taskQueue","taskExecutor","onTick","taskExecutorTick","taskResult","initTaskExecutor","destroyLocationObserver","resetExternalCommands"],"mappings":"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ACA,MACJ,CACA,CACA,SAASC,EAAMxE,EAAO,CACpB,OAAOA,CACT,CC5kDA,MAAMyE,GAAW,CACf,kBACA,QACA,YACA,WACA,UACA,WACA,UACA,WACA,iBACA,SACA,gBACA,QACA,QACA,OACA,WACA,QACA,WACA,aACA,OACA,cACA,WACA,WACA,WACA,WACA,UACF,EACMC,GAA2B,IAAI,IAAI,CACvC,YACA,QACA,WACA,iBACA,QACA,WACA,cACA,GAAGD,EACL,CAAC,EACKE,GAAgC,IAAI,IAAI,CAC5C,YACA,cACA,YACA,UACF,CAAC,EACKC,GAAwB,OAAO,OAAO,OAAO,OAAO,IAAI,EAAG,CAC/D,UAAW,QACX,QAAS,KACX,CAAC,EACKC,GAA4B,OAAO,OAAO,OAAO,OAAO,IAAI,EAAG,CACnE,MAAO,YACP,eAAgB,CACd,EAAG,iBACH,OAAQ,EACR,MAAO,CACR,EACD,MAAO,CACL,EAAG,QACH,IAAK,CACN,EACD,SAAU,CACR,EAAG,WACH,OAAQ,CACT,EACD,YAAa,CACX,EAAG,cACH,MAAO,CACR,EACD,SAAU,CACR,EAAG,WACH,MAAO,EACP,SAAU,CACX,CACH,CAAC,EACD,SAASC,GAAaC,EAAMC,EAAS,CACnC,MAAMlN,EAAI+M,GAAYE,CAAI,EAC1B,OAAO,OAAOjN,GAAM,SAAYA,EAAEkN,CAAO,EAAIlN,EAAE,EAAO,OAAaA,CACrE,CACA,MAAMmN,GAAgC,IAAI,IAAI,CAC5C,cACA,QACA,WACA,cACA,UACA,WACA,QACA,UACA,QACA,YACA,YACA,WACA,YACA,UACA,cACA,cACA,aACA,cACA,YACA,WACA,YACA,YACF,CAAC,EACKC,GAA4B,IAAI,IAAI,CACxC,WACA,cACA,eACA,UACA,eACA,gBACA,mBACA,SACA,WACA,gBACA,SACA,OACA,OACA,UACA,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,eACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,eACA,SACA,OACA,YACA,m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","x_google_ignoreList":[0,1,2,12,13,14,15,16,21,65,66,67,112,115,121,127,199]}